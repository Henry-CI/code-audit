# Pass 2 Test-Coverage Audit
**Audit run:** 2026-02-26-01
**Agent ID:** A55
**Files audited:**
- `src/main/java/com/bean/PreOpsReportFilterBean.java`
- `src/main/java/com/bean/ProfileBean.java`
- `src/main/java/com/bean/QuestionBean.java`

**Dependency read (not under audit, read for context):**
- `src/main/java/com/bean/ReportFilterBean.java`

---

## 1. Reading-Evidence Blocks

### 1.1 PreOpsReportFilterBean

**File:** `src/main/java/com/bean/PreOpsReportFilterBean.java`
**Package:** `com.bean`
**Annotations:** `@Data`, `@EqualsAndHashCode(callSuper = true)`
**Superclass:** `ReportFilterBean` (implements `DateBetweenFilter`, `UnitManufactureFilter`, `UnitTypeFilter`)

**Fields:** None declared directly (all fields inherited from `ReportFilterBean`).

**Inherited fields (from `ReportFilterBean`):**
| Field | Type |
|---|---|
| `startDate` | `Date` |
| `endDate` | `Date` |
| `manuId` | `Long` |
| `typeId` | `Long` |
| `timezone` | `String` |

**Methods (declared):**

| Method | Line | Notes |
|---|---|---|
| `PreOpsReportFilterBean(Date, Date, Long, Long, String)` | 13 | `@Builder`-annotated constructor; delegates to `super(startDate, endDate, manuId, typeId, timezone)` |

**Methods (generated by Lombok `@Data` + `@EqualsAndHashCode(callSuper = true)`, inherited field coverage):**

| Generated method | Notes |
|---|---|
| `getStartDate()` | Inherited field accessor via `@Data` |
| `getEndDate()` | Inherited field accessor via `@Data` |
| `getManuId()` | Inherited field accessor via `@Data` |
| `getTypeId()` | Inherited field accessor via `@Data` |
| `getTimezone()` | Inherited field accessor via `@Data` |
| `setStartDate(Date)` | Inherited field mutator via `@Data` |
| `setEndDate(Date)` | Inherited field mutator via `@Data` |
| `setManuId(Long)` | Inherited field mutator via `@Data` |
| `setTypeId(Long)` | Inherited field mutator via `@Data` |
| `setTimezone(String)` | Inherited field mutator via `@Data` |
| `equals(Object)` | `callSuper = true` means parent fields participate |
| `hashCode()` | `callSuper = true` means parent fields participate |
| `toString()` | Generated by `@Data` |
| `PreOpsReportFilterBean.builder()` | Static factory from `@Builder` |

**Interface methods overridden in `ReportFilterBean` (inherited into `PreOpsReportFilterBean`):**

| Method | Lines in ReportFilterBean | Logic |
|---|---|---|
| `start()` | 22-24 | Returns `startDate` if non-null, else `Calendar.getInstance().getTime()` |
| `end()` | 27-29 | Returns `endDate` if non-null, else `Calendar.getInstance().getTime()` |
| `manufactureId()` | 32-34 | Returns `manuId` |
| `type()` | 37-39 | Returns `typeId` |
| `timezone()` | 41-44 | Returns `timezone` |

---

### 1.2 ProfileBean

**File:** `src/main/java/com/bean/ProfileBean.java`
**Package:** `com.bean`
**Annotations:** None
**Superclass:** `Object` (implicit)
**Interfaces:** None

**Fields:** None.

**Methods:**

| Method | Line | Notes |
|---|---|---|
| `ProfileBean()` | 5-7 | No-arg constructor; body contains only auto-generated stub comment; no logic |

---

### 1.3 QuestionBean

**File:** `src/main/java/com/bean/QuestionBean.java`
**Package:** `com.bean`
**Annotations:** `@Data`, `@NoArgsConstructor`
**Interfaces:** `Serializable`

**Fields:**

| Field | Type | Default | Line |
|---|---|---|---|
| `serialVersionUID` | `static final long` | `-697498145689541652L` | 14 |
| `id` | `String` | `null` | 15 |
| `content` | `String` | `null` | 16 |
| `expectedanswer` | `String` | `null` | 17 |
| `order_no` | `int` | `0` (default) | 18 |
| `active` | `String` | `null` | 19 |
| `type_id` | `String` | `null` | 20 |
| `manu_id` | `String` | `null` | 21 |
| `fuel_type_id` | `String` | `null` | 22 |
| `attachment_id` | `String` | `null` | 23 |
| `comp_id` | `String` | `null` | 24 |
| `answer_type` | `String` | `null` | 25 |
| `barCodeY` | `String` | `null` | 26 |
| `barCodeN` | `String` | `null` | 27 |
| `copied_from_id` | `String` | `null` | 28 |

**Methods (declared):**

| Method | Line | Visibility | Notes |
|---|---|---|---|
| `QuestionBean(String, String, String, int, String, String, String, String, String, String, String, String, String, String)` | 31-46 | `private` | `@Builder`-annotated all-args constructor; assigns all 14 fields |

**Methods (generated by Lombok `@Data` + `@NoArgsConstructor`):**

| Generated method | Notes |
|---|---|
| `QuestionBean()` | No-arg constructor from `@NoArgsConstructor` |
| `getId()` | |
| `getContent()` | |
| `getExpectedanswer()` | |
| `getOrder_no()` | |
| `getActive()` | |
| `getType_id()` | |
| `getManu_id()` | |
| `getFuel_type_id()` | |
| `getAttachment_id()` | |
| `getComp_id()` | |
| `getAnswer_type()` | |
| `getBarCodeY()` | |
| `getBarCodeN()` | |
| `getCopied_from_id()` | |
| `setId(String)` | |
| `setContent(String)` | |
| `setExpectedanswer(String)` | |
| `setOrder_no(int)` | |
| `setActive(String)` | |
| `setType_id(String)` | |
| `setManu_id(String)` | |
| `setFuel_type_id(String)` | |
| `setAttachment_id(String)` | |
| `setComp_id(String)` | |
| `setAnswer_type(String)` | |
| `setBarCodeY(String)` | |
| `setBarCodeN(String)` | |
| `setCopied_from_id(String)` | |
| `equals(Object)` | Generated by `@Data` |
| `hashCode()` | Generated by `@Data` |
| `toString()` | Generated by `@Data` |
| `QuestionBean.builder()` | Static factory from `@Builder` |

---

## 2. Test Directory Grep Results

**Search target:** `/mnt/c/Projects/cig-audit/repos/forkliftiqadmin/src/test/java/`

**Test files found in repository:**
```
com/calibration/UnitCalibrationImpactFilterTest.java
com/calibration/UnitCalibrationTest.java
com/calibration/UnitCalibratorTest.java
com/util/ImpactUtilTest.java
```

| Class searched | Matches found |
|---|---|
| `PreOpsReportFilterBean` | None |
| `ProfileBean` | None |
| `QuestionBean` | None |
| `ReportFilterBean` | None |

**Result:** Zero test coverage for all three audited classes and their shared parent `ReportFilterBean`.

---

## 3. Coverage Gaps and Findings

### A55-1 | Severity: CRITICAL | PreOpsReportFilterBean - no test class exists

No test file references `PreOpsReportFilterBean` anywhere in the test source tree. The class has a `@Builder`-annotated constructor that delegates to `ReportFilterBean`; the entire construction path is untested.

### A55-2 | Severity: CRITICAL | ProfileBean - no test class exists

No test file references `ProfileBean`. Although the class currently contains only a stub no-arg constructor with no logic, the class exists as a named public API surface in the `com.bean` package, is presumably referenced by actions or forms, and has no test baseline. Any future additions to this class will begin with zero coverage.

### A55-3 | Severity: CRITICAL | QuestionBean - no test class exists

No test file references `QuestionBean`. This is the highest-risk gap of the three: `QuestionBean` is a core domain object carrying 14 fields, a private `@Builder`-annotated all-args constructor, a `@NoArgsConstructor`, and Lombok-generated accessors, mutators, `equals`, `hashCode`, and `toString`. None of these are exercised.

### A55-4 | Severity: HIGH | ReportFilterBean.start() null-branch not covered

`ReportFilterBean.start()` (line 22-24) contains a null-guard: when `startDate` is `null` it falls back to `Calendar.getInstance().getTime()`. Because `PreOpsReportFilterBean` is the concrete subclass exercising this method and no tests exist, neither branch (non-null path nor null-fallback path) is covered. The null-fallback in particular is a runtime-sensitive path that should be verified.

### A55-5 | Severity: HIGH | ReportFilterBean.end() null-branch not covered

Identical null-guard structure as `start()` (line 27-29). Same reasoning applies: both the non-null and null-fallback branches are fully untested.

### A55-6 | Severity: HIGH | QuestionBean @Builder private constructor not accessible via builder() - design risk uncovered by tests

The all-args constructor at line 31 is marked `private`. Lombok generates a public `builder()` static factory and a `Builder` inner class to access it. However, because the constructor is private, direct construction is restricted to the builder only. No tests verify that the builder correctly populates all 14 fields, that field defaults set at declaration (all non-int fields initialize to `null`, `order_no` to `0`) are handled correctly, or that `equals`/`hashCode` behave consistently between builder-constructed and no-arg-constructed instances populated via setters.

### A55-7 | Severity: HIGH | QuestionBean equals/hashCode contract not tested

`@Data` generates `equals` and `hashCode` from all non-static fields. With 14 fields there are numerous permutations; the correctness of equality comparisons (e.g., two beans differing only in `barCodeY`) is entirely untested. This is particularly important given that `QuestionBean` is likely used in collections.

### A55-8 | Severity: MEDIUM | PreOpsReportFilterBean @EqualsAndHashCode(callSuper = true) contract not tested

`@EqualsAndHashCode(callSuper = true)` causes parent-class fields (`startDate`, `endDate`, `manuId`, `typeId`, `timezone`) to participate in equality and hash computation. No test verifies that two `PreOpsReportFilterBean` instances with identical field values are equal, or that a difference in any parent field produces inequality.

### A55-9 | Severity: MEDIUM | PreOpsReportFilterBean builder not tested

The `@Builder` annotation on the constructor generates a static `builder()` factory and an inner `Builder` class. No test constructs a `PreOpsReportFilterBean` via the builder and verifies that all five fields are correctly forwarded through the `super(...)` call to `ReportFilterBean`.

### A55-10 | Severity: MEDIUM | QuestionBean Serializable contract not tested

`QuestionBean` declares `implements Serializable` with an explicit `serialVersionUID = -697498145689541652L`. No test exercises serialization round-trip (serialize then deserialize) to verify that all 14 fields survive the round-trip intact and that the `serialVersionUID` is stable relative to the class shape.

### A55-11 | Severity: MEDIUM | ReportFilterBean.manufactureId() and type() interface methods not tested

`manufactureId()` (line 32-34) and `type()` (line 37-39) are simple delegation methods, but their role as interface contract implementations (`UnitManufactureFilter`, `UnitTypeFilter`) means they should have at least one test verifying that the returned value matches the constructor-provided value (including the null-input case for optional filters).

### A55-12 | Severity: MEDIUM | ReportFilterBean.timezone() interface method not tested

`timezone()` (line 41-44) implements `DateBetweenFilter.timezone()`. A null timezone is a valid input per the constructor signature; the method returns it as-is with no guard. No test verifies null-pass-through or a well-formed timezone string.

### A55-13 | Severity: LOW | ProfileBean is effectively a stub with no implementation - class purpose unclear

`ProfileBean` (lines 3-9) contains only an auto-generated constructor stub comment (`// TODO Auto-generated constructor stub`) and zero fields or logic. There is no documentation explaining what profile data this bean is intended to encapsulate. The class is untestable in its current state because it has no observable behavior, but the TODO comment indicates incomplete implementation. A test baseline (even a trivial instantiation test) should be established now so that coverage enforcement catches any future additions at PR time.

### A55-14 | Severity: LOW | QuestionBean field naming uses mixed conventions - no tests guard against future refactoring breakage

Fields such as `order_no`, `type_id`, `manu_id`, `fuel_type_id`, `attachment_id`, `comp_id`, `answer_type`, `barCodeY`, and `barCodeN` mix snake_case and camelCase naming. Lombok generates accessor/mutator names by capitalizing the field name literally (e.g., `getOrder_no()`, `getType_id()`), which is non-standard Java. No tests lock in the current accessor names, meaning a rename refactor (to fix naming conventions) could silently break callers that are not discovered until runtime.

### A55-15 | Severity: INFO | No test package mirrors for com.bean exist

The test source tree contains only `com/calibration/` and `com/util/` packages. There is no `com/bean/` test package. All three audited classes are in `com.bean`; establishing the package is a prerequisite for organized unit test placement.

---

## 4. Summary Table

| Finding | Severity | Class | Description |
|---|---|---|---|
| A55-1 | CRITICAL | PreOpsReportFilterBean | No test class exists |
| A55-2 | CRITICAL | ProfileBean | No test class exists |
| A55-3 | CRITICAL | QuestionBean | No test class exists |
| A55-4 | HIGH | ReportFilterBean / PreOpsReportFilterBean | `start()` null-fallback branch uncovered |
| A55-5 | HIGH | ReportFilterBean / PreOpsReportFilterBean | `end()` null-fallback branch uncovered |
| A55-6 | HIGH | QuestionBean | `@Builder` private constructor + full field population not verified |
| A55-7 | HIGH | QuestionBean | `equals`/`hashCode` contract not tested |
| A55-8 | MEDIUM | PreOpsReportFilterBean | `@EqualsAndHashCode(callSuper = true)` contract not tested |
| A55-9 | MEDIUM | PreOpsReportFilterBean | Builder construction not tested end-to-end |
| A55-10 | MEDIUM | QuestionBean | `Serializable` round-trip not tested |
| A55-11 | MEDIUM | ReportFilterBean | `manufactureId()` and `type()` interface methods not tested |
| A55-12 | MEDIUM | ReportFilterBean | `timezone()` interface method (incl. null input) not tested |
| A55-13 | LOW | ProfileBean | Stub class with TODO - no observable behavior, no test baseline |
| A55-14 | LOW | QuestionBean | Mixed field naming conventions; no tests guard accessor names |
| A55-15 | INFO | com.bean (package) | No `com/bean` test package exists in test source tree |

**Coverage score: 0 % for all three audited classes and their shared superclass.**
