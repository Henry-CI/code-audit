# Pass 2 Test Coverage Audit
**Audit Run:** 2026-02-26-01
**Agent ID:** A69
**Date:** 2026-02-26
**Files Audited:**
1. `src/main/java/com/cognito/bean/PasswordResponse.java`
2. `src/main/java/com/cognito/bean/UserRequest.java`
3. `src/main/java/com/cognito/bean/UserResponse.java`

---

## Grep Evidence — Test Directory Search

**Search target:** `/mnt/c/Projects/cig-audit/repos/forkliftiqadmin/src/test/java/`

| Search term | Matches found |
|---|---|
| `PasswordResponse` | None |
| `UserRequest` | None |
| `UserResponse` | None |

**Existing test files in test directory (complete list):**
- `com/calibration/UnitCalibrationImpactFilterTest.java`
- `com/calibration/UnitCalibrationTest.java`
- `com/calibration/UnitCalibratorTest.java`
- `com/util/ImpactUtilTest.java`

None of these files reference any of the three audited classes.

---

## Source File Evidence

### 1. PasswordResponse.java

**Class name:** `PasswordResponse`
**Package:** `com.cognito.bean`
**Annotations:** `@Data`, `@NoArgsConstructor`, `@JsonInclude(JsonInclude.Include.NON_NULL)`
**Implements:** nothing (no `Serializable` declaration)

**Fields:**

| Field | Type | Line |
|---|---|---|
| `serialVersionUID` | `private static final long` | 17 |
| `destination` | `private String` | 18 |
| `deliveryMedium` | `private String` | 19 |
| `message` | `private String` | 20 |
| `username` | `private String` | 21 |
| `code` | `private Integer` | 22 |
| `detail` | `private String` | 23 |

**Explicitly declared methods:** None (all getters, setters, `equals`, `hashCode`, `toString`, and no-args constructor are Lombok-generated via `@Data` and `@NoArgsConstructor`).

**Lombok-generated methods (implicit, not declared in source):**
- `getDestination()`, `setDestination(String)`
- `getDeliveryMedium()`, `setDeliveryMedium(String)`
- `getMessage()`, `setMessage(String)`
- `getUsername()`, `setUsername(String)`
- `getCode()`, `setCode(Integer)`
- `getDetail()`, `setDetail(String)`
- `equals(Object)`, `hashCode()`, `toString()`
- `PasswordResponse()` (no-args constructor)

---

### 2. UserRequest.java

**Class name:** `UserRequest`
**Package:** `com.cognito.bean`
**Annotations:** `@Data`, `@NoArgsConstructor`
**Implements:** `Serializable`

**Fields:**

| Field | Type | Line |
|---|---|---|
| `serialVersionUID` | `private static final long` | 16 |
| `accessToken` | `private String` | 17 |
| `username` | `private String` | 18 |

**Explicitly declared methods:**

| Method | Visibility | Line |
|---|---|---|
| `UserRequest(String accessToken, String username)` | `private` (annotated `@Builder`) | 21 |

**Lombok-generated methods (implicit):**
- `getAccessToken()`, `setAccessToken(String)`
- `getUsername()`, `setUsername(String)`
- `equals(Object)`, `hashCode()`, `toString()`
- `UserRequest()` (no-args constructor via `@NoArgsConstructor`)
- `UserRequest.builder()` / `UserRequest.UserRequestBuilder` (via `@Builder` on private constructor)

---

### 3. UserResponse.java

**Class name:** `UserResponse`
**Package:** `com.cognito.bean`
**Annotations:** `@Data`, `@NoArgsConstructor`, `@JsonInclude(JsonInclude.Include.NON_NULL)`
**Implements:** `Serializable`

**Fields:**

| Field | Type | Line |
|---|---|---|
| `serialVersionUID` | `private long` | 19 |
| `username` | `private String` | 20 |
| `email` | `private String` | 21 |
| `userCreateDate` | `private String` | 22 |
| `userStatus` | `private String` | 23 |
| `lastModifiedDate` | `private String` | 24 |
| `name` | `private String` | 25 |
| `lastname` | `private String` | 26 |
| `phoneNumber` | `private String` | 27 |
| `code` | `private Integer` | 28 |
| `message` | `private String` | 29 |
| `detail` | `private String` | 30 |

**Explicitly declared methods:** None (all generated by Lombok).

**Lombok-generated methods (implicit):**
- `getUsername()`, `setUsername(String)`
- `getEmail()`, `setEmail(String)`
- `getUserCreateDate()`, `setUserCreateDate(String)`
- `getUserStatus()`, `setUserStatus(String)`
- `getLastModifiedDate()`, `setLastModifiedDate(String)`
- `getName()`, `setName(String)`
- `getLastname()`, `setLastname(String)`
- `getPhoneNumber()`, `setPhoneNumber(String)`
- `getCode()`, `setCode(Integer)`
- `getMessage()`, `setMessage(String)`
- `getDetail()`, `setDetail(String)`
- `equals(Object)`, `hashCode()`, `toString()`
- `UserResponse()` (no-args constructor)

---

## Findings

### PasswordResponse

**A69-1 | Severity: CRITICAL | PasswordResponse has zero test coverage — no test class exists**
No test file referencing `PasswordResponse` was found anywhere in the test source tree. The class has no test coverage of any kind.

**A69-2 | Severity: HIGH | No test for PasswordResponse no-args constructor and field population**
The `@NoArgsConstructor` constructor and all six setters/getters (`destination`, `deliveryMedium`, `message`, `username`, `code`, `detail`) are completely untested. There is no verification that Lombok correctly generates accessors or that field values round-trip through getter/setter pairs.

**A69-3 | Severity: HIGH | No test for PasswordResponse @JsonInclude(NON_NULL) serialization contract**
`@JsonInclude(JsonInclude.Include.NON_NULL)` means null fields must be omitted from JSON output. No test verifies this Jackson serialization behavior — a regression in the annotation or Jackson configuration would be silently undetected.

**A69-4 | Severity: HIGH | PasswordResponse declares serialVersionUID but does not implement Serializable**
`private static final long serialVersionUID = -8677893765042629588L` is declared at line 17, but the class declaration does not include `implements Serializable`. The field is therefore meaningless dead code. No test exists to expose this inconsistency or to verify serialization/deserialization behavior.

**A69-5 | Severity: MEDIUM | No test for PasswordResponse equals() and hashCode() contract**
Lombok's `@Data` generates `equals` and `hashCode` based on all non-static fields. No test verifies symmetry, transitivity, consistency, or the null-handling contract of these generated methods.

**A69-6 | Severity: MEDIUM | No test for PasswordResponse toString()**
The Lombok-generated `toString()` is untested. If field names change or fields are added/removed, output format changes silently.

**A69-7 | Severity: LOW | No test for PasswordResponse with mixed null/non-null fields under @JsonInclude(NON_NULL)**
Boundary case: an object with some null fields and some non-null fields should serialize only the non-null subset. This edge case is not tested.

---

### UserRequest

**A69-8 | Severity: CRITICAL | UserRequest has zero test coverage — no test class exists**
No test file referencing `UserRequest` was found anywhere in the test source tree. The class has no test coverage of any kind.

**A69-9 | Severity: HIGH | No test for UserRequest @Builder pattern**
The `@Builder` annotation is placed on a `private` constructor at line 21, which is an unusual and non-standard usage (Lombok's `@Builder` is typically placed on the class or a public/package-private constructor). No test verifies that `UserRequest.builder().accessToken(...).username(...).build()` produces a correctly populated object, or that the builder itself is accessible and functional.

**A69-10 | Severity: HIGH | @Builder on private constructor may silently suppress builder generation**
Lombok's `@Builder` placed on a `private` constructor generates a package-private builder. Combined with `@NoArgsConstructor` (which generates a `public` no-args constructor), the resulting API surface is ambiguous. No test verifies that both construction paths (`new UserRequest()` via `@NoArgsConstructor` and `UserRequest.builder()`) produce valid, independently usable objects.

**A69-11 | Severity: HIGH | No test for UserRequest no-args constructor leaving fields null**
`@NoArgsConstructor` produces an object where `accessToken` and `username` are both `null`. No test asserts this default state, nor tests that calling setters after construction works correctly.

**A69-12 | Severity: HIGH | No test for UserRequest Serializable contract**
`UserRequest implements Serializable` with `serialVersionUID = 126101017809040672L`. No test verifies that an instance can be serialized to a byte stream and deserialized back to an equal object, which is a required contract for any class marked `Serializable`.

**A69-13 | Severity: MEDIUM | No test for UserRequest equals() and hashCode() contract**
Lombok `@Data` generates `equals`/`hashCode` over `accessToken` and `username`. No test verifies correctness, including cases where tokens or usernames differ only in case or whitespace.

**A69-14 | Severity: MEDIUM | No test for UserRequest toString()**
The generated `toString()` will include `accessToken` in its output, which may expose sensitive credential data in logs. No test verifies the format, and the security implication of logging access tokens is untested and undocumented.

**A69-15 | Severity: LOW | accessToken field in UserRequest.toString() leaks sensitive data — untested security concern**
`@Data` generates a `toString()` that includes all fields. For a bean carrying an `accessToken`, this means tokens appear in any log or exception that calls `toString()`. No test captures or documents this behavior, and no `@ToString.Exclude` annotation is present on the `accessToken` field.

---

### UserResponse

**A69-16 | Severity: CRITICAL | UserResponse has zero test coverage — no test class exists**
No test file referencing `UserResponse` was found anywhere in the test source tree. The class has no test coverage of any kind.

**A69-17 | Severity: HIGH | No test for UserResponse no-args constructor and all eleven field accessors**
The `@NoArgsConstructor` constructor and all eleven setter/getter pairs (`username`, `email`, `userCreateDate`, `userStatus`, `lastModifiedDate`, `name`, `lastname`, `phoneNumber`, `code`, `message`, `detail`) are completely untested.

**A69-18 | Severity: HIGH | No test for UserResponse @JsonInclude(NON_NULL) serialization contract**
Like `PasswordResponse`, `UserResponse` carries `@JsonInclude(JsonInclude.Include.NON_NULL)`. No test verifies that null fields are omitted from serialized JSON. With eleven fields, the number of null/non-null combinations that could silently regress is significant.

**A69-19 | Severity: HIGH | No test for UserResponse Serializable contract**
`UserResponse implements Serializable` with `serialVersionUID = 894041507646078302L`. No test verifies round-trip serialization/deserialization.

**A69-20 | Severity: MEDIUM | No test for UserResponse equals() and hashCode() contract**
Lombok generates `equals`/`hashCode` across all eleven non-static fields. No test verifies correctness for equal objects, objects differing in one field, or null field handling.

**A69-21 | Severity: MEDIUM | No test for UserResponse toString()**
The generated `toString()` is untested. Field additions or removals would silently change the format with no test regression.

**A69-22 | Severity: LOW | No test verifying UserResponse field naming consistency with external API**
Field names such as `lastname` (rather than `lastName`) and `userCreateDate`/`lastModifiedDate` (rather than `userCreatedDate`/`lastModifiedDate`) suggest these map to an external API (likely AWS Cognito). No test verifies that Jackson field names serialized match the expected external wire format, including case sensitivity.

---

## Summary Table

| Finding | Class | Severity | Description |
|---|---|---|---|
| A69-1 | PasswordResponse | CRITICAL | Zero test coverage — no test class exists |
| A69-2 | PasswordResponse | HIGH | No test for no-args constructor and field getter/setter population |
| A69-3 | PasswordResponse | HIGH | No test for @JsonInclude(NON_NULL) serialization contract |
| A69-4 | PasswordResponse | HIGH | Declares serialVersionUID without implementing Serializable |
| A69-5 | PasswordResponse | MEDIUM | No test for equals() and hashCode() contract |
| A69-6 | PasswordResponse | MEDIUM | No test for toString() |
| A69-7 | PasswordResponse | LOW | No test for mixed null/non-null fields under @JsonInclude(NON_NULL) |
| A69-8 | UserRequest | CRITICAL | Zero test coverage — no test class exists |
| A69-9 | UserRequest | HIGH | No test for @Builder pattern construction |
| A69-10 | UserRequest | HIGH | @Builder on private constructor — silent builder suppression risk untested |
| A69-11 | UserRequest | HIGH | No test for @NoArgsConstructor default null state |
| A69-12 | UserRequest | HIGH | No test for Serializable round-trip contract |
| A69-13 | UserRequest | MEDIUM | No test for equals() and hashCode() contract |
| A69-14 | UserRequest | MEDIUM | No test for toString() |
| A69-15 | UserRequest | LOW | accessToken exposed via toString() — sensitive data leak untested |
| A69-16 | UserResponse | CRITICAL | Zero test coverage — no test class exists |
| A69-17 | UserResponse | HIGH | No test for no-args constructor and all eleven field accessors |
| A69-18 | UserResponse | HIGH | No test for @JsonInclude(NON_NULL) serialization contract |
| A69-19 | UserResponse | HIGH | No test for Serializable round-trip contract |
| A69-20 | UserResponse | MEDIUM | No test for equals() and hashCode() contract |
| A69-21 | UserResponse | MEDIUM | No test for toString() |
| A69-22 | UserResponse | LOW | No test verifying field naming consistency with external Cognito API wire format |

**Total findings: 22**
**CRITICAL: 3 | HIGH: 9 | MEDIUM: 6 | LOW: 4**
