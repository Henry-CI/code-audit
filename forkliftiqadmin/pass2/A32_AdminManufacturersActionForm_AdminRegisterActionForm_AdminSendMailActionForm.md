# Pass 2 Test-Coverage Audit
**Audit run:** 2026-02-26-01
**Agent:** A32
**Files audited:**
- `src/main/java/com/actionform/AdminManufacturersActionForm.java`
- `src/main/java/com/actionform/AdminRegisterActionForm.java`
- `src/main/java/com/actionform/AdminSendMailActionForm.java`

---

## Reading Evidence

### AdminManufacturersActionForm

**Class:** `com.actionform.AdminManufacturersActionForm` (extends `org.apache.struts.action.ActionForm`)
**File:** `src/main/java/com/actionform/AdminManufacturersActionForm.java`

**Lombok annotations in effect (compile-time code generation):**

| Annotation | Effect |
|------------|--------|
| `@Getter` | Generates `getManufacturerId()`, `getManufacturer()`, `getAction()` |
| `@Setter` | Generates `setManufacturerId(String)`, `setManufacturer(String)`, `setAction(String)` |
| `@NoArgsConstructor` | Generates default no-arg constructor |
| `@Slf4j` | Injects `private static final Logger log` |

**Fields:**

| Field | Type | Default | Line |
|-------|------|---------|------|
| `manufacturerId` | `String` | `null` | 14 |
| `manufacturer` | `String` | `null` | 15 |
| `action` | `String` | `null` | 16 |

**Methods (Lombok-generated — no explicit method bodies in source):**

| Method | Generated by |
|--------|-------------|
| `AdminManufacturersActionForm()` | `@NoArgsConstructor` |
| `String getManufacturerId()` | `@Getter` |
| `void setManufacturerId(String)` | `@Setter` |
| `String getManufacturer()` | `@Getter` |
| `void setManufacturer(String)` | `@Setter` |
| `String getAction()` | `@Getter` |
| `void setAction(String)` | `@Setter` |

**Explicit methods declared in source:** none — all accessors are Lombok-generated.

---

### AdminRegisterActionForm

**Class:** `com.actionform.AdminRegisterActionForm` (extends `org.apache.struts.validator.ValidatorForm`, declared `final`)
**File:** `src/main/java/com/actionform/AdminRegisterActionForm.java`

**Fields:**

| Field | Type | Default | Line |
|-------|------|---------|------|
| `id` | `String` | `null` | 9 |
| `name` | `String` | `null` | 10 |
| `address` | `String` | `null` | 11 |
| `postcode` | `String` | `null` | 12 |
| `email` | `String` | `null` | 13 |
| `contact_no` | `String` | `null` | 14 |
| `contact_fname` | `String` | `null` | 15 |
| `contact_lname` | `String` | `null` | 16 |
| `password` | `String` | `null` | 17 |
| `pin` | `String` | `null` | 18 |
| `refnm` | `String` | `null` | 19 |
| `refno` | `String` | `null` | 20 |
| `question` | `String` | `null` | 21 |
| `answer` | `String` | `null` | 22 |
| `code` | `String` | `null` | 23 |
| `accountAction` | `String` | `null` | 24 |
| `unit` | `String` | `null` | 25 |
| `subemail` | `String` | `null` | 26 |
| `timezone` | `String` | `null` | 27 |
| `lan_id` | `String` | `null` | 28 |
| `mobile` | `String` | `null` | 29 |

**Unused import:** `java.util.ArrayList` (line 3) — imported but never referenced in the file.

**Methods:**

| Method | Line |
|--------|------|
| `String getLan_id()` | 31 |
| `void setLan_id(String)` | 34 |
| `String getName()` | 37 |
| `void setName(String)` | 40 |
| `String getAddress()` | 43 |
| `void setAddress(String)` | 46 |
| `String getPostcode()` | 49 |
| `void setPostcode(String)` | 52 |
| `String getEmail()` | 55 |
| `void setEmail(String)` | 58 |
| `String getContact_no()` | 61 |
| `void setContact_no(String)` | 64 |
| `String getContact_fname()` | 67 |
| `void setContact_fname(String)` | 70 |
| `String getContact_lname()` | 73 |
| `void setContact_lname(String)` | 76 |
| `String getPassword()` | 79 |
| `void setPassword(String)` | 82 |
| `String getPin()` | 85 |
| `void setPin(String)` | 88 |
| `String getRefnm()` | 91 |
| `void setRefnm(String)` | 94 |
| `String getRefno()` | 97 |
| `void setRefno(String)` | 100 |
| `String getQuestion()` | 103 |
| `void setQuestion(String)` | 106 |
| `String getAnswer()` | 109 |
| `void setAnswer(String)` | 112 |
| `String getCode()` | 115 |
| `void setCode(String)` | 118 |
| `String getId()` | 121 |
| `void setId(String)` | 124 |
| `String getAccountAction()` | 127 |
| `void setAccountAction(String)` | 130 |
| `String getUnit()` | 133 |
| `void setUnit(String)` | 136 |
| `String getSubemail()` | 139 |
| `void setSubemail(String)` | 142 |
| `String getTimezone()` | 145 |
| `void setTimezone(String)` | 148 |
| `String getMobile()` | 151 |
| `void setMobile(String)` | 154 |

**No-arg constructor:** implicit (compiler default; no explicit constructor declared).

---

### AdminSendMailActionForm

**Class:** `com.actionform.AdminSendMailActionForm` (extends `org.apache.struts.validator.ValidatorForm`)
**File:** `src/main/java/com/actionform/AdminSendMailActionForm.java`

**Fields:**

| Field | Type | Default | Line |
|-------|------|---------|------|
| `id` | `String` | `null` | 7 |
| `email` | `String` | `null` | 8 |
| `accountAction` | `String` | `null` | 9 |

**Methods:**

| Method | Line |
|--------|------|
| `String getEmail()` | 13 |
| `void setEmail(String)` | 17 |
| `String getAccountAction()` | 21 |
| `void setAccountAction(String)` | 25 |
| `String getId()` | 29 |
| `void setId(String)` | 33 |

**No-arg constructor:** implicit (compiler default; no explicit constructor declared).

---

## Test Coverage Confirmation

Grep of `src/test/java/` for each class name:

| Class | Result |
|-------|--------|
| `AdminManufacturersActionForm` | No matches found |
| `AdminRegisterActionForm` | No matches found |
| `AdminSendMailActionForm` | No matches found |

Existing test files in the project:
- `com/calibration/UnitCalibrationImpactFilterTest.java`
- `com/calibration/UnitCalibrationTest.java`
- `com/calibration/UnitCalibratorTest.java`
- `com/util/ImpactUtilTest.java`

None of these reference any of the three audited classes directly or indirectly. Test coverage for all three classes is **0%**.

---

## Findings

### AdminManufacturersActionForm

---

**A32-1 | Severity: CRITICAL | No test class exists for AdminManufacturersActionForm — 0% coverage**

There is no test file anywhere under `src/test/java/` that references `AdminManufacturersActionForm`. Every getter, setter, constructor, and field default is completely untested. Any regression introduced by Lombok version changes, annotation removal, or field modification will go undetected.

---

**A32-2 | Severity: HIGH | Lombok-generated accessors are untested — field default-to-null behaviour unverified**

All three fields (`manufacturerId`, `manufacturer`, `action`) default to `null`. The Lombok-generated getters return these null values without guard. No test verifies that a freshly constructed form has null defaults, that setters correctly assign values, or that getters return the assigned values. A Lombok annotation removal or misconfiguration would silently break all callers with no test failure.

---

**A32-3 | Severity: HIGH | @Slf4j logger injection is untested and its presence is architecturally inconsistent**

`@Slf4j` injects a `private static final Logger log` field into an `ActionForm` subclass. ActionForms are data-transfer beans; logging inside a form is an architectural concern. However, the `log` field is never used anywhere in the class body (no explicit methods exist). No test confirms that no logging side-effects occur during getter/setter invocation. If a future developer adds logging calls to the generated or manually added methods, there is no test baseline to detect unwanted log output.

---

**A32-4 | Severity: MEDIUM | No test for the `action` field name collision with Struts ActionForm conventions**

The field named `action` (line 16) with generated getter `getAction()` / setter `setAction(String)` shadows the conventional Struts meaning of "action". In Struts form-bean binding, parameter names map directly to form field names; a form field literally named `action` may conflict with Struts dispatcher internals or ambiguous parameter binding in `struts-config.xml`. No test exercises form population via mock request to confirm that binding works as intended.

---

**A32-5 | Severity: MEDIUM | No test confirms @NoArgsConstructor satisfies Struts ActionForm instantiation contract**

Struts instantiates ActionForm beans reflectively via the no-arg constructor. The `@NoArgsConstructor` annotation satisfies this contract, but no test verifies that the class is reflectively instantiable (via `Class.forName(...).getDeclaredConstructor().newInstance()`). If the annotation is accidentally removed and no other constructor is added, Struts will throw at runtime with no compile-time or test-time warning.

---

**A32-6 | Severity: LOW | No test for string round-trip on all three fields**

No test performs a set-then-get round-trip for `manufacturerId`, `manufacturer`, or `action` to confirm setter assignment is correctly reflected by the getter. While the Lombok implementation is trivially correct, round-trip tests provide a safety net against field shadowing or annotation processor errors.

---

### AdminRegisterActionForm

---

**A32-7 | Severity: CRITICAL | No test class exists for AdminRegisterActionForm — 0% coverage across 21 fields and 42 methods**

There is no test file anywhere under `src/test/java/` that references `AdminRegisterActionForm`. The class exposes 21 string fields and 42 getter/setter methods, all completely untested. This is the largest of the three audited forms and carries the greatest surface area for undetected regressions.

---

**A32-8 | Severity: HIGH | Password field stored and returned as plain String — no test enforces or detects lack of protection**

`password` (line 17) is stored as a plain `String` field with a straightforward getter `getPassword()` (line 79) that returns the raw value. No test exists that would detect if a future change accidentally logs, serialises, or exposes the password field. The absence of any masking, hashing, or `@JsonIgnore`-equivalent annotation is not guarded by any test.

---

**A32-9 | Severity: HIGH | `pin` field stored and returned as plain String — no test enforces or detects lack of protection**

`pin` (line 18) follows the same pattern as `password`. PINs are security-sensitive; a plain-text getter with no test coverage means any accidental exposure (e.g., via serialisation or logging) would go undetected.

---

**A32-10 | Severity: HIGH | `answer` field (security question answer) is plain text and untested**

`answer` (line 22) stores the user's security question answer as a plain `String`. No test confirms that this sensitive field is not inadvertently written to logs or serialised in a response. The getter `getAnswer()` (line 109) returns the raw value with no protection.

---

**A32-11 | Severity: HIGH | Non-JavaBeans-compliant naming on `getLan_id` / `setLan_id` — no test verifies binding**

The field `lan_id` (line 28) generates methods `getLan_id()` (line 31) and `setLan_id(String)` (line 34) with underscores in the method name. The JavaBeans specification requires property names derived from field names to follow camelCase. Struts form-bean binding uses reflection against JavaBeans conventions; `lan_id` may fail to bind correctly from a request parameter named `lan_id` or `lanId` depending on the Struts version. No test exercises this binding.

---

**A32-12 | Severity: HIGH | Non-JavaBeans-compliant naming on `getContact_no`, `setContact_no`, `getContact_fname`, `setContact_fname`, `getContact_lname`, `setContact_lname` — no test verifies binding**

Fields `contact_no` (line 14), `contact_fname` (line 15), and `contact_lname` (line 16) all have underscores in their names, producing non-standard getter/setter method names (`getContact_no`, `getContact_fname`, `getContact_lname`) that violate JavaBeans conventions. The same binding risk applies as for `lan_id` (A32-11). None of these six methods are tested.

---

**A32-13 | Severity: HIGH | `final` class declaration prevents subclassing — no test documents intent or enforces it**

`AdminRegisterActionForm` is declared `final` (line 7), making it impossible to subclass for test doubles, mocking frameworks that use subclass proxies, or extension in derived modules. No test documents the reason for this design decision, and no test verifies that mocking frameworks used elsewhere in the project are compatible with `final` classes.

---

**A32-14 | Severity: MEDIUM | Unused import `java.util.ArrayList` — no test would detect compile-time dead import regression**

Line 3 imports `java.util.ArrayList`, which is never used anywhere in the file. The import represents dead code and may indicate a removed feature (e.g., a previously present list field). No test would detect if code depending on `ArrayList` were silently removed or added back.

---

**A32-15 | Severity: MEDIUM | No test for all-null default state after construction**

All 21 fields default to `null`. No test verifies the freshly constructed form's default state. If a field default were changed from `null` to an empty string or sentinel value, no test would catch the regression in downstream code that may rely on null checks.

---

**A32-16 | Severity: MEDIUM | No test for setter/getter round-trip on any of the 21 fields**

None of the 42 getter/setter pairs have round-trip tests. Forty-two individually trivial methods represent a broad surface area; a copy-paste error (e.g., `setEmail` assigning to `name` instead of `email`) would go completely undetected.

---

**A32-17 | Severity: MEDIUM | Implicit no-arg constructor is untested for Struts reflective instantiation**

Like `AdminManufacturersActionForm`, this class relies on the implicit compiler-generated no-arg constructor for Struts reflective instantiation. No test confirms reflective instantiation succeeds, which means adding an explicit constructor that removes the no-arg path would break Struts at runtime silently.

---

**A32-18 | Severity: LOW | `refnm` and `refno` field semantics are opaque and untested**

`refnm` (line 19) and `refno` (line 20) have abbreviated names whose business meaning is not documented in code. No test clarifies what values are valid, what format is expected, or what happens when they are null. The absence of tests makes it impossible to determine from automated checks whether these fields are still in active use.

---

**A32-19 | Severity: LOW | `code` field semantics are opaque and untested**

`code` (line 23) similarly has no documentation and no test covering its expected values or usage context (e.g., registration confirmation code, discount code, country code). Without tests, consumers of this field have no contract to rely on.

---

### AdminSendMailActionForm

---

**A32-20 | Severity: CRITICAL | No test class exists for AdminSendMailActionForm — 0% coverage**

There is no test file anywhere under `src/test/java/` that references `AdminSendMailActionForm`. All three fields and all six getter/setter methods are completely untested.

---

**A32-21 | Severity: HIGH | `email` field is not validated within the form — no test confirms validation contract**

`AdminSendMailActionForm` extends `ValidatorForm`, which is the Struts mechanism for declarative XML-driven validation. The `email` field (line 8) is a natural candidate for email-format validation via `validation.xml`. No test confirms that validation rules exist for this field, that the `validate()` method inherited from `ValidatorForm` triggers correctly, or that an invalid email address causes a validation failure rather than being silently passed to the mail-sending action.

---

**A32-22 | Severity: HIGH | `ValidatorForm.validate()` inheritance is untested — no test triggers or verifies validation lifecycle**

`AdminSendMailActionForm` inherits `validate(ActionMapping, HttpServletRequest)` from `ValidatorForm`. This method is the central validation entry point in the Struts lifecycle. No test invokes `validate()` on an instance of this class to confirm that the expected `ActionErrors` are returned (or that the method correctly returns an empty/null errors collection when all fields are valid).

---

**A32-23 | Severity: HIGH | Same untested ValidatorForm.validate() gap applies to AdminRegisterActionForm**

`AdminRegisterActionForm` also extends `ValidatorForm` and relies on the inherited `validate()` method for all 21 fields including security-sensitive ones (`password`, `pin`, `answer`). No test invokes `validate()` on this form. Any misconfiguration in `validation.xml` for these fields (missing rule, wrong field name, wrong validator reference) will not be caught until runtime.

---

**A32-24 | Severity: MEDIUM | No test for default-null state of all three fields in AdminSendMailActionForm**

All three fields (`id`, `email`, `accountAction`) default to `null`. No test verifies the newly constructed form's default state. A change from `null` to an empty string default would not be detected.

---

**A32-25 | Severity: MEDIUM | No test for setter/getter round-trip on AdminSendMailActionForm fields**

The six getter/setter pairs (`getEmail`/`setEmail`, `getAccountAction`/`setAccountAction`, `getId`/`setId`) have no round-trip tests. A copy-paste error in any setter body would be completely undetected.

---

**A32-26 | Severity: MEDIUM | Implicit no-arg constructor untested for Struts reflective instantiation**

As with the other two forms, `AdminSendMailActionForm` relies on the implicit no-arg constructor for Struts to instantiate it reflectively. No test verifies reflective instantiation succeeds.

---

**A32-27 | Severity: LOW | `accountAction` field in both AdminRegisterActionForm and AdminSendMailActionForm is untested for valid value contracts**

Both `AdminRegisterActionForm` (line 24) and `AdminSendMailActionForm` (line 9) declare an `accountAction` field that likely holds an action-type discriminator string (e.g., `"create"`, `"update"`, `"delete"`). No test documents what values are valid, confirms that downstream action classes handle all expected values, or verifies that an unexpected value causes a handled failure rather than a silent no-op.

---

## Summary Table

| Finding | Severity | Class |
|---------|----------|-------|
| A32-1  | CRITICAL | AdminManufacturersActionForm |
| A32-2  | HIGH     | AdminManufacturersActionForm |
| A32-3  | HIGH     | AdminManufacturersActionForm |
| A32-4  | MEDIUM   | AdminManufacturersActionForm |
| A32-5  | MEDIUM   | AdminManufacturersActionForm |
| A32-6  | LOW      | AdminManufacturersActionForm |
| A32-7  | CRITICAL | AdminRegisterActionForm |
| A32-8  | HIGH     | AdminRegisterActionForm |
| A32-9  | HIGH     | AdminRegisterActionForm |
| A32-10 | HIGH     | AdminRegisterActionForm |
| A32-11 | HIGH     | AdminRegisterActionForm |
| A32-12 | HIGH     | AdminRegisterActionForm |
| A32-13 | HIGH     | AdminRegisterActionForm |
| A32-14 | MEDIUM   | AdminRegisterActionForm |
| A32-15 | MEDIUM   | AdminRegisterActionForm |
| A32-16 | MEDIUM   | AdminRegisterActionForm |
| A32-17 | MEDIUM   | AdminRegisterActionForm |
| A32-18 | LOW      | AdminRegisterActionForm |
| A32-19 | LOW      | AdminRegisterActionForm |
| A32-20 | CRITICAL | AdminSendMailActionForm |
| A32-21 | HIGH     | AdminSendMailActionForm |
| A32-22 | HIGH     | AdminSendMailActionForm |
| A32-23 | HIGH     | AdminRegisterActionForm (ValidatorForm gap) |
| A32-24 | MEDIUM   | AdminSendMailActionForm |
| A32-25 | MEDIUM   | AdminSendMailActionForm |
| A32-26 | MEDIUM   | AdminSendMailActionForm |
| A32-27 | LOW      | AdminRegisterActionForm + AdminSendMailActionForm |

**Total findings: 27**
CRITICAL: 3 | HIGH: 12 | MEDIUM: 9 | LOW: 3
