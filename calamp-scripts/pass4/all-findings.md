# Pass 4 Code Quality — Agent A01
**Files:** .gitignore, README.md
**Branch:** main
**Date:** 2026-02-28

---

## Reading Evidence

### .gitignore — Full Entry Inventory (50 lines)

| Line | Content | Type |
|------|---------|------|
| 1–4 | Header comment block (Atlassian template attribution) | Comment |
| 5 | Blank line | Whitespace |
| 6 | `# Node artifact files` | Section comment |
| 7 | `node_modules/` | Pattern |
| 8 | `dist/` | Pattern |
| 9 | Blank line | Whitespace |
| 10 | `# Compiled Java class files` | Section comment |
| 11 | `*.class` | Pattern |
| 12 | Blank line | Whitespace |
| 13 | `# Compiled Python bytecode` | Section comment |
| 14 | `*.py[cod]` | Pattern |
| 15 | Blank line | Whitespace |
| 16 | `# Log files` | Section comment |
| 17 | `*.log` | Pattern |
| 18 | Blank line | Whitespace |
| 19 | `# Package files` | Section comment |
| 20 | `*.jar` | Pattern |
| 21 | Blank line | Whitespace |
| 22 | `# Maven` | Section comment |
| 23 | `target/` | Pattern |
| 24 | `dist/` | Pattern (DUPLICATE of line 8) |
| 25 | Blank line | Whitespace |
| 26 | `# JetBrains IDE` | Section comment |
| 27 | `.idea/` | Pattern |
| 28 | Blank line | Whitespace |
| 29 | `# Unit test reports` | Section comment |
| 30 | `TEST*.xml` | Pattern |
| 31 | Blank line | Whitespace |
| 32 | `# Generated by MacOS` | Section comment |
| 33 | `.DS_Store` | Pattern |
| 34 | Blank line | Whitespace |
| 35 | `# Generated by Windows` | Section comment |
| 36 | `Thumbs.db` | Pattern |
| 37 | Blank line | Whitespace |
| 38 | `# Applications` | Section comment |
| 39 | `*.app` | Pattern |
| 40 | `*.exe` | Pattern |
| 41 | `*.war` | Pattern |
| 42 | Blank line | Whitespace |
| 43 | `# Large media files` | Section comment |
| 44 | `*.mp4` | Pattern |
| 45 | `*.tiff` | Pattern |
| 46 | `*.avi` | Pattern |
| 47 | `*.flv` | Pattern |
| 48 | `*.mov` | Pattern |
| 49 | `*.wmv` | Pattern |
| 50 | Trailing blank line | Whitespace |
| 51 | Trailing blank line | Whitespace |

Line endings: CRLF throughout (confirmed via `file` and hex dump).

---

### README.md — Full Section Inventory (17 lines)

| Section | Content Summary |
|---------|----------------|
| `# README` | Top-level heading (h1) |
| `### What is this repository for?` | Sub-section (h3) — describes Rayven CI transfer scripts, organised by country and SIM type |
| `### How do I get set up?` | Sub-section (h3) — three bullet points: (1) get "CALAMP APPS" folder locally and extract LMU Manager, or fetch from CALAMP developer portal; (2) all scripts are CSV, open with LMU Manager; (3) new scripts need a different version name and must be registered in "registers" |
| `### Who do I talk to?` | Sub-section (h3) — single named contact: Rhythm Duwadi |

Line endings: CRLF throughout.

---

## Findings

**[A01-1]** — HIGH: Entire .gitignore is a generic Bitbucket/Atlassian template with no repo-relevant entries

**Description:** The .gitignore was generated from the Atlassian "common patterns" template (the header comment on lines 1–4 explicitly credits `https://www.atlassian.com/git/tutorials/saving-changes/gitignore`). Every pattern in the file targets languages and toolchains (Node.js, Java, Python, Maven, JetBrains IDE, unit test XML, media files) that have no presence in this repository. The repo contains only CSV scripts, a ZIP file (`CALAMP APPS/LMUMgr_8.9.10.7.zip`), an XLSX file (`URL & PORTS.xlsx`), and XML config files inside `CALAMP APPS/LMUToolbox_V41/`. None of these file types are covered by the .gitignore. Conversely, `.zip`, `.xlsx`, `.xml`, and binary executables within `CALAMP APPS/` are tracked by git with no filter applied. The template was never customised for this project.

**Fix:** Replace the boilerplate with patterns relevant to the actual content: at minimum add entries for OS artifacts (`Thumbs.db`, `.DS_Store` — these are the only two patterns in the current file that have any relevance), and consider whether `*.xlsx`, `*.zip`, and large binary files inside `CALAMP APPS/` should be ignored or tracked via Git LFS. Remove all Node/Java/Python/Maven/JetBrains/media patterns that cannot apply.

---

**[A01-2]** — MEDIUM: `dist/` is duplicated in .gitignore (lines 8 and 24)

**Description:** The pattern `dist/` appears twice: once under `# Node artifact files` (line 8) and again under `# Maven` (line 24). In git's .gitignore processing, the second occurrence is redundant — git applies the first matching rule. The duplication is a copy-paste artifact of the Atlassian template and adds confusion about which toolchain the entry is intended to cover.

**Fix:** Remove one of the two `dist/` lines. If `dist/` is retained at all (which is questionable given finding A01-1), a single entry with a clarifying comment is sufficient.

---

**[A01-3]** — LOW: Two trailing blank lines at the end of .gitignore (lines 50–51)

**Description:** The file ends with two consecutive blank lines (CRLF CRLF) after the last pattern entry `*.wmv`. Git ignores trailing blank lines functionally, but the extra blank line is inconsistent with the single blank line used as a separator between all other sections within the file.

**Fix:** Remove one trailing blank line so the file ends with a single newline, consistent with the internal section separator style.

---

**[A01-4]** — MEDIUM: README heading hierarchy is malformed (h1 then h3, skipping h2)

**Description:** The README opens with a single `# README` heading (h1), then all content sections use `### heading` (h3), skipping the h2 level entirely. This is the default Bitbucket README template structure and was never adapted. Standard Markdown convention and most renderers (GitHub, Bitbucket, Confluence) expect headings to descend sequentially (h1 → h2 → h3). The skip from h1 to h3 will trigger accessibility warnings in linters and renders awkwardly in rendered documentation.

**Fix:** Change all three `###` section headings to `##` to produce a correct h1 → h2 hierarchy, or alternatively demote the `# README` title to be absent and promote the sections to `##`.

---

**[A01-5]** — MEDIUM: README references "registers" without identifying what or where that artefact is

**Description:** The setup instruction states: "For any new scripts you wish to create there should be a different version name and it should be register in the 'registers'." No file, spreadsheet, or location named "registers" exists anywhere in the repository. There is no `registers/` directory, no `registers.csv`, and no `registers.xlsx`. The closest candidate might be `URL & PORTS.xlsx` but this is speculation. The instruction is unactionable to any new contributor.

**Fix:** Identify what "registers" refers to (file name, directory, or external system), update the README to include the actual path or URL, and if the artefact does not yet exist in the repository, create it or link to it.

---

**[A01-6]** — LOW: README says to "Get the folder 'CALAMP APPS' to your local" but the folder is already committed to the repository

**Description:** The setup instruction implies the reader must obtain the `CALAMP APPS` folder from an external source ("Get the folder 'CALAMP APPS' to your local and extract the LMU Manager. You can also get the latest version from CALAMP developer portal."). In fact, `CALAMP APPS/` — including `LMUMgr_8.9.10.7.zip` and `LMUToolbox_V41/` — is tracked in git and is present after a standard `git clone`. The instruction is misleading and may cause contributors to download a different (potentially incompatible) version from the developer portal when the pinned version is already in the repo.

**Fix:** Clarify that `CALAMP APPS/` is included in the repository and that cloning is sufficient. Note the specific tracked version (`LMUMgr_8.9.10.7`) and when it may be appropriate to obtain a newer version from the developer portal.

---

**[A01-7]** — LOW: README single-person contact creates a bus-factor risk and no escalation path

**Description:** The "Who do I talk to?" section lists a single named individual (`Rhythm Duwadi`) as the sole contact for all script changes and new script requests. There is no secondary contact, team alias, email address, or ticket queue. If this person is unavailable, there is no documented fallback.

**Fix:** Add at minimum a team email or project channel. Consider linking to a ticketing system for change requests so that requests are tracked even if the primary contact is unavailable.

---

**[A01-8]** — INFO: .gitignore patterns for binary/media types are entirely inapplicable to a CSV-only script repository

**Description:** The .gitignore contains patterns for `*.mp4`, `*.tiff`, `*.avi`, `*.flv`, `*.mov`, `*.wmv`, `*.app`, `*.exe`, `*.war`, `*.jar`, `*.class`, `*.py[cod]`, `TEST*.xml`, `node_modules/`, `target/`, `.idea/`, `dist/` — none of which correspond to any file type present or plausibly expected in a GPS device configuration script repository. This is a style and clarity issue (the file signals intent to developers who may misread it as relevant), not a functional git error.

**Fix:** Addressed by A01-1. Noted separately for completeness as an INFO-level style signal.

---

**[A01-9]** — INFO: Both files use CRLF line endings; no .gitattributes is present to enforce this

**Description:** Both `.gitignore` and `README.md` use CRLF line endings throughout. The local git config has `core.autocrlf=true`, which means line endings are converted on checkout for Windows users. However, there is no `.gitattributes` file to explicitly declare expected line endings for each file type (e.g., `* text=auto` or `*.csv text eol=crlf`). Without `.gitattributes`, cross-platform contributors (macOS/Linux) may inadvertently commit LF-only versions and cause spurious diffs.

**Fix:** Add a `.gitattributes` file with at minimum `* text=auto` and explicit `*.csv text eol=crlf` if Windows-only line endings are required for LMU Manager compatibility.
# Pass 4 Code Quality — Agent A02
**Files:** CALAMP APPS/AppendCRC16ToBin/, CALAMP APPS/LMUMgr_8.9.10.7.zip
**Branch:** main
**Date:** 2026-02-28

---

## Reading Evidence

### Files Enumerated

#### CALAMP APPS/AppendCRC16ToBin/
| File | Size (bytes) | Notes |
|------|-------------|-------|
| x.bin | 0 | Zero-byte file |

#### CALAMP APPS/ (parent directory)
| File/Dir | Size (bytes) | Notes |
|----------|-------------|-------|
| AppendCRC16ToBin/ | (dir) | Contains only x.bin (0 bytes) |
| LMUMgr_8.9.10.7.zip | 2,446,454 | Valid ZIP archive |
| LMUToolbox_V41/ | (dir) | Contains ConfigParams.xml, PEG List.xml, VBUS.xml |

#### CALAMP APPS/LMUMgr_8.9.10.7.zip — ZIP contents
| Internal Path | Size (bytes) | Format |
|--------------|-------------|--------|
| LMUMgr_8.9.10.7/LMUMgr 8.9.10.7.exe | 6,937,088 | Windows PE executable |

### Git History for These Files
- Commit `415ab6d` (2024-02-02): "Added the CALAMP apps here" — introduced `AppendCRC16ToBin/x.bin` as a 0-byte file alongside LMUToolbox_V41 XML files.
- Commit `f14c76c` (2024-02-02): "Added the LMU Manager" — added `LMUMgr_8.9.10.7.zip` (2,446,454 bytes, a Windows .exe inside a ZIP).
- Both commits are by the same author (Rhythm Duwadi) within minutes of each other.
- `x.bin` has been 0 bytes in every commit since introduction; it was never populated.

### README Claims (README.md, line 10)
> "Get the folder 'CALAMP APPS' to your local and extract the LMU Manager. You can also get the latest version from CALAMP developer portal."

### .gitignore Observations
- `.gitignore` explicitly ignores `*.exe` but does NOT ignore `*.zip` or `*.bin`.
- The committed `LMUMgr_8.9.10.7.exe` (inside the ZIP) would be ignored if extracted, but the ZIP wrapper circumvents the rule.

### Directory Structure Comparison
- Other top-level directories (`Aus Script/`, `US Script/`, `UK Script/`, `8bit Script/`, `Demo Script/`) contain only `.csv` configuration scripts and subdirectories named by customer.
- `CALAMP APPS/` is the only directory containing binary/application artifacts, making it structurally distinct from the rest of the repo.

---

## Findings

**[A02-1]** — HIGH: x.bin is a zero-byte dead artifact committed to the repository

**Description:** `CALAMP APPS/AppendCRC16ToBin/x.bin` is exactly 0 bytes in size and has been 0 bytes since it was first committed in commit `415ab6d` on 2024-02-02. The file has never contained any content. The directory name `AppendCRC16ToBin` implies this file is intended to hold a binary that has a CRC16 checksum appended to it — a known CalAmp firmware/configuration binary preparation step — but the file was never populated. This is a dead placeholder artifact with no functional value in its current state.

**Fix:** Either populate `x.bin` with the actual binary it is meant to hold (with CRC16 appended as the directory name implies), or delete the entire `AppendCRC16ToBin/` directory and its empty placeholder if the tooling workflow is no longer required. Do not retain a permanently empty binary file in version control.

---

**[A02-2]** — HIGH: Vendor binary (LMUMgr_8.9.10.7.zip) committed to repository contradicts README guidance

**Description:** The README instructs users to "get the latest version from CALAMP developer portal," which implies this binary should be obtained externally rather than distributed via this repository. Nevertheless, `LMUMgr_8.9.10.7.zip` (2,446,454 bytes, containing `LMUMgr 8.9.10.7.exe`) is committed directly to the repository. This creates a contradiction: the README's "also get the latest version" language suggests the portal is the authoritative source, yet a specific older version is pinned in the repo. Users following the README may download a newer version from the portal that differs from the committed one, leading to inconsistent tooling across the team.

**Fix:** Either (a) remove the zip from the repository and rely solely on the developer portal (updating the README to remove the "get the folder" instruction and replace it with a portal link and the specific version number required), or (b) document clearly in the README that the committed version (8.9.10.7) is the required version and remove the suggestion to "get the latest" from the portal, since latest and committed may differ.

---

**[A02-3]** — MEDIUM: Committed .exe (inside ZIP) circumvents the .gitignore *.exe rule

**Description:** The `.gitignore` file contains the rule `*.exe` under the "Applications" section, which would block direct commits of executable files. However, `LMUMgr_8.9.10.7.zip` contains `LMUMgr 8.9.10.7.exe` (6,937,088 bytes) packaged inside a ZIP archive. The ZIP wrapper circumvents the `.gitignore` protection that was presumably intended to prevent large binary executables from being tracked. The result is that a large Windows executable is stored in git history in perpetuity, bloating the repository.

**Fix:** Add `*.zip` (or at minimum `LMUMgr*.zip`) to `.gitignore` to close the circumvention gap. If the ZIP must be retained for distribution, consider using Git LFS for large binary files, or document the download URL in the README and remove the committed binary.

---

**[A02-4]** — MEDIUM: No version reference validation — LMUMgr version 8.9.10.7 is not referenced anywhere else in the repo

**Description:** The ZIP is named `LMUMgr_8.9.10.7.zip` and contains `LMUMgr 8.9.10.7.exe`, but the version string `8.9.10.7` appears nowhere else in the repository (not in the README, not in any script CSV, not in any other documentation). There is no way for a new contributor to know whether 8.9.10.7 is the current required version, a historical version, or an outdated one. The README only says "extract the LMU Manager" without specifying a version.

**Fix:** Add an explicit version requirement to the README (e.g., "LMU Manager version 8.9.10.7 is required; the committed ZIP contains this version"). If the version is intentionally unpinned, remove the specific-version ZIP and replace it with a link to the portal.

---

**[A02-5]** — LOW: AppendCRC16ToBin directory has no README, documentation, or usage instructions

**Description:** The `AppendCRC16ToBin/` directory exists with a single zero-byte file (`x.bin`) and no accompanying documentation explaining its purpose, the expected workflow (what tool or script appends the CRC16, what the input/output is, where the tool comes from), or the intended state of `x.bin`. The directory name implies a specific binary preparation process that is a prerequisite for CalAmp device programming, but there is no context provided for operators.

**Fix:** Add a short README or inline comment (or expand the main README) explaining the purpose of this directory, the workflow for generating a CRC16-appended binary, which tool performs the operation, and the expected input binary source. This is especially important if the directory is meant to remain as a working location for operators.

---

**[A02-6]** — LOW: CALAMP APPS directory is structurally inconsistent with the rest of the repository

**Description:** All other top-level directories in the repository (`Aus Script/`, `US Script/`, `UK Script/`, `8bit Script/`, `Demo Script/`) contain only `.csv` LMU configuration scripts organised by customer subdirectory. `CALAMP APPS/` is the sole exception, containing a mixture of binary application files (ZIP/EXE), large XML toolbox data files (up to 17 MB), and an empty binary placeholder. This makes the repository structure heterogeneous without any documented rationale for the mixed content.

**Fix:** Consider separating application tooling (LMU Manager, toolbox data) from configuration scripts, either by documenting the distinction clearly in the README or by restructuring (e.g., placing tooling in a `tools/` directory and noting that `CALAMP APPS/` serves a different purpose than the script directories).
# Pass 4 Code Quality — Agent A04
**Files:** Aus Script/ (first batch)
**Branch:** main
**Date:** 2026-02-28

---

## Reading Evidence

All 16 CSV files in `Aus Script/` were enumerated. The first 8 alphabetically are assigned to this agent:

| # | File (relative to `Aus Script/`) | Rows | APN (2306,0) | Server Primary (2319,0) | Server Fallback (2319,1) | Version (1024,1) |
|---|---|---|---|---|---|---|
| 1 | `61.61 General for CI old dashboard datamono.csv` | 1230 | `data.mono` | `narhm.tracking-intelligence.com` | ABSENT | 0x3D = 61 |
| 2 | `Boaroo/69.005 Rayven Boaroo Telstra Final.csv` | 1228 | ABSENT (Telstra) | `52.164.241.179` | ABSENT | 0x45 = 69 |
| 3 | `CEA/50.131 LMU1220 units.csv` | 318 | ABSENT | `narhm.tracking-intelligence.com` | `52.164.241.179` | 0x32 = 50 |
| 4 | `CEA/50.132 LMU1220 Rayven.csv` | 318 | ABSENT | `52.164.241.179` | `52.164.241.179` | 0x32 = 50 |
| 5 | `CEA/61.140 Rayven and CI clone CEA Telsta Final.csv` | 1229 | ABSENT (Telstra) | `narhm.tracking-intelligence.com` | `52.164.241.179` | 0x3D = 61 |
| 6 | `CEA/61.141 Rayven and CI clone CEA data Mono Final.csv` | 1231 | `data.mono` | `narhm.tracking-intelligence.com` | `52.164.241.179` | 0x3D = 61 |
| 7 | `CEA/69.003 RD CEA Telstra Final.csv` | 1228 | ABSENT (Telstra) | `52.164.241.179` | ABSENT | 0x45 = 69 |
| 8 | `CEA/69.004 RD CEA Monogoto Final.csv` | 1230 | `data.mono` | `52.164.241.179` | ABSENT | 0x45 = 69 |

**Decoding notes:**
- APN hex `646174612E6D6F6E6F00` = `data.mono`
- Server hex `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00` = `narhm.tracking-intelligence.com`
- Server hex `35322E3136342E3234312E31373900` = `52.164.241.179`
- Port (2318,0) hex `2A323238393900` = `*22899` — consistent across all 8 files
- Credentials (2308,0/2309,0): `Kore` / `Kore123` — present in all full scripts (files 1, 2, 5, 6, 7, 8), absent in partial scripts (files 3, 4)

**Version consistency:** All 8 files pass the filename-prefix-vs-1024,1 check (hex value of 1024,1 decoded to decimal matches the filename version prefix in every case).

**Duplicate rows:** No duplicate `parameter_id,parameter_index` pairs found in any of the 8 files.

**Line endings:** All 8 files use CRLF consistently. No trailing whitespace detected.

**Header:** All 8 files have the correct header `parameter_id,parameter_index,parameter_value` on line 1.

---

## Findings

**[A04-1]** — HIGH: Duplicate server address in 50.132 — no effective failover

**Description:** In `CEA/50.132 LMU1220 Rayven.csv`, both server slots point to the same IP address: `2319,0 = 52.164.241.179` and `2319,1 = 52.164.241.179`. The companion file `50.131 LMU1220 units.csv` correctly uses `2319,0 = narhm.tracking-intelligence.com` (hostname) and `2319,1 = 52.164.241.179` (IP fallback). The 50.132 Rayven variant appears to have had the hostname primary replaced by the IP, then the second slot was not updated, leaving both pointing to the same endpoint. If 52.164.241.179 is unreachable (DNS-based redirect, cloud migration, IP change), neither server slot provides an alternative path, defeating the dual-server configuration.

**Fix:** Replace `2319,0` in 50.132 with the hostname value `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00` (`narhm.tracking-intelligence.com`) to restore proper primary-hostname / fallback-IP ordering consistent with 50.131.

---

**[A04-2]** — HIGH: Suspicious server hostname `narhm.tracking-intelligence.com` across all files using the hostname

**Description:** Every file in this batch that references a hostname server uses `narhm.tracking-intelligence.com` (hex `6E6172686D...`). The prefix `narhm` is 5 characters. The common CalAmp/tracking server naming convention uses `narwhal` (7 characters). The decoded bytes `6E 61 72 68 6D` spell `narhm`, while `narwhal` would be `6E 61 72 77 68 61 6C`. This affects files 1, 3, 5, 6 (61.61, 50.131, 61.140, 61.141). If the correct FQDN is `narwhal.tracking-intelligence.com`, every hostname-based primary server entry in this batch resolves to a non-existent host, causing all devices to fall back to the IP address immediately. Devices configured with only this hostname and no IP fallback (61.61) would be completely unable to connect if DNS fails to resolve `narhm`.

**Fix:** Verify the correct hostname with the tracking-intelligence.com administrator. If the intended hostname is `narwhal.tracking-intelligence.com` (hex `6E61727768616C2E...`), update 2319,0 in all affected files. If `narhm` is intentional (a legitimate short alias), document this explicitly in a README or comment.

---

**[A04-3]** — MEDIUM: Missing server fallback in 61.61 — single server only

**Description:** `61.61 General for CI old dashboard datamono.csv` configures only `2319,0 = narhm.tracking-intelligence.com` with no `2319,1` IP fallback. All other datamono scripts in this batch (61.141, and effectively 50.131) configure both a primary hostname and a fallback IP address. If the hostname fails to resolve, devices using 61.61 have no secondary endpoint and will be unable to report. The file is also labeled "old dashboard" suggesting it may be a legacy script still in active use.

**Fix:** Add `2319,1,35322E3136342E3234312E31373900` (52.164.241.179) as a fallback server, consistent with 61.141. If this script is deprecated, remove it from the repository or add a clear deprecation marker in its filename.

---

**[A04-4]** — MEDIUM: Missing server fallback in 69.003, 69.004, and 69.005 — single IP only

**Description:** Three files in the `69.x` series configure only a single IP address as the server (2319,0 = 52.164.241.179) with no hostname fallback slot (2319,1 absent): `69.003 RD CEA Telstra Final.csv`, `69.004 RD CEA Monogoto Final.csv`, and `69.005 Rayven Boaroo Telstra Final.csv`. In contrast, the corresponding `61.x` production-final scripts (61.140 CEA Telstra, 61.141 CEA DataMono) configure both hostname and IP fallback. The 69.x scripts appear to be "RD" (road-deploy or reduced-deployment) variants that omitted the dual-server configuration present in the final equivalents. Relying solely on a raw IP address means devices cannot reconnect if the cloud provider assigns a new IP to the same FQDN.

**Fix:** Add `2319,0 = narhm.tracking-intelligence.com` (hostname) as primary and demote the IP to `2319,1` as fallback, consistent with the 61.x final scripts. (Subject to the hostname correctness fix from A04-2.)

---

**[A04-5]** — MEDIUM: Inconsistent speed threshold parameter 773,0 between 50.x and 61.x/69.x scripts

**Description:** Parameter `773,0` (speed-related threshold) has value `0x2000` (decimal 8192) in both `50.131 LMU1220 units.csv` and `50.132 LMU1220 Rayven.csv`, while every other script in this batch (61.61, 69.005, 61.140, 61.141, 69.003, 69.004) uses `0x2C80` (decimal 11392). The 50.x files target the LMU1220 device model, which may have a different threshold requirement, but no documentation explains the intentional difference. If these scripts will be applied to the same field devices as the 61.x scripts, the threshold mismatch will cause different event trigger behaviour across the fleet.

**Fix:** Confirm whether the lower 8192 threshold is intentional for the LMU1220 hardware. If it is intentional, add a comment in the filename or a companion notes file. If it is a copy-paste error, update to `0x2C80` to match the standard value.

---

**[A04-6]** — MEDIUM: Cleartext credentials stored in configuration parameters

**Description:** Parameters `2308,0` (username) and `2309,0` (password) contain plaintext credentials: username `Kore` (hex `4B6F726500`) and password `Kore123` (hex `4B6F726531323300`). These are present in 6 of the 8 assigned files (all full deployment scripts). Because these CSV files are stored in a version-controlled repository with no encryption, anyone with read access to the repository can obtain these credentials. `Kore123` follows an obvious pattern (service-name + sequential digits), increasing guessability.

**Fix:** Rotate the password to a strong randomly-generated value. Consider whether credentials need to be embedded in device configuration at all — if they are only used for an APN or server authentication layer, evaluate whether certificate-based or token-based authentication is available. At minimum, restrict repository access and ensure the repository is not public.

---

**[A04-7]** — LOW: Filename typo in 61.140 — "Telsta" instead of "Telstra"

**Description:** The file `CEA/61.140 Rayven and CI clone CEA Telsta Final.csv` has the carrier name misspelled as "Telsta" instead of "Telstra". All other Telstra-carrier files in the repository use the correct spelling. This creates confusion when searching by filename and may cause incorrect file selection during deployment.

**Fix:** Rename the file to `61.140 Rayven and CI clone CEA Telstra Final.csv` (insert missing `r`). Update any deployment scripts or documentation that reference the old filename.

---

**[A04-8]** — LOW: Partial scripts (50.131, 50.132) omit parameters present in full deployment scripts

**Description:** `50.131 LMU1220 units.csv` and `50.132 LMU1220 Rayven.csv` are structured as partial device-level configurations (318 rows vs ~1229 rows for full scripts). They omit several parameters that all full deployment scripts explicitly configure: `256,x` (input configuration), `1026,0`, `1052,x`, `1053,0`, `1054,0`, `1056,0`, `2178,0`, `2307,0`, `2308,0`, `2309,0`, and the 513/515/768-779/902-909 blocks. For many of these parameters the device will retain factory defaults or previously written values. If these partial scripts are applied to freshly provisioned devices, unpredictable default values will be in effect for parameters not covered. The relationship between these partial scripts and the full 61.x scripts is not documented.

**Fix:** Document in a README whether these 50.x scripts are intended to be applied on top of a full baseline script or standalone. If standalone, expand them to full scripts. If incremental, clearly note the prerequisite base script.

---

**[A04-9]** — LOW: Legacy "old dashboard" script (61.61) retained in active repository without deprecation marker

**Description:** `61.61 General for CI old dashboard datamono.csv` contains the phrase "old dashboard" in its name, indicating it was designed for a superseded system. It lacks a server IP fallback (see A04-3), uses only the hostname primary, and is a general-purpose generic script rather than a customer-specific one. No deprecation notice, README, or archived subfolder indicates this file should not be applied to new deployments. There is a risk an operator selects this file believing it is current.

**Fix:** Either delete the file if it is fully superseded, move it to an `_archive/` subdirectory, or add a `DEPRECATED_` prefix to the filename. If it must remain active, bring it to parity with 61.141 by adding the IP fallback.

---

**[A04-10]** — INFO: All 8 files use consistent CSV structure and CRLF line endings

**Description:** All 8 files in this batch share a consistent `parameter_id,parameter_index,parameter_value` header, use CRLF line endings throughout, have no trailing whitespace, and contain no duplicate `parameter_id,parameter_index` key pairs. Hex values are uniformly uppercase with consistent zero-padding (e.g., `0000000A`, not `A` or `0xa`). Parameter ordering within each file is consistent by parameter_id ascending, then parameter_index ascending.

**Fix:** No action required.
# Pass 4 Code Quality — Agent A06
**Files:** Aus Script/ (second batch)
**Branch:** main
**Date:** 2026-02-28

---

## File Enumeration

All 16 CSV files in `Aus Script/` were identified. The second half alphabetically (files 9–16) are:

| # | File |
|---|------|
| 9 | `Keller/61.101 Rayven Keller Demo Blank APN.csv` |
| 10 | `Keller/61.111 Optimal Script for Keller.csv` |
| 11 | `Komatsu_AU/61.133 Rayven and CI clone Komatsu Telstra Final.csv` |
| 12 | `Komatsu_AU/61.135 Rayven and CI clone Komatsu Data.mono Final.csv` |
| 13 | `Komatsu_AU/69.001 RD Komatsu Telstra Final.csv` |
| 14 | `Komatsu_AU/69.002 RD Komatsu Monogoto Final.csv` |

---

## Reading Evidence

### File: `Keller/61.101 Rayven Keller Demo Blank APN.csv`
- **Row count (data rows):** 1228
- **Unique parameter IDs:** 95
- **Line endings:** CRLF throughout
- **Trailing whitespace:** None
- **Duplicate rows:** None
- **APN (2306):** Not present (intentionally blank per filename)
- **Server (2319,0):** `35322E3136342E3234312E31373900` → `52.164.241.179` (IP format)
- **Server binary (768,0):** `34A4F1B3` → `52.164.241.179` (consistent with 2319,0)
- **Server secondary (768,1):** `00000000` (no fallback)
- **Version (1024,1):** `3D` = 61 decimal (matches filename prefix `61`)
- **Sub-version (1024,23):** `65` = 101 decimal (matches filename suffix `.101`)
- **Poll period (769,0):** `05DF` = 1503 seconds
- **APN username (2308,0):** `4B6F726500` = `Kore`
- **APN password (2309,0):** `4B6F726531323300` = `Kore123`
- **Placeholder/all-zero rows:** 851 / 1228 (69.3%)

### File: `Keller/61.111 Optimal Script for Keller.csv`
- **Row count (data rows):** 1228
- **Unique parameter IDs:** 95
- **Line endings:** CRLF throughout
- **Trailing whitespace:** None
- **Duplicate rows:** None
- **APN (2306):** Not present
- **Server (2319,0):** `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00` → `narhm.tracking-intelligence.com` (hostname format)
- **Server binary (768,0):** `6704EB0F` → `103.4.235.15`
- **Server secondary (768,1):** `00000000` (no fallback)
- **Version (1024,1):** `3D` = 61 decimal (matches filename prefix `61`)
- **Sub-version (1024,23):** `6F` = 111 decimal (matches filename suffix `.111`)
- **Poll period (769,0):** `2AF8` = 11000 seconds (~3.06 hours)
- **APN username (2308,0):** `4B6F726500` = `Kore`
- **APN password (2309,0):** `4B6F726531323300` = `Kore123`
- **Placeholder/all-zero rows:** 851 / 1228 (69.3%)

### File: `Komatsu_AU/61.133 Rayven and CI clone Komatsu Telstra Final.csv`
- **Row count (data rows):** 1229
- **Unique parameter IDs:** 95
- **Line endings:** CRLF throughout
- **Trailing whitespace:** None
- **Duplicate rows:** None
- **APN (2306):** Not present (Telstra — implicit APN)
- **Server (2319,0):** `narhm.tracking-intelligence.com` (hostname)
- **Server (2319,1):** `52.164.241.179` (IP fallback)
- **Server binary (768,0):** `6704EB0F` → `103.4.235.15` (primary)
- **Server binary (768,1):** `34A4F1B3` → `52.164.241.179` (fallback)
- **Version (1024,1):** `3D` = 61 decimal (matches filename prefix `61`)
- **Sub-version (1024,23):** `85` = 133 decimal (matches filename suffix `.133`)
- **Poll period (769,0):** `2AF8` = 11000 seconds
- **APN username (2308,0):** `4B6F726500` = `Kore`
- **APN password (2309,0):** `4B6F726531323300` = `Kore123`
- **Placeholder/all-zero rows:** 850 / 1229 (69.2%)

### File: `Komatsu_AU/61.135 Rayven and CI clone Komatsu Data.mono Final.csv`
- **Row count (data rows):** 1231
- **Unique parameter IDs:** 96 (includes 2306 — the extra parameter vs Telstra files)
- **Line endings:** CRLF throughout
- **Trailing whitespace:** None
- **Duplicate rows:** None
- **APN (2306,0):** `646174612E6D6F6E6F00` = `data.mono`
- **APN (2306,1):** `646174612E6D6F6E6F00` = `data.mono` (duplicate index for both SIM slots)
- **Server (2319,0):** `narhm.tracking-intelligence.com` (hostname)
- **Server (2319,1):** `52.164.241.179` (IP fallback)
- **Server binary (768,0):** `6704EB0F` → `103.4.235.15` (primary)
- **Server binary (768,1):** `34A4F1B3` → `52.164.241.179` (fallback)
- **Version (1024,1):** `3D` = 61 decimal (matches filename prefix `61`)
- **Sub-version (1024,23):** `87` = 135 decimal (matches filename suffix `.135`)
- **Poll period (769,0):** `2AF8` = 11000 seconds
- **APN username (2308,0):** `4B6F726500` = `Kore`
- **APN password (2309,0):** `4B6F726531323300` = `Kore123`
- **Placeholder/all-zero rows:** 850 / 1231 (69.0%)

### File: `Komatsu_AU/69.001 RD Komatsu Telstra Final.csv`
- **Row count (data rows):** 1228
- **Unique parameter IDs:** 95
- **Line endings:** CRLF throughout
- **Trailing whitespace:** None
- **Duplicate rows:** None
- **APN (2306):** Not present (Telstra)
- **Server (2319,0):** `52.164.241.179` (IP format only, no hostname)
- **Server binary (768,0):** `34A4F1B3` → `52.164.241.179`
- **Server secondary (768,1):** `00000000` (no fallback)
- **Version (1024,1):** `45` = 69 decimal (matches filename prefix `69`)
- **Sub-version (1024,23):** `01` = 1 decimal (matches filename suffix `.001`)
- **Poll period (769,0):** `05DC` = 1500 seconds (25 minutes)
- **APN username (2308,0):** `4B6F726500` = `Kore`
- **APN password (2309,0):** `4B6F726531323300` = `Kore123`
- **Placeholder/all-zero rows:** 851 / 1228 (69.3%)

### File: `Komatsu_AU/69.002 RD Komatsu Monogoto Final.csv`
- **Row count (data rows):** 1230
- **Unique parameter IDs:** 96 (includes 2306)
- **Line endings:** CRLF throughout
- **Trailing whitespace:** None
- **Duplicate rows:** None
- **APN (2306,0):** `646174612E6D6F6E6F00` = `data.mono`
- **APN (2306,1):** `646174612E6D6F6E6F00` = `data.mono`
- **Server (2319,0):** `52.164.241.179` (IP format only, no hostname)
- **Server binary (768,0):** `34A4F1B3` → `52.164.241.179`
- **Server secondary (768,1):** `00000000` (no fallback)
- **Version (1024,1):** `45` = 69 decimal (matches filename prefix `69`)
- **Sub-version (1024,23):** `02` = 2 decimal (matches filename suffix `.002`)
- **Poll period (769,0):** `05DC` = 1500 seconds (25 minutes)
- **APN username (2308,0):** `4B6F726500` = `Kore`
- **APN password (2309,0):** `4B6F726531323300` = `Kore123`
- **Placeholder/all-zero rows:** 851 / 1230 (69.2%)

---

## Cross-File Summary Table

| File | Version (1024,1) | Sub-ver (1024,23) | Primary Server (2319,0) | APN (2306) | Poll 769,0 |
|------|------------------|-------------------|------------------------|------------|------------|
| 61.101 Keller Demo | 3D (61) | 65 (101) | 52.164.241.179 (IP) | absent | 05DF (1503s) |
| 61.111 Optimal Keller | 3D (61) | 6F (111) | narhm.tracking-intelligence.com (hostname) | absent | 2AF8 (11000s) |
| 61.133 Komatsu Telstra | 3D (61) | 85 (133) | narhm.tracking-intelligence.com (hostname) | absent | 2AF8 (11000s) |
| 61.135 Komatsu Monogoto | 3D (61) | 87 (135) | narhm.tracking-intelligence.com (hostname) | data.mono | 2AF8 (11000s) |
| 69.001 RD Komatsu Telstra | 45 (69) | 01 (1) | 52.164.241.179 (IP) | absent | 05DC (1500s) |
| 69.002 RD Komatsu Monogoto | 45 (69) | 02 (2) | 52.164.241.179 (IP) | data.mono | 05DC (1500s) |

---

## Findings

**[A06-1]** — MEDIUM: Inconsistent server endpoint format across files pointing to the same server

**Description:** Files use two different formats to specify the primary server endpoint (parameter 2319,0) for what appears to be the same physical server. Files `61.101` and `69.001`/`69.002` use the raw IP address `52.164.241.179`, while files `61.111`, `61.133`, and `61.135` use the hostname `narhm.tracking-intelligence.com`. Additionally, file `61.111` sets register `768,0` to `6704EB0F` (= `103.4.235.15`), a different IP address than the `52.164.241.179` used in 2319-based files. If the hostname resolves to a different IP than `52.164.241.179`, the binary IP register (768) and the hostname in 2319 are pointing to different endpoints. This mixing of IP and hostname formats is an inconsistency that makes future maintenance error-prone and creates ambiguity about which endpoint is authoritative.

**Fix:** Standardise all files to use the hostname format (`narhm.tracking-intelligence.com`) in parameter 2319,0, and ensure register 768,0 is set to the IP that the hostname currently resolves to. Verify whether `103.4.235.15` and `52.164.241.179` are both valid targets for this server or if one is stale.

---

**[A06-2]** — MEDIUM: Kore APN credentials present in Monogoto files (potential credential mismatch)

**Description:** All six files — including the two Monogoto files (`61.135` and `69.002`) — contain hardcoded APN username `Kore` (parameter 2308,0 = `4B6F726500`) and password `Kore123` (parameter 2309,0 = `4B6F726531323300`). These credentials appear to be Kore network credentials used for the Telstra SIM configuration. The Monogoto files configure APN `data.mono` (parameter 2306) but retain the Kore credentials. If the Monogoto carrier requires different authentication or no credentials, the device may fail to connect or may leak credentials to an unintended carrier. Even if the Monogoto APN ignores these fields, their presence in Monogoto files creates confusion about intended configuration.

**Fix:** Confirm whether APN authentication (parameter 2307,0 = `00` = disabled) means the 2308/2309 values are unused. If authentication is genuinely disabled for all connections, document this clearly. If Kore credentials should only appear in Kore/Telstra files, clear 2308 and 2309 in the Monogoto variants (`61.135` and `69.002`).

---

**[A06-3]** — MEDIUM: Fallback server address defined but secondary server port is zero (disabled)

**Description:** Files `61.133` and `61.135` define two server entries: `2319,0 = narhm.tracking-intelligence.com` and `2319,1 = 52.164.241.179`, and correspondingly `768,0 = 103.4.235.15` and `768,1 = 34A4F1B3 (52.164.241.179)`. However, all files across this batch set `2313,0 = 0000` (secondary server port = 0, effectively disabled). Having a fallback server address configured while the port for that secondary server is zero means the fallback endpoint is unreachable. The device cannot connect to a server on port 0. This configuration contradiction renders the dual-server redundancy inoperative.

**Fix:** Either set `2313,0` to the correct secondary server port (likely the same port value as the primary: `0011` hex = 17 decimal) in `61.133` and `61.135`, or remove the `2319,1` fallback entry to keep configuration consistent with files that have no fallback.

---

**[A06-4]** — LOW: Inconsistent poll period for Keller Demo file (769,0 = 05DF instead of 05DC)

**Description:** File `61.101 Rayven Keller Demo Blank APN.csv` sets poll period register `769,0 = 05DF` (1503 seconds, ~25.05 minutes). All other files in the 69.x RD series set `769,0 = 05DC` (1500 seconds, exactly 25 minutes). The 3-second difference is likely an editing error: `0x05DC` = 1500 is the round-number 25-minute value, while `0x05DF` = 1503 is an unusual off-by-three. This may have arisen from a manual edit to the poll period without updating to a clean value.

**Fix:** Update `61.101` parameter `769,0` from `05DF` to `05DC` to align with the standard 1500-second interval, unless 1503 seconds is intentionally different for the demo context.

---

**[A06-5]** — LOW: Large proportion of explicitly-zeroed placeholder rows across all files

**Description:** In all six files, approximately 69% of data rows (around 850 out of 1228–1231) carry all-zero or all-`00` values. This includes the entire `513` parameter table (indices 0–233, all `0000000000000000`), `515` indices 235–249 (all zero), and large swaths of `779` (indices 59–249, all `00`). While it is normal in CalAmp scripts to explicitly write zeroes to reset or clear parameters, the sheer volume of zero-value rows provides no configuration signal and inflates file size significantly (~70% of each file is no-ops). There is no way to distinguish intentionally-cleared parameters from parameters that were never configured.

**Fix:** Consider whether parameters with all-zero values need to be explicitly set (i.e., whether the device's factory default is already zero for these registers). If factory defaults match, trim zero-value rows from the scripts to make the meaningful configuration rows easier to audit. At minimum, add a comment convention (e.g., in the filename or a separate manifest) to document which zero blocks are intentional resets versus unconfigured parameters.

---

**[A06-6]** — LOW: Parameter 515 starts at index 235, skipping indices 0–234; parameter 514 absent entirely

**Description:** In all six files, parameter block `515` is present only for indices 235 through 249 (15 rows, all zero-valued). Indices 0–234 of parameter 515 are not written, and parameter `514` does not appear at all in any file. This index gap is uniform across the batch, suggesting it is intentional (possibly only that sub-range of 515 is being reset), but it is undocumented and could mislead a maintainer who expects sequential index coverage.

**Fix:** Document why parameter 515 is only written for indices 235–249 and why 514 is omitted. If this is a device-model constraint (LMU supports only certain index ranges for these parameter IDs), add that context as a comment in the script manifest or README.

---

**[A06-7]** — LOW: Keller Demo file has no APN set and no fallback server; poll period is the only differentiator from production file

**Description:** File `61.101 Rayven Keller Demo Blank APN.csv` is described as a demo configuration with a blank APN. It differs from `61.111 Optimal Script for Keller.csv` in three ways: no APN (expected for a demo with no SIM commitment), a different primary server (52.164.241.179 IP vs hostname `narhm.tracking-intelligence.com`), and a different poll period (1503s vs 11000s). The demo file uses an IP address as its server rather than the hostname used in the production Keller script. This means a demo device activated on the wrong APN could still report to the production server IP. There is no structural guard preventing a demo-configured device from accidentally connecting to production infrastructure if a live SIM is inserted.

**Fix:** If the demo configuration is intended to be isolated from production, use a different server IP or hostname that points to a demo/staging server. Alternatively, document that connecting to the production server with a demo APN is acceptable for the intended use case.

---

**[A06-8]** — INFO: Version numbering convention is self-consistent across all files

**Description:** All files in this batch follow a consistent version encoding scheme: parameter `1024,1` encodes the major version as a hex byte equal to the decimal prefix of the filename (e.g., `61.x` files have `1024,1 = 3D` = 61 decimal; `69.x` files have `1024,1 = 45` = 69 decimal). Similarly, parameter `1024,23` encodes the minor script number matching the filename suffix (e.g., `61.133` has `1024,23 = 85` = 133 decimal). No version mismatches were detected between filename numbers and embedded version parameters in the files assigned to this agent.

**Fix:** No action required. This pattern should be documented as the official version-stamping convention for the script library.

---

**[A06-9]** — INFO: Line endings are uniformly CRLF; no mixed or LF-only files detected

**Description:** All six files use Windows-style CRLF line endings consistently throughout. No mixed line endings or LF-only lines were detected. This is consistent and expected for CSV files maintained on Windows systems.

**Fix:** No action required. Confirm that any automated processing tools (CI/CD pipelines, importers) handle CRLF correctly.
# Pass 4 Code Quality — Agent A09
**Files:** Demo Script/
**Branch:** main
**Date:** 2026-02-28

---

## Reading Evidence

### Files Enumerated

| File | Location | Row Count (data rows) |
|------|----------|-----------------------|
| `61.142 Demo Rayven datamono.csv` | `Demo Script/` | 1230 |
| `161.32 Rayven Demo DataMono Final.csv` | `UK Script/` | 1234 |
| `61.101 Rayven Keller Demo Blank APN.csv` | `Aus Script/Keller/` | 1228 |

**Note:** `161.32` and `61.101` are demo-labelled scripts located outside the `Demo Script/` folder; they are included as comparison subjects per the glob of demo-designated files across the repo.

Production reference used for diff: `Aus Script/CEA/61.141 Rayven and CI clone CEA data Mono Final.csv` (1231 data rows, identical parameter set to 61.142).

---

### Key Parameter Evidence — 61.142 Demo Rayven datamono.csv

| Parameter | Decoded Value | Notes |
|-----------|--------------|-------|
| `1024,1` (version) | `0x3D` = 61 decimal | Matches filename prefix `61.142` |
| `2306,0` (APN index 0) | `data.mono` | Live Monogoto APN set |
| `2306,1` (APN index 1) | `data.mono` | Live Monogoto APN set |
| `2307,0` | `00` | No APN username |
| `2308,0` (SIM carrier) | `Kore` | Live carrier credential present |
| `2309,0` (SIM username/password) | `Kore123` | Plaintext SIM credential present |
| `2312,0` | `0011` | |
| `2313,0` | `0000` | |
| `2318,0` (SMS caller filter) | `*22899` | Live SMS number set |
| `2319,0` (primary server) | `52.164.241.179` | Live production IP only (no hostname) |
| `3331,0` (password field) | `*****` | Masked/placeholder password value |
| `768,0` (device radio ID) | `34A4F1B3` | Non-zero — real device hardware ID |
| `768,1` | `00000000` | |
| Unique parameter_ids | 96 | |
| Duplicate param_id,param_index pairs | None | |

**513 series:** Indices 0–233 only (terminates at 513,233); indices 234 are absent, then jumps to parameter **515** at indices 235–249.

**1538 series:** Present (indices 0–3), values `0002`, `0000`, `0000`, `0001`.

**2176 series:** Absent entirely.

**2311 (server port):** Absent.

**2320 (domain):** Absent.

**2322 (keep-alive interval):** Absent.

---

### Key Parameter Evidence — 161.32 Rayven Demo DataMono Final.csv (UK Demo)

| Parameter | Decoded Value | Notes |
|-----------|--------------|-------|
| `1024,1` (version) | `0xA1` = 161 decimal | Matches filename prefix `161.32` |
| `2306,0` | `data.mono` | Live Monogoto APN set |
| `2306,1` | `data.mono` | Live Monogoto APN set |
| `2308` / `2309` | Absent | No SIM credentials |
| `2311,0` (port) | `0x5014` = 20500 | Port set explicitly |
| `2319,0` (server) | `52.164.241.179` | Live production IP |
| `2320,0` (domain) | `dm.calamp.co.uk` | UK-specific domain present |
| `2322,0` (keep-alive) | `0x00015180` = 86400 s | 24-hour keep-alive |
| `2176,0–6` | Wakeup schedule set | Absent in 61.142 |
| `773,0` | `0x2080` = 8320 | Differs from 61.142 |
| `1538` series | Absent | Present in 61.142 |
| `515` series | Absent | Present in 61.142 |

---

### Key Parameter Evidence — 61.101 Rayven Keller Demo Blank APN.csv

| Parameter | Decoded Value | Notes |
|-----------|--------------|-------|
| `1024,1` (version) | `0x3D` = 61 decimal | Matches filename prefix `61.101` |
| `2306` (APN) | **Absent** | APN intentionally blank as per filename |
| `2319,0` (server) | `52.164.241.179` | Live production IP |
| `768,0` | `34A4F1B3` | Identical to 61.142 Demo — same base device |
| `779` series | All `00` | All event processing disabled |

---

### 61.142 Demo vs CEA Production 61.141 — Value Differences

| Parameter | 61.142 Demo | 61.141 CEA Prod | Significance |
|-----------|------------|-----------------|--------------|
| `768,0` | `34A4F1B3` | `6704EB0F` | Device-specific radio ID |
| `768,1` | `00000000` | `34A4F1B3` | Shifted ID slot |
| `769,0` | `05DF` | `2AF8` | Frequency/threshold diff |
| `769,1` | `5014` | `05E0` | Frequency/threshold diff |
| `1024,23` | `8E` | `8D` | Minor config byte diff |
| `2319,0` | `52.164.241.179` (IP only) | `narhm.tracking-intelligence.com` (hostname) | Demo has IP only; prod has hostname as primary, IP as fallback (2319,1) |

---

## Findings

**[A09-1]** — HIGH: Live production SIM credentials present in demo script

**Description:** `61.142 Demo Rayven datamono.csv` contains `2308,0 = Kore` (SIM carrier name) and `2309,0 = Kore123` (SIM username/password, plaintext) in hex-encoded form. These are live Kore wireless SIM credentials committed to the repository. Any device provisioned with this demo script will authenticate against the live Kore network using shared credentials that are visible in the repo. The UK Demo script (`161.32`) has no `2308`/`2309` entries, demonstrating that a demo script can be constructed without embedding SIM credentials.
**Fix:** Remove `2308` and `2309` entries from `61.142 Demo Rayven datamono.csv`, or replace the `2309` value with a placeholder such as `00` (empty). Do not store plaintext SIM credentials in any script that is committed to source control.

---

**[A09-2]** — HIGH: Demo script points directly to live production server IP with no hostname abstraction

**Description:** `61.142 Demo Rayven datamono.csv` sets `2319,0 = 52.164.241.179` (the live production CalAmp server IP) as its only server entry. There is no hostname configured (unlike the CEA production script `61.141` which uses `narhm.tracking-intelligence.com` as primary and the IP as fallback). Devices flashed with this demo script will send real GPS tracking data to the live production platform, potentially polluting production data with demo device traffic, and exposing the raw server IP in a demo-context repo.
**Fix:** Either set `2319,0` to a dedicated demo/staging server endpoint, or replace it with a known non-routable placeholder. If no staging server exists, document clearly that demo devices will report to production, and ensure demo devices are decommissioned from the platform after use.

---

**[A09-3]** — MEDIUM: Demo script is the only file in `Demo Script/` folder; other demo-labelled scripts are stored in production subfolders

**Description:** The repository has a dedicated `Demo Script/` directory containing only `61.142 Demo Rayven datamono.csv`. However, two additional demo-designated scripts exist outside this folder: `UK Script/161.32 Rayven Demo DataMono Final.csv` and `Aus Script/Keller/61.101 Rayven Keller Demo Blank APN.csv`. There is no consistent policy for where demo scripts reside. A reviewer or provisioning engineer searching `Demo Script/` will miss the two outliers, and production folder presence means demo scripts could be confused for deployable production configs.
**Fix:** Move all demo-labelled scripts into the `Demo Script/` folder (or a regional subfolder structure within it, e.g., `Demo Script/UK/`, `Demo Script/Aus/`). If scripts must remain in production folders for workflow reasons, add a README or naming suffix to unambiguously distinguish them from production-ready scripts.

---

**[A09-4]** — MEDIUM: Demo script (`61.142`) missing server hostname — only IP configured for parameter 2319

**Description:** The CEA production equivalent (`61.141`) configures `2319,0` as the DNS hostname `narhm.tracking-intelligence.com` and `2319,1` as the IP fallback `52.164.241.179`. The demo script `61.142` only configures `2319,0` as the IP address with no `2319,1` fallback and no hostname entry. This means the demo script has no DNS-based server resolution; if the server IP changes, demo-deployed devices will lose connectivity with no fallback mechanism. It also diverges structurally from the production pattern (hostname primary + IP fallback) in a way that is not intentional for demo purposes.
**Fix:** Align `2319` configuration to use a hostname as `2319,0` with the IP as `2319,1`, mirroring the production script pattern. For demo use, this could point to a staging hostname rather than the production one.

---

**[A09-5]** — MEDIUM: Non-zero device radio ID (`768,0 = 34A4F1B3`) shared across demo scripts

**Description:** Both `61.142 Demo Rayven datamono.csv` and `61.101 Rayven Keller Demo Blank APN.csv` contain `768,0 = 34A4F1B3`. This appears to be a real CalAmp device hardware radio ID (the value is non-zero, unique-looking, and differs from production scripts). The fact that two different demo scripts share the identical value suggests it was copied from a single physical device and was never sanitised for demo distribution. If this ID corresponds to a real provisioned device, sharing it in a demo script could cause device identity conflicts when deployed to different hardware.
**Fix:** Replace `768,0` in demo scripts with `00000000` or a clearly synthetic placeholder value to indicate it is not a real hardware ID. If `768,0` is expected to be per-device (set at flash time), document this as a required post-deployment step.

---

**[A09-6]** — MEDIUM: Structural divergence between `61.142` and `161.32` UK Demo — missing parameters `2176`, `2311`, `2320`, `2322`

**Description:** The UK Demo script `161.32` contains four parameter groups absent from `61.142`: `2176` (7-entry wakeup schedule), `2311,0 = 0x5014` (port 20500), `2320,0 = dm.calamp.co.uk` (domain), and `2322,0 = 0x00015180 = 86400` (24-hour keep-alive). Conversely, `61.142` contains `1538` (4 entries) and `515` (15 entries, indices 235–249) that `161.32` lacks. The two demo scripts therefore have materially different parameter structures, making it unclear which is the canonical demo template. The parameter gap in `513` (ends at index 233 with a jump to `515,235`) in `61.142` and `61.101` but not in `161.32` also indicates a likely truncation or import error in the AU-region demo scripts.
**Fix:** Determine the canonical demo parameter set and apply it consistently across all regional demo scripts. Specifically investigate the `513,234` missing entry and whether the jump to `515,235` is intentional or an export artefact. Document intentional regional differences.

---

**[A09-7]** — LOW: `2318,0` (SMS caller filter) contains a live phone number in the demo script

**Description:** `61.142 Demo Rayven datamono.csv` sets `2318,0 = *22899` (decoded from hex `2A323238393900`). This is an SMS caller ID filter — only SMS commands from this number will be accepted by the device. In a demo context, embedding a specific live phone number (even if it is a service number) means the demo device is configured to respond to SMS commands only from a known production number. This is potentially a security concern if the demo device is left active, and represents an unsanitised production value in a demo script.
**Fix:** Replace `2318,0` with a null/wildcard value (e.g., all zeros) in the demo script, or document clearly that this number is the designated demo control number and is intentionally set.

---

**[A09-8]** — LOW: `773,0` differs between `61.142` Demo and `161.32` UK Demo without explanation

**Description:** `61.142 Demo Rayven datamono.csv` has `773,0 = 0x2C80 = 11392` while `161.32 Rayven Demo DataMono Final.csv` has `773,0 = 0x2080 = 8320`. The value in `61.142` matches the Keller Demo `61.101` and the CEA production `61.141`, suggesting the UK Demo has a distinct value. Parameter 773 controls a threshold or buffer size setting. Without documentation of the intended difference, it is unclear whether the UK value is a deliberate regional tuning or an error introduced during the UK Demo's creation.
**Fix:** Document the intended value for `773,0` per region in a script changelog or README. If the difference is not intentional, align the UK Demo to the standard value.

---

**[A09-9]** — INFO: Header format is consistent across all demo and production scripts

**Description:** All scripts examined use the identical three-column header `parameter_id,parameter_index,parameter_value` with no BOM, trailing spaces, or capitalisation variants. No formatting inconsistencies were found in the header row.
**Fix:** No action required.

---

**[A09-10]** — INFO: No duplicate `parameter_id,parameter_index` rows found in `61.142`

**Description:** A full scan of `61.142 Demo Rayven datamono.csv` confirmed zero duplicate `(parameter_id, parameter_index)` key pairs across 1230 data rows.
**Fix:** No action required.

---

**[A09-11]** — INFO: Version byte (`1024,1`) matches filename prefix for all three demo scripts

**Description:** `1024,1 = 0x3D = 61` for both `61.142` and `61.101`; `1024,1 = 0xA1 = 161` for `161.32`. All version bytes are consistent with their respective filename version prefixes.
**Fix:** No action required.
# Pass 4 Code Quality — Agent A12
**Files:** 8bit Script/ (first batch)
**Branch:** main
**Date:** 2026-02-28

---

## Reading Evidence

### Files Enumerated

| # | Filename | Role |
|---|----------|------|
| 1 | `50.131-RHM-8bit-LMU1220-POD-10minSleep6hr-Input1POS-PwrMonEvt-PEG0MotionEvtAcc4Dist500Thes10.csv` | Primary script |
| 2 | `50.131-RHM-8bit-LMU1220-POD-10minSleep6hr-Input1POS-PwrMonEvt-PEG0MotionEvtAcc4Dist500Thes10 (1).csv` | Windows duplicate copy artifact |

**Diff result:** `FILES ARE IDENTICAL` (byte-for-byte confirmed via `diff`)

### Primary File Statistics

| Property | Value |
|----------|-------|
| Total rows (including header) | 328 |
| Data rows | 327 |
| Unique parameter IDs | 55 |
| Header | `parameter_id,parameter_index,parameter_value` |
| Line endings | CRLF |
| BOM | None |
| Duplicate parameter_id,parameter_index rows | 0 |

### Key Decoded Parameters

| Parameter | Hex Value | Decoded Value | Notes |
|-----------|-----------|---------------|-------|
| `1024,1` | `32` | 50 (decimal) | Script version; matches filename prefix `50.` |
| `265,0` | `0000003C` | 60 seconds | In-motion report interval |
| `265,3` | `00000258` | 600 seconds / 10 min | Sleep interval; matches filename `10minSleep` |
| `265,4` | `00005460` | 21600 seconds / 6 hr | Max sleep; matches filename `6hr` |
| `769,0` | `2AF8` | 11000 seconds | Comm timeout index 0 |
| `773,0` | `2000` | 8192 | Max speed threshold |
| `2306,0/1` | `6461746136343130303300` | `data641003` | APN name |
| `2314,0/1` | `64756D6D7900` | `dummy` | APN username |
| `2315,0/1` | `64756D6D7900` | `dummy` | APN password |
| `2316,0/1` | `2A39392A2A2A312300` | `*99***1#` | Dial string |
| `2318,0` | `2A323238393900` | `*22899` | SMS number |
| `2319,0` | `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00` | `narhm.tracking-intelligence.com` | Primary server hostname |
| `2320,0` | `6D61696E742E76656869636C652D6C6F636174696F6E2E636F6D00` | `maint.vehicle-location.com` | Secondary server (8bit only) |
| `2311,0` | `5014` | 20500 | Server UDP port |
| `2322,0` | `00015180` | 86400 seconds / 24 hr | Server keep-alive interval |

### 512 Event Table Summary

| Metric | 8bit Script | Production SIE (69.006) |
|--------|------------|------------------------|
| Index range | 0–121 (122 entries) | 0–249 (250 entries) |
| Active (non-zero) entries | 80 | 108 |
| Zero sentinel entries | 42 | 142 |
| Uses zero-as-group-separator pattern | Yes | Yes |

### Parameter ID Comparison vs Production (US Script/SIE/69.006)

**Present in 8bit ONLY:** `2311`, `2314`, `2315`, `2316`, `2320`, `2322`

**Present in SIE ONLY (absent from 8bit):** `256`, `269`, `273`, `276`, `277`, `278`, `279`, `280`, `281`, `283`, `285`, `286`, `513`, `515`, `768`, `775`, `776`, `777`, `779`, `902`–`909`, `913`, `1026`, `1052`, `1053`, `1054`, `1056`, `1281`, `1282`, `2178`, `3072`, `3073`, `3074`, `3328`–`3333`

---

## Findings

---

**[A12-1]** — LOW: Windows duplicate copy artifact present in repository

**Description:** The file `50.131-RHM-8bit-LMU1220-POD-10minSleep6hr-Input1POS-PwrMonEvt-PEG0MotionEvtAcc4Dist500Thes10 (1).csv` is a Windows Explorer duplicate artifact (the `(1)` suffix is appended automatically by Windows when a file is copied into the same folder). A byte-for-byte diff confirms the two files are completely identical. The copy serves no operational purpose and adds confusion about which file is authoritative.

**Fix:** Delete `50.131-RHM-8bit-LMU1220-POD-10minSleep6hr-Input1POS-PwrMonEvt-PEG0MotionEvtAcc4Dist500Thes10 (1).csv` from the repository. Add a `.gitattributes` or repository policy note to prevent accidental re-creation of Windows copy artifacts.

---

**[A12-2]** — HIGH: APN credentials set to placeholder value `dummy`

**Description:** Parameters `2314,0`, `2314,1` (APN username) and `2315,0`, `2315,1` (APN password) all decode to the ASCII string `dummy`. This is a placeholder value that was never replaced with actual carrier credentials for the `data641003` APN. If the APN requires authentication, the device will fail to establish a cellular data connection with these values.

Affected rows:
```
2314,0,64756D6D7900   -> "dummy"
2314,1,64756D6D7900   -> "dummy"
2315,0,64756D6D7900   -> "dummy"
2315,1,64756D6D7900   -> "dummy"
```

**Fix:** Replace the hex-encoded `dummy` values with the correct APN username and password for the `data641003` carrier APN. If the APN requires no authentication (open APN), set these fields to a null/empty hex string (e.g., `00`) rather than the misleading placeholder. Confirm with the carrier.

---

**[A12-3]** — MEDIUM: 8bit script is missing param `256` (device comm mode) present in all production scripts

**Description:** Production US scripts (SIE, PAPE, Matthai) all include parameter `256` at indices 1, 2, and 3 (all set to `00`). This parameter controls the LMU device's communication mode and network type configuration. The 8bit script omits `256` entirely. While the device may fall back to defaults, the absence means the comm mode is not explicitly locked by the script, making behavior dependent on prior device state or factory defaults.

**Fix:** Add `256,1,00` / `256,2,00` / `256,3,00` rows to the 8bit script to match the explicit default-setting pattern used in all production scripts. This eliminates reliance on factory defaults.

---

**[A12-4]** — MEDIUM: 8bit script event table (param 512) is truncated at index 121 vs 249 in production

**Description:** The 8bit script defines the 512 (PEG event) table only up to index 121 (122 total entries). Production scripts such as the SIE reference define entries up to index 249 (250 total entries). The 8bit index scheme supports up to 255 indices, so truncation at 121 is a deliberate choice, not a hard limit. However, 128 potential event slots (indices 122–249) are completely absent from the 8bit script rather than being explicitly zeroed/disabled. If the device firmware initialises these from NVRAM residuals, unexpected events may fire.

**Fix:** Extend the 512 table in the 8bit script from index 122 through 249 with zero-value entries (`0000000000000000`) to explicitly disable all unused slots, matching the pattern used in production scripts.

---

**[A12-5]** — MEDIUM: 8bit script is entirely missing the 513 (action) and 515 (secondary action) tables

**Description:** Production scripts include `513,0` through `513,233` and `515,235` through `515,249` — these are the PEG action tables that define what the device does in response to events in the 512 event table. The 8bit script has no `513` or `515` entries at all. This means the device relies entirely on NVRAM state for action tables, which is unsafe after a device reset or firmware update, and creates an inconsistency between event configuration (present) and action configuration (absent).

**Fix:** Add explicit zeroed-out `513` and `515` action table entries (at minimum, entries 0–121 to match the 512 event table span, ideally 0–249 to fully reset the tables) to the 8bit script. This ensures a clean slate for actions regardless of prior device state.

---

**[A12-6]** — MEDIUM: Input handling parameter groups (273, 276–281, 283, 285, 286) absent from 8bit script

**Description:** Production scripts configure discrete input handling through parameters 273 (input debounce), 276–281 (input thresholds and modes), 283–286 (input event configuration). All of these are absent from the 8bit script. The filename indicates `Input1POS` (input 1 configured for positive/ignition detection), yet the only input-related configuration present is parameter `266` (threshold 000001F4 and 0000000A). Without the full input parameter block, the device's interpretation of input signals depends on factory defaults or residual NVRAM, which conflicts with the deliberate `Input1POS` feature named in the filename.

**Fix:** Add the full input configuration block (params 273, 276–281, 283–286) with appropriate values for Input 1 positive detection, matching the approach used in equivalent production scripts. Cross-reference with the production PAPE POD script (`62.137`) which also uses POD mode.

---

**[A12-7]** — MEDIUM: Production hardening parameters absent (1052–1056, 1281, 1282)

**Description:** Production scripts include:
- `1052,0/1/2` — secure boot / crypto configuration
- `1053,0` — ACL mode
- `1054,0` — access control level
- `1056,0` — security timeout
- `1281,0–3` — whitelist/blacklist server IP filter
- `1282,0–3` — whitelist/blacklist server IP filter

These are entirely absent from the 8bit script. Their absence means the device accepts commands from any server (no IP whitelist) and operates without explicit access control configuration, leaving it open to potential hijacking if the device is ever reachable by an adversary.

**Fix:** Add appropriate `1052`–`1056`, `1281`, and `1282` entries mirroring the production SIE baseline. At minimum, set `1054,0` to a restrictive access level and populate `1281`/`1282` with the authorised server IP ranges.

---

**[A12-8]** — LOW: Primary server configured as hostname rather than IP address

**Description:** Parameter `2319,0` in the 8bit script decodes to `narhm.tracking-intelligence.com`, a hostname. Production US scripts (e.g., SIE 69.006) use a hard-coded IP address (`52.164.241.179`) in `2319,0`. Hostname-based server configuration introduces a DNS resolution dependency: if DNS is unavailable on first connection, the device cannot reach the server. For POD (likely battery-backed remote asset) devices that wake infrequently, a DNS failure during a brief wake window can cause a missed report.

**Fix:** Consider replacing the hostname with a hard-coded IP address for primary connectivity, consistent with production scripts. If dynamic DNS is required, document the reason and ensure the APN/carrier provides reliable DNS resolution.

---

**[A12-9]** — LOW: Secondary server parameter (2320) present in 8bit but absent from all production scripts

**Description:** The 8bit script includes `2320,0` which decodes to `maint.vehicle-location.com` — a secondary or fallback server address. This parameter is not present in any of the production comparison scripts (SIE, PAPE). This may indicate the 8bit script was generated from a different tool version or template that added a fallback server config. The two servers (`narhm.tracking-intelligence.com` and `maint.vehicle-location.com`) appear to be different vendor platforms, raising the question of whether data should be sent to both.

**Fix:** Confirm whether `2320` (secondary server) is intentional for this deployment. If the device should only report to the Tracking Intelligence platform, remove `2320,0`. If it is intentional, document the reason and ensure production scripts are updated to include it if applicable.

---

**[A12-10]** — LOW: Parameter `1024,0` and `1024,2` are absent (skipped indices in VBUS config block)

**Description:** The 8bit script configures parameter `1024` starting at index 1 (skipping index 0), and jumps from index 1 directly to index 3 (skipping index 2). The same skip pattern appears in the production SIE comparison script, so this is an established convention for this parameter. However, it is worth documenting: index 0 of param 1024 is typically the VBUS type identifier and may be intentionally excluded when the device auto-detects its type, while index 2 is a reserved field.

**Fix:** No immediate action required. Add an inline comment to the script template (or README) documenting why `1024,0` and `1024,2` are intentionally omitted, to prevent future maintainers from incorrectly adding these indices.

---

**[A12-11]** — LOW: 8bit script uses a different in-motion report interval than equivalent production scripts

**Description:** Parameter `265,0` (in-motion position report interval) is set to `0000003C` (60 seconds) in the 8bit script, versus `0000000A` (10 seconds) in the SIE production script. For a POD sleep device, a 60-second active reporting interval is a reasonable power-saving trade-off, but it differs significantly from the 10-second interval in production scripts. This difference is undocumented and could lead to coverage gaps for high-speed assets.

**Fix:** Document the intentional power-saving design decision that drives the 60-second interval. If this script is intended for low-speed or stationary assets (consistent with the `Thes10` threshold in the filename), confirm the 60-second interval is adequate and annotate the script header accordingly.

---

**[A12-12]** — INFO: Version number in parameter 1024,1 is consistent with filename

**Description:** Parameter `1024,1` = `32` hex = 50 decimal. The filename begins with `50.131`, confirming the embedded version number matches the naming convention used across the repository.

**Fix:** No action required. Version tracking is functioning correctly.

---

**[A12-13]** — INFO: Sleep timing parameters match filename description

**Description:** The following timing parameters are consistent with the filename tokens:
- `265,3` = `00000258` = 600 sec = 10 minutes → matches `10minSleep`
- `265,4` = `00005460` = 21600 sec = 6 hours → matches `6hr`

**Fix:** No action required. Sleep configuration is correctly reflected in the filename.

---

**[A12-14]** — INFO: CANBUS / vehicle bus parameter group (3072–3074, 3328–3333) absent from 8bit script

**Description:** The 8bit script does not include any CAN bus parameters (3072–3074, 3328–3333). These are present in production SIE scripts. This is expected: the LMU-1220 in POD (power-off detection) mode typically does not require CAN bus integration. The absence is architecturally consistent with the POD use case named in the filename.

**Fix:** No action required. CAN bus parameter absence is intentional for this POD device type.
# Pass 4 Code Quality — Agent A14
**Files:** 8bit Script/ (second batch)
**Branch:** main
**Date:** 2026-02-28

---

## Reading Evidence

### Files Enumerated

`C:/Projects/cig-audit/repos/calamp-scripts/8bit Script/` contains exactly 2 files:

| # | Filename |
|---|----------|
| 1 | `50.131-RHM-8bit-LMU1220-POD-10minSleep6hr-Input1POS-PwrMonEvt-PEG0MotionEvtAcc4Dist500Thes10.csv` |
| 2 | `50.131-RHM-8bit-LMU1220-POD-10minSleep6hr-Input1POS-PwrMonEvt-PEG0MotionEvtAcc4Dist500Thes10 (1).csv` |

Per the instruction "take the second half alphabetically", and since only two files exist (both are effectively the same base name), both files were read in full for cross-comparison.

---

### 8bit Script — Primary File Metrics

**File:** `50.131-RHM-8bit-LMU1220-POD-10minSleep6hr-Input1POS-PwrMonEvt-PEG0MotionEvtAcc4Dist500Thes10.csv`

- **Total lines (incl. header):** 329
- **Total data rows:** 327
- **Unique parameter IDs:** 55
- **Parameter IDs present:** 257, 258, 259, 260, 262, 263, 264, 265, 266, 267, 268, 270, 271, 272, 275, 291, 512, 769, 770, 771, 772, 773, 774, 1024, 1025, 1027, 1028, 1029, 1030, 1031, 1032, 1033, 1034, 1035, 1037, 1280, 1283, 1536, 1537, 1538, 1539, 1540, 2306, 2307, 2311, 2312, 2313, 2314, 2315, 2316, 2318, 2319, 2320, 2322, 2327
- **Param 512 rows (PEG events):** 122
- **Param 1024 rows (config block):** 62
- **File size:** 5839 bytes

**Decoded key fields:**

| Parameter | Index | Hex Value | Decoded Value |
|-----------|-------|-----------|---------------|
| 2306 | 0,1 | `6461746136343130303300` | `data641003` (Telstra APN) |
| 2314 | 0,1 | `64756D6D7900` | `dummy` (PPP username) |
| 2315 | 0,1 | `64756D6D7900` | `dummy` (PPP password) |
| 2316 | 0,1 | `2A39392A2A2A312300` | `*99***1#` (PPP dial string) |
| 2318 | 0 | `2A323238393900` | `*22899` (operator code) |
| 2319 | 0 | `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00` | `narhm.tracking-intelligence.com` (primary server) |
| 2320 | 0 | `6D61696E742E76656869636C652D6C6F636174696F6E2E636F6D00` | `maint.vehicle-location.com` (backup server) |
| 2311 | 0 | `5014` | `20500` (outbound port) |
| 2312 | 0 | `0011` | `17` (secondary port) |
| 769 | 0 | `2AF8` | `11000` (remote port 0) |
| 769 | 1 | `5014` | `20500` (remote port 1) |
| 769 | 2,3 | `5014` | `20500` (remote ports 2, 3) |
| 2322 | 0 | `00015180` | `86400` seconds = 24-hour keep-alive interval |
| 1024 | 1 | `32` | `50` decimal (matches script version series 50.xxx) |

---

### 8bit Script — Duplicate File Metrics

**File:** `50.131-RHM-8bit-LMU1220-POD-10minSleep6hr-Input1POS-PwrMonEvt-PEG0MotionEvtAcc4Dist500Thes10 (1).csv`

- **File size:** 5839 bytes
- **Byte-for-byte identical to primary file:** YES (confirmed via binary comparison)
- **Row count, parameter IDs, all values:** identical

---

### Comparison File — Aus Script CEA 50.131

**File:** `C:/Projects/cig-audit/repos/calamp-scripts/Aus Script/CEA/50.131 LMU1220 units.csv`

- **Total data rows:** 318
- **Unique parameter IDs:** 49
- **File size:** 5,191 bytes (est.)

**Key decoded fields for comparison:**

| Parameter | Index | Decoded Value |
|-----------|-------|---------------|
| 2319 | 0 | `narhm.tracking-intelligence.com` (same primary server) |
| 2319 | 1 | `52.164.241.179` (backup server — IP address, index 1) |
| 769 | 0 | `11000` (same) |
| 769 | 1 | `1504` (0x05E0 — Rayven inbound port) |
| 769 | 2,3 | `20500` (same) |
| No 2306 | — | APN not set (uses device default / SIM-configured) |
| No 2314/2315 | — | PPP credentials not set |
| No 2316 | — | PPP dial string not set |
| No 2320 | — | No separate backup-server param |
| No 2322 | — | No explicit keep-alive interval set |

**Parameters only in 8bit (absent from Aus 50.131):** 2306, 2314, 2315, 2316, 2320, 2322

**Parameters only in Aus 50.131 (absent from 8bit):** none (8bit is a superset)

---

### URL & PORTS.xlsx Reference Data (Extracted)

Relevant rows from the spreadsheet (sharedStrings + sheet data decoded):

| Customer | Device Type | Rayven Inbound URL | Port | CI Inbound URL | Port2 |
|----------|-------------|-------------------|------|----------------|-------|
| CEA | G70 | 52.169.16.32 | 16006 | narhm.tracking-intelligence.com | 11000 |
| CEA | CALAMP | 52.164.241.179 | 1504 | 103.4.235.15 | — |
| Komatsu AU | CALAMP | 52.164.241.179 | 1500 | narhm.tracking-intelligence.com | 11000 |
| PAPE | CALAMP | 52.164.241.179 | 1501 | narhm.tracking-intelligence.com | 11000 |

**Note:** Customer "RHM" does not appear anywhere in URL & PORTS.xlsx.

---

## Findings

**[A14-1]** — HIGH: Exact duplicate file `(1).csv` is the sole content of the 8bit Script directory

**Description:** The file `50.131-RHM-8bit-LMU1220-POD-10minSleep6hr-Input1POS-PwrMonEvt-PEG0MotionEvtAcc4Dist500Thes10 (1).csv` is a byte-for-byte copy (5839 bytes, 329 lines, all values identical) of the base script. This is the only such `(1)` copy found across the entire repository after recursive search. The pattern is isolated to the 8bit Script directory, suggesting the file was accidentally duplicated during a copy/download operation and never cleaned up. A stale duplicate creates deployment risk: if a device programmer selects the `(1)` copy and both files are updated independently in future, they will diverge silently.

**Fix:** Delete `50.131-RHM-8bit-LMU1220-POD-10minSleep6hr-Input1POS-PwrMonEvt-PEG0MotionEvtAcc4Dist500Thes10 (1).csv` from the repository. Add a CI lint rule or pre-commit hook that rejects files whose names contain ` (1)`, ` (2)`, or ` copy`.

---

**[A14-2]** — HIGH: Parameter 769,1 (remote port slot 1) is set to 20500 in the 8bit script but no server is defined for slot 1

**Description:** In the 8bit script, `769,1 = 0x5014 = 20500`. In the Aus Script equivalent (`50.131 LMU1220 units.csv`), `769,1 = 0x05E0 = 1504`. The 769 register array maps device-side port bindings to remote server slots. The Aus Script correctly pairs `769,1 = 1504` with `2319,1 = 52.164.241.179` (the Rayven backup IP). The 8bit script sets `769,1 = 20500` (which is the outbound primary-server port repeated) but provides no corresponding `2319,1` server address. This creates an orphaned port assignment for server slot 1 — the device will have no valid backup server target despite having a port configured for it. URL & PORTS.xlsx confirms the correct CalAmp inbound port for the CEA customer is 1504 (Rayven entry, row 14).

**Fix:** Change `769,1` in the 8bit script from `5014` to `05E0` (1504 decimal) to match the Aus script and the URL & PORTS.xlsx reference, AND add `2319,1 = 35322E3136342E3234312E31373900` (`52.164.241.179`) to define the backup server address for slot 1, consistent with the Aus Script pattern.

---

**[A14-3]** — HIGH: Backup server (param 2320,0) resolves to `maint.vehicle-location.com`, which is undocumented in URL & PORTS.xlsx

**Description:** The 8bit script uses parameter `2320,0` (alternate server hostname) set to `maint.vehicle-location.com`. This domain does not appear anywhere in URL & PORTS.xlsx. The Aus Script equivalent (`50.131 LMU1220 units.csv`) uses `2319,1 = 52.164.241.179` as the backup endpoint, which is the documented Rayven inbound IP for CEA in URL & PORTS.xlsx. The use of an undocumented domain as a failover target means backup connectivity cannot be verified against the authoritative endpoint registry, and the domain may point to a legacy or decommissioned server.

**Fix:** Replace `2320,0` (`maint.vehicle-location.com`) with `2319,1 = 52.164.241.179` to align with the Aus Script pattern and the documented Rayven endpoint for this customer. Remove the `2320,0` entry since the Aus Script — the established production template — does not use param 2320 at all. Update URL & PORTS.xlsx to explicitly record any domain aliases if `maint.vehicle-location.com` is intentionally retained.

---

**[A14-4]** — MEDIUM: Customer "RHM" has no entry in URL & PORTS.xlsx

**Description:** The 8bit script filename encodes customer "RHM" (`50.131-RHM-8bit-...`). A search of the entire repository confirms no other script file, directory, or documentation references "RHM". URL & PORTS.xlsx contains entries for CEA, PAPE, Matthai MH, Komatsu, SIE Charlotte, and many others, but RHM is absent. This means there is no authoritative source-of-truth for which server endpoints and ports RHM should use, making it impossible to validate the APN, primary server, or port values in this script against documented customer requirements.

**Fix:** Add an RHM row to URL & PORTS.xlsx documenting the customer's Rayven and CI inbound URLs, ports, and device type. Until this is done, the 8bit script's endpoint configuration (narhm.tracking-intelligence.com, port 20500) cannot be independently verified.

---

**[A14-5]** — MEDIUM: Outbound port 2311,0 = 20500 does not match the documented CI inbound port (11000) for the same server

**Description:** The 8bit script sets `2311,0 = 0x5014 = 20500` as the outbound communication port. The primary server is `narhm.tracking-intelligence.com` (CI). URL & PORTS.xlsx documents the CI inbound port for CalAmp devices as `11000` (e.g., CEA row: CI Inbound URL = narhm.tracking-intelligence.com, Port2 = 11000). The Aus Script `50.131 LMU1220 units.csv` sets `769,0 = 0x2AF8 = 11000` as the remote port for server slot 0 (matching CI). The 8bit script's outbound port 20500 diverges from the expected 11000 for this server endpoint and is not cross-referenced anywhere in URL & PORTS.xlsx.

**Fix:** Clarify whether 20500 is correct for the 8bit (2G PPP) transport mode or if it should be 11000 to match the CI server's documented inbound port. If 20500 is a legacy or protocol-specific value, document it explicitly in URL & PORTS.xlsx. If it is an error, update `2311,0` to `0x2AF8` (11000).

---

**[A14-6]** — MEDIUM: PPP credentials set to placeholder value `dummy` in both 2314 (username) and 2315 (password)

**Description:** Parameters `2314,0`, `2314,1` (PPP username) and `2315,0`, `2315,1` (PPP password) are each set to `dummy` (hex `64756D6D7900`). These are present in the 8bit script because it configures a 2G/PPP modem (unlike the LTE-based Aus Script which has no 2314/2315 entries). While the Telstra `data641003` APN does not strictly require authentication credentials, the values `dummy`/`dummy` are placeholder strings rather than blank/null fields. If the APN or SIM profile is ever changed to one requiring authentication, the placeholder will cause silent authentication failures with no obvious indication in the config.

**Fix:** Replace `dummy` with empty/null strings (`00` single null byte) for both username and password fields if no authentication is required. If the carrier requires credentials, supply the actual values. Document the chosen approach in the script filename or a README entry for the 8bit Script directory.

---

**[A14-7]** — LOW: Directory naming convention for `8bit Script` is consistent with other directories but the script filename uses a hyphen-separated convention instead of space-separated

**Description:** All top-level script directories follow the pattern `[Qualifier] Script` (e.g., `Aus Script`, `US Script`, `UK Script`, `Demo Script`, `8bit Script`). This is consistent. However, within `8bit Script`, the CSV filename uses hyphen separators (`50.131-RHM-8bit-LMU1220-...`) whereas CSV files in other directories typically use space separators with dot-version prefixes (e.g., `50.131 LMU1220 units.csv`, `61.36 CI DPWORLD Telstra Final.csv`). The 8bit filename is also significantly longer than any other file in the repository, embedding operational parameters (sleep intervals, event types, thresholds) directly in the filename rather than using a short descriptive label.

**Fix:** Standardize the 8bit script filename to the space-separated short-label convention used in other directories. A suitable equivalent name would be `50.131 RHM 8bit LMU1220 POD Telstra Final.csv`, with a README or inline comment (if the tooling supports it) documenting the detailed configuration parameters currently encoded in the filename.

---

**[A14-8]** — INFO: 8bit script contains 6 parameters absent from the equivalent Aus Script — all are expected for 2G PPP modem operation

**Description:** Parameters present in 8bit but absent from `Aus Script/CEA/50.131 LMU1220 units.csv`: `2306` (APN), `2314` (PPP username), `2315` (PPP password), `2316` (PPP dial string `*99***1#`), `2320` (alternate server hostname), `2322` (keep-alive interval 86400s). The APN (`data641003`), dial string (`*99***1#`), and keep-alive parameters are appropriate additions for a 2G PPP modem device that must dial up a GPRS connection. The additional `2320` backup server and the `2322` 24-hour keep-alive interval are the only unexpected divergences (addressed in findings A14-3 and separately noted). The core parameter set (257–774, 1024–1540, 2307, 2311–2313, 2318–2319, 2327) is shared between both scripts and is identical in value, confirming the 8bit script was derived from the same base template.

**Fix:** No action required on the presence of these parameters per se. The backup server and keep-alive configuration (findings A14-3 and A14-5) should be corrected as described.
# Pass 4 Code Quality — Agent A16
**Files:** UK Script/ (first batch)
**Branch:** main
**Date:** 2026-02-28

---

## Reading Evidence

### File 1: `UK Script/161.31 CI only Data.Mono Final.csv`

| Property | Value |
|---|---|
| Total rows (including header) | 1236 |
| Data rows | 1235 |
| Unique parameter IDs | 256, 257, 258, 259, 260, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 275, 276, 277, 278, 279, 280, 281, 283, 285, 286, 291, 512, 513, 768, 769, 770, 771, 772, 773, 774, 775, 776, 777, 779, 902, 903, 904, 905, 906, 907, 908, 909, 913, 1024, 1025, 1026, 1027, 1028, 1029, 1030, 1031, 1032, 1033, 1034, 1035, 1037, 1052, 1053, 1054, 1056, 1280, 1281, 1282, 1283, 1536, 1537, 1539, 1540, 2176, 2178, 2306, 2307, 2311, 2312, 2313, 2319, 2320, 2322, 2327, 3072, 3073, 3074, 3328, 3329, 3330, 3331, 3332, 3333 |
| Duplicate (param_id, param_index) rows | None |
| Server reg 2319,0 (hex) | `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00` |
| Server reg 2319,0 (decoded) | `narhm.tracking-intelligence.com` (FQDN) |
| APN reg 2306,0 (hex) | `646174612E6D6F6E6F00` |
| APN reg 2306,0 (decoded) | `data.mono` |
| Port reg 2311,0 (hex) | `5014` |
| Port reg 2311,0 (decimal) | 20500 |
| Version reg 1024,1 (hex) | `A1` |
| Version reg 1024,1 (decimal) | 161 |
| Version matches filename prefix | Yes — 0xA1 = 161 decimal matches `161.31` |
| Device hardware ID reg 768,0 | `6704EB0F` |
| reg 769,0 | `2AF8` (decimal 11000) |
| reg 1024,23 | `1F` |

---

### File 2: `UK Script/161.32 Rayven Demo DataMono Final.csv`

| Property | Value |
|---|---|
| Total rows (including header) | 1236 |
| Data rows | 1235 |
| Unique parameter IDs | Same set as 161.31 (identical) |
| Duplicate (param_id, param_index) rows | None |
| Server reg 2319,0 (hex) | `35322E3136342E3234312E31373900` |
| Server reg 2319,0 (decoded) | `52.164.241.179` (raw IP address) |
| APN reg 2306,0 (hex) | `646174612E6D6F6E6F00` |
| APN reg 2306,0 (decoded) | `data.mono` |
| Port reg 2311,0 (hex) | `5014` |
| Port reg 2311,0 (decimal) | 20500 |
| Version reg 1024,1 (hex) | `A1` |
| Version reg 1024,1 (decimal) | 161 |
| Version matches filename prefix | Yes — 0xA1 = 161 decimal matches `161.32` |
| Device hardware ID reg 768,0 | `34A4F1B3` |
| reg 769,0 | `05DF` (decimal 1503) |
| reg 1024,23 | `20` |

---

## Diff: Rows That Differ Between 161.31 and 161.32

Out of 1235 data rows in each file, exactly **4 rows differ**. All other 1231 rows are byte-for-byte identical, and row ordering is identical throughout both files.

| Row (line) | Parameter | 161.31 value | 161.32 value | Nature of difference |
|---|---|---|---|---|
| 692 | 768,0 | `6704EB0F` | `34A4F1B3` | Device-specific hardware serial/ID — expected to differ |
| 696 | 769,0 | `2AF8` | `05DF` | Calibration/threshold value — varies across all scripts in repo, expected |
| 1011 | 1024,23 | `1F` | `20` | Script configuration byte — unexplained 1-bit difference |
| 1105 | 2319,0 | `6E6172686D...` (`narhm.tracking-intelligence.com`) | `35322E3136...` (`52.164.241.179`) | Primary server address — FQDN vs raw IP |

---

## Findings

**[A16-1]** — HIGH: Primary server encoded as raw IP in 161.32 instead of FQDN

**Description:** `161.31 CI only Data.Mono Final.csv` registers the primary server (reg 2319,0) as the FQDN `narhm.tracking-intelligence.com` (hex `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00`). `161.32 Rayven Demo DataMono Final.csv` registers the same logical endpoint as the raw IPv4 address `52.164.241.179` (hex `35322E3136342E3234312E31373900`). Both target the same tracking-intelligence platform. Using a hardcoded IP bypasses DNS, meaning if the server is ever migrated or its IP changes, devices flashed with 161.32 will silently fail to connect without a re-flash. FQDN-based addressing allows transparent IP changes via DNS updates. This same raw IP (`52.164.241.179`) also appears in multiple Aus scripts (e.g., `69.005 Rayven Boaroo Telstra Final.csv`, `69.002 RD Komatsu Monogoto Final.csv`, `69.004 RD CEA Monogoto Final.csv`, `CEA/50.132 LMU1220 Rayven.csv`) indicating this is a recurring pattern across the repo and not isolated to UK scripts.

**Fix:** Replace the raw IP value in reg 2319,0 of `161.32` with the FQDN `narhm.tracking-intelligence.com`, encoded as hex ASCII with null terminator: `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00`. Apply the same fix to all other scripts across Aus/US directories that currently use the raw IP form of this endpoint.

---

**[A16-2]** — MEDIUM: reg 1024,23 differs by one unit between the two UK scripts without explanation

**Description:** `161.31` has `1024,23 = 1F` (decimal 31) while `161.32` has `1024,23 = 20` (decimal 32). Parameter 1024 is a multi-index script configuration block; index 23 is a sub-configuration byte whose meaning is firmware-specific (likely a threshold, counter limit, or flag byte). The two UK scripts are intended to be structurally equivalent CI-only vs Rayven-demo variants for the same network (both Data.Mono, same APN, same port). A silent one-unit difference in a configuration byte at this index is unexplained by any filename or structural difference between the files. No similar discrepancy exists for any other 1024,x index. Cross-checking against Aus scripts with the same version (e.g., `61.141`, `61.140`) would be needed to determine the correct value, but the inconsistency within the UK pair itself is the immediate concern.

**Fix:** Determine the intended value of `1024,23` for the UK Data.Mono profile. If both files target the same device behaviour profile, align both to the same value. Document which value is correct and why in a script changelog or comment convention.

---

**[A16-3]** — LOW: Version byte (reg 1024,1 = 0xA1 = 161) is identical in both UK scripts despite different minor-version filenames

**Description:** Both `161.31` and `161.32` carry `1024,1 = A1` (decimal 161). The filename convention encodes both a major version (161) and a minor version (31 or 32) in the format `<major>.<minor>`. The version register only captures the major version number. There is no in-script record of the minor version (31 vs 32), making it impossible to determine from the device's stored parameters alone which specific script variant was applied. This is consistent with the pattern seen in Aus scripts (e.g., all `61.x` files carry `1024,1 = 3D = 61`), so the convention is repo-wide, but it does represent a limitation in auditability.

**Fix:** Consider using a secondary index of reg 1024 (e.g., a currently zero-valued index such as 1024,2 or 1024,50) to encode the minor version number, so that a device can be remotely queried to identify the exact script variant applied. Alternatively, maintain a deployment log that records the full filename flashed per device.

---

**[A16-4]** — LOW: Blanket zero-fill of reg 512 (indices 145–249) and all of reg 513 (indices 0–249) in both UK scripts

**Description:** Both files contain 105 zero-value entries for `512,145` through `512,249` and 250 zero-value entries for `513,0` through `513,249` (all `0000000000000000`). These represent entirely unused LMU event table slots. While this is functionally correct and consistent with the pattern in Aus/US scripts, the explicit enumeration of 355 zero-value event rows creates unnecessary file bulk and makes the active event configuration harder to read. This is a style/maintainability issue, not a functional defect. The same pattern is present across all other repo scripts examined.

**Fix:** Consider whether the CalAmp provisioning tool requires explicit zero-fill for all unused slots, or whether omitting them achieves the same effect. If omission is valid, strip zero-value event rows from all scripts to reduce file size and improve readability of active event configuration.

---

**[A16-5]** — INFO: Structural consistency between UK and Aus/US scripts is high

**Description:** Both UK scripts follow identical structural conventions as all other scripts in the repository. Parameter ordering is identical to Aus/US counterparts. The APN encoding convention (hex ASCII with null terminator `00`) is consistent. Port `5014` hex (20500 decimal) is used uniformly across all Data.Mono scripts examined. The version register convention (1024,1 = major version as hex byte) is consistent. No parameters are present in UK scripts that are absent from comparable Aus scripts. No duplicate `(parameter_id, parameter_index)` rows exist in either UK file.

**Fix:** No action required. Document this consistency as a positive finding for ongoing maintenance reference.
# Pass 4 Code Quality — Agent A19
**Files:** UK Script/ (second batch — all files, only 2 total)
**Branch:** main
**Date:** 2026-02-28

---

## Reading Evidence

### Files Read

| File | Path | Data rows (excl. header) | Unique parameter_id values |
|------|------|--------------------------|---------------------------|
| UK-31 | `UK Script/161.31 CI only Data.Mono Final.csv` | 1235 | 79 |
| UK-32 | `UK Script/161.32 Rayven Demo DataMono Final.csv` | 1235 | 79 |
| AU-61 | `Aus Script/61.61 General for CI old dashboard datamono.csv` | 1231 | 79 (+515) |
| AU-135 | `Aus Script/Komatsu_AU/61.135 Rayven and CI clone Komatsu Data.mono Final.csv` | 1232 | 80 (+515, 2319×2) |

All four files share the same three-column structure: `parameter_id,parameter_index,parameter_value`.

---

### Key Register Values (cross-file comparison)

#### APN / Cellular configuration

| Register | Index | UK-31 | UK-32 | AU-61 | AU-135 |
|----------|-------|-------|-------|-------|--------|
| 2306 (APN) | 0 | `646174612E6D6F6E6F00` | `646174612E6D6F6E6F00` | `646174612E6D6F6E6F00` | `646174612E6D6F6E6F00` |
| 2306 (APN) | 1 | `646174612E6D6F6E6F00` | `646174612E6D6F6E6F00` | `646174612E6D6F6E6F00` | `646174612E6D6F6E6F00` |
| 2307 (APN type) | 0 | `00` | `00` | `00` | `00` |
| 2311 (port) | 0 | `5014` | `5014` | `5014` (absent) | (absent) |
| 2312 (flag) | 0 | `0011` | `0011` | `0011` | `0011` |

Decoded: `646174612E6D6F6E6F00` = ASCII "data.mono" + null terminator. Consistent across all four files.

#### Server / Hostname

| Register | Index | UK-31 value (hex) | Decoded | UK-32 value (hex) | Decoded |
|----------|-------|------------------|---------|------------------|---------|
| 2319 | 0 | `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00` | `narghm.tracking-intelligence.com` | `35322E3136342E3234312E31373900` | `52.164.241.179` |
| 2320 | 0 | `646D2E63616C616D702E636F2E756B00` | `dm.calamp.co.uk` | `646D2E63616C616D702E636F2E756B00` | `dm.calamp.co.uk` |

AU-61 (2319,0): `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00` = `narghm.tracking-intelligence.com`
AU-135 (2319,0): same hostname; (2319,1): `35322E3136342E3234312E31373900` = `52.164.241.179`

**Key observation:** UK-31 uses the DNS hostname in 2319,0. UK-32 uses the raw IP address `52.164.241.179` in 2319,0, which is the same value that AU-135 places in 2319,1 as a fallback/secondary.

#### Parameter 2320 (secondary server / CalAmp DM)

| File | 2320,0 (hex) | Decoded |
|------|-------------|---------|
| UK-31 | `646D2E63616C616D702E636F2E756B00` | `dm.calamp.co.uk` |
| UK-32 | `646D2E63616C616D702E636F2E756B00` | `dm.calamp.co.uk` |
| AU-61 | absent | — |
| AU-135 | absent | — |

Parameter 2320 appears in both UK scripts and is absent from all AU scripts examined. The decoded value is `dm.calamp.co.uk` — a UK-specific CalAmp device management hostname.

#### Parameter 2311 (port)

| File | 2311,0 |
|------|--------|
| UK-31 | `5014` (decimal 20500) |
| UK-32 | `5014` (decimal 20500) |
| AU-61 | absent |
| AU-135 | absent |

#### Parameter 2176 (sequence / data channel config)

| File | 2176,0 | 2176,1 | ... | 2176,6 |
|------|--------|--------|-----|--------|
| UK-31 | `0102030405060700` | `02030405060700` | ... | `0700` |
| UK-32 | `0102030405060700` | `02030405060700` | ... | `0700` |
| AU-61 | absent | absent | ... | absent |
| AU-135 | absent | absent | ... | absent |

Parameter 2176 (7 indices) is present in both UK scripts and absent from all AU scripts examined.

#### Parameter 2178 (message format string)

| File | 2178,0 (hex) | Decoded |
|------|-------------|---------|
| UK-31 | `3C45413E3C53303E3C3D2A3E3C54313E00` | `<EA><S0><=*><T1>` |
| UK-32 | `3C45413E3C53303E3C3D2A3E3C54313E00` | `<EA><S0><=*><T1>` |
| AU-61 | `3C45413E3C53303E3C3D2A3E3C54313E00` | `<EA><S0><=*><T1>` |
| AU-135 | `3C45413E3C53303E3C3D2A3E3C54313E00` | `<EA><S0><=*><T1>` |

Identical and null-terminated (trailing `00`) across all four files.

#### Parameter 2322 (keep-alive / heartbeat interval)

| File | 2322,0 |
|------|--------|
| UK-31 | `00015180` (hex) = 86400 decimal = 24 hours |
| UK-32 | `00015180` (hex) = 86400 decimal = 24 hours |
| AU-61 | absent |
| AU-135 | absent |

Parameter 2322 is present in both UK scripts and absent from all AU scripts examined.

#### Parameter 1538 (present in AU, absent in UK)

| File | 1538,0 | 1538,1 | 1538,2 | 1538,3 |
|------|--------|--------|--------|--------|
| UK-31 | absent | absent | absent | absent |
| UK-32 | absent | absent | absent | absent |
| AU-61 | `0002` | `0000` | `0000` | `0001` |
| AU-135 | `0002` | `0000` | `0000` | `0001` |

#### Parameter 515 (present in AU, absent in UK)

AU-61 and AU-135 both contain parameter 515 (indices 235–249, all `0000000000000000`). Both UK scripts omit parameter 515 entirely. The AU scripts also truncate parameter 513 at index 233 rather than running to 249 before switching to 515, suggesting a structural split of the event table that the UK scripts do not replicate.

#### 512 event table — notable differences (UK vs AU)

The UK scripts use a different set of values for several event table entries that the AU scripts encode with a `7A` byte (which in AU appears to reference a CalAmp "standard" field). Key differing slots:

| 512 index | UK-31 / UK-32 | AU-61 / AU-135 |
|-----------|--------------|----------------|
| 1 | `0F00000001000000` | `0F0000007A000000` |
| 12 | `1000000001010000` | `100000007A010000` |
| 21 | `0100000001080000` | `010000007A080000` |
| 23 | `1900000001090000` | `190000007A090000` |
| 25 | `4201000001420000` | `420100007A420000` |
| 43 | `1800000001050000` | `180000007A050000` |
| 44 | `0B00000001350000` | `0B0000007A350000` |
| 45 | `1100010001320000` | `110001007A320000` |
| 48 | `0401000001030000` | `040100007A030000` |
| 49 | `0501000001040000` | `050100007A040000` |
| 53 | `0402000001140000` | `040200007A140000` |
| 54 | `0502000001150000` | `050200007A150000` |
| 56 | `04030000011E0000` | `040300007A1E0000` |
| 57 | `05030000011F0000` | `050300007A1F0000` |
| 62 | `0404000001280000` | `040400007A280000` |
| 63 | `0504000001290000` | `050400007A290000` |
| 91 | `0506000001060000` | `050600007A060000` |
| 92 | `0406000001070000` | `040600007A070000` |
| 113 | `1206180401500200` | `120618047A500200` |
| 117 | `1206180801510200` | `120618087A510200` |
| 126 | `1207180401555808` | `120718047A555808` |
| 128 | `1207190401541908` | `120719047A541908` |
| 134 | `1208000001530000` | `120800007A530000` |
| 139 | `1207010001560000` | `120701007A560000` |
| 72 | `1205020001340000` | `120502007A340000` |

The byte at offset 4 (0-indexed) within these 8-byte words differs: UK uses `01` and AU uses `7A`. The `7A` value in AU scripts is a consistent Rayven field-type identifier.

#### Parameter 769 (primary server port / connection period)

| File | 769,0 | 769,1–3 |
|------|-------|---------|
| UK-31 | `2AF8` (11000 decimal) | `5014`, `5014`, `5014` |
| UK-32 | `05DF` (1503 decimal) | `5014`, `5014`, `5014` |
| AU-61 | `2AF8` (11000 decimal) | `5014`, `5014`, `5014` |
| AU-135 | `2AF8` (11000 decimal); 769,1=`05DC` (1500) | `5014`, `5014` |

UK-32 has 769,0 = `05DF` (1503), which does not match UK-31 (`2AF8` = 11000) or the AU scripts. This is the only divergence between UK-31 and UK-32 outside of 2319,0 and 768,0.

#### Parameter 768 (device serial / IMEI seed)

| File | 768,0 | 768,1 |
|------|-------|-------|
| UK-31 | `6704EB0F` | `00000000` |
| UK-32 | `34A4F1B3` | `00000000` |
| AU-61 | `6704EB0F` | `00000000` |
| AU-135 | `6704EB0F` / `34A4F1B3` (indices 0 and 1) | — |

768,0 differs between UK-31 and UK-32 (expected — device-specific seed). UK-31 shares its 768,0 value with AU-61.

#### Parameter 773 (secondary comm threshold)

| File | 773,0 |
|------|-------|
| UK-31 | `2080` |
| UK-32 | `2080` |
| AU-61 | `2C80` |
| AU-135 | `2C80` |

UK scripts use `2080`; AU scripts use `2C80`. Difference: bit 12 is set in AU (`2C80` = 0x2C80), cleared in UK (`2080` = 0x2080).

#### Parameter 1024,23 (motion detection / accelerometer mode byte)

| File | 1024,23 |
|------|---------|
| UK-31 | `1F` |
| UK-32 | `20` |
| AU-61 | `3D` |
| AU-135 | `87` |

All four files differ at this index. Within the UK pair, UK-31=`1F` and UK-32=`20` also differ from each other.

#### Parameters 2308, 2309, 2318 (credential strings — AU only)

| Parameter | AU-61 | AU-135 |
|-----------|-------|--------|
| 2308 | `4B6F726500` = "Kore\0" | `4B6F726500` = "Kore\0" |
| 2309 | `4B6F726531323300` = "Kore123\0" | `4B6F726531323300` = "Kore123\0" |
| 2318 | `2A323238393900` = "*22899\0" | `2A323238393900` = "*22899\0" |

These three parameters (SIM username, SIM password, dial string) are present in both AU scripts examined and absent from both UK scripts. The AU scripts carry plaintext APN credentials; the UK scripts do not set these registers at all.

---

## Findings

**[A19-1]** — HIGH: UK-32 uses a raw IP address as the primary Rayven server instead of the DNS hostname

**Description:** In parameter 2319,0, the file `161.32 Rayven Demo DataMono Final.csv` encodes the value `35322E3136342E3234312E31373900` which decodes to the IP address `52.164.241.179`. The equivalent AU scripts (AU-61, AU-135) and the sibling UK-31 script all place the DNS hostname `narghm.tracking-intelligence.com` at 2319,0. AU-135 places the same IP address at 2319,1 as an apparent fallback. Using a hardcoded IP in the primary slot means the device will fail to reconnect if the server migrates to a different IP without a firmware/script update, whereas a DNS hostname tolerates IP changes transparently.

**Fix:** Replace 2319,0 in `161.32` with the DNS hostname hex string `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00` to match UK-31 and the AU equivalents. Retain the IP as a fallback at 2319,1 if required.

---

**[A19-2]** — HIGH: UK scripts omit the `7A` Rayven field-type byte present in AU equivalents across 25 event table entries

**Description:** In parameter 512, 25 event-table entries have an 8-byte word where byte offset 4 is `01` in both UK scripts but `7A` in both AU scripts. The `7A` value is used consistently throughout all AU Rayven scripts as a field-type identifier that routes data to the Rayven platform. The UK scripts replace `7A` with `01` across all of these entries. If `7A` is required by the Rayven ingestion pipeline to correctly classify incoming event fields, devices programmed with the UK scripts will transmit data that the Rayven back-end cannot correctly parse or attribute. Affected 512 indices include: 1, 12, 21, 23, 25, 43, 44, 45, 48, 49, 53, 54, 56, 57, 62, 63, 72, 91, 92, 113, 117, 126, 128, 134, 139.

**Fix:** Audit whether `7A` is a required Rayven protocol byte. If so, update the affected 512 entries in both UK scripts to use `7A` at byte offset 4, matching the AU reference scripts.

---

**[A19-3]** — HIGH: UK scripts are missing parameter 1538 (present in all AU scripts examined)

**Description:** Both AU comparison scripts (AU-61 and AU-135) contain parameter 1538 with values `0002`, `0000`, `0000`, `0001` at indices 0–3. Both UK scripts omit parameter 1538 entirely. Parameter 1538 is absent from the UK scripts entirely — there are no rows for it in either file. Based on position in the parameter address space (between 1537 and 1539), this register likely configures a communication or store-and-forward mode. Its absence in the UK scripts means devices may operate with a default or undefined value for this setting.

**Fix:** Determine the function of parameter 1538 and whether the AU values (`0002/0000/0000/0001`) apply to UK deployments. If applicable, add the four rows to both UK scripts.

---

**[A19-4]** — MEDIUM: UK scripts are missing parameter 515 event table segment (present in AU scripts)

**Description:** Both AU scripts contain parameter 515 at indices 235–249 (all set to `0000000000000000`), following a truncated parameter 513 block that ends at index 233. Both UK scripts run parameter 513 continuously through index 249 and then stop — they do not include any parameter 515 rows. This structural difference suggests the AU scripts split a logical event table across two parameter IDs (513 and 515), while the UK scripts place all entries under 513. If the device firmware treats 513 and 515 as distinct tables, the UK scripts are missing 15 event-table entries that AU devices configure.

**Fix:** Verify whether the firmware used in UK devices treats 515 as a separate event table requiring explicit configuration. If so, add the parameter 515 rows (indices 235–249, all zeroed) to both UK scripts.

---

**[A19-5]** — MEDIUM: Parameter 769,0 diverges between UK-31 and UK-32 without explanation

**Description:** Parameter 769,0 sets a communication period value. UK-31 has `2AF8` (decimal 11000), matching AU-61. UK-32 has `05DF` (decimal 1503), which matches neither UK-31 nor any AU script in the comparison set (AU-135 uses `2AF8` for index 0 and `05DC` = 1500 for index 1). The UK-32 value of 1503 is unusual and does not align with the 1500 value used in AU-135 index 1 (which differs by 3). This unexplained divergence between two scripts that are otherwise nearly identical suggests an editing error or uncommunicated intent in UK-32.

**Fix:** Confirm the intended value for 769,0 in UK-32. If this parameter controls a polling or reporting interval, a value of 1503 vs 11000 represents a more than 7x difference in frequency, with potential impact on data volume and battery/cellular costs.

---

**[A19-6]** — MEDIUM: Parameter 773,0 differs between UK scripts and AU scripts (0x2080 vs 0x2C80)

**Description:** Parameter 773,0 is `2080` (hex) in both UK scripts and `2C80` in both AU scripts. The difference is bit 12: in AU, bit 12 is set; in UK, it is cleared. In the CalAmp LMU parameter model, parameter 773 controls a threshold or mode for the secondary communication channel. A consistent unexplained bit difference between all UK and all AU scripts suggests either an intentional UK-specific configuration or an inadvertent deviation during script creation. There is no documentation in the repository to explain the intended difference.

**Fix:** Document whether the `2080` value is intentionally chosen for UK deployments (e.g., different cellular network behavior) or whether it should match the AU value of `2C80`. Add an inline comment or versioning note to the UK scripts recording the rationale.

---

**[A19-7]** — MEDIUM: Parameter 1024,23 differs between UK-31, UK-32, and both AU scripts — four different values

**Description:** Parameter 1024 configures the accelerometer/motion detection subsystem. Index 23 has four different values across the four files: UK-31 = `1F`, UK-32 = `20`, AU-61 = `3D`, AU-135 = `87`. This suggests that this byte encodes a mode or threshold setting that is being actively tuned per deployment but without a documented rationale. The divergence between the two UK scripts (`1F` vs `20`) is particularly concerning because UK-31 and UK-32 are meant to be a matched "CI only" and "Rayven Demo" pair. A motion sensitivity difference of this kind could produce inconsistent trip detection behavior on vehicles that are switched between the two script variants.

**Fix:** Establish a documented standard value for 1024,23 per deployment profile. At minimum, the two UK scripts should agree unless their different motion profiles are intentional and documented.

---

**[A19-8]** — MEDIUM: UK scripts contain parameters 2176, 2320, and 2322 that are absent from all AU scripts examined

**Description:** Three parameter blocks appear in both UK scripts but in no AU script in the comparison set:
- **2176** (7 indices, 0–6): hex sequences with ascending truncation pattern (`0102030405060700`, `02030405060700`, etc.) — appears to define a data channel or payload format sequence.
- **2320** (index 0): `646D2E63616C616D702E636F2E756B00` = `dm.calamp.co.uk` — a secondary/device-management server hostname specific to the UK CalAmp instance.
- **2322** (index 0): `00015180` = 86400 decimal = a 24-hour interval, likely a keep-alive or heartbeat period.

While 2320 is clearly UK-specific (UK domain name), parameters 2176 and 2322 may represent functionality that AU scripts should also configure but do not. Alternatively, the AU platform uses different defaults that make explicit configuration unnecessary.

**Fix:** Confirm whether parameters 2176 and 2322 are required for the AU platform. If the AU CalAmp DM endpoint equivalent of 2320 is missing from AU scripts, that should be treated as a separate AU-side gap. Document the intent of 2176 (data channel configuration) to confirm it is intentionally absent from AU deployments.

---

**[A19-9]** — LOW: The `161.xx` UK version prefix series is undocumented and overlaps structurally with AU `61.xx`

**Description:** UK scripts use the version prefix `161.xx` (161.31, 161.32), while AU CI/Rayven DataMono scripts use `61.xx` (61.61, 61.135, 61.141, etc.). The `161` prefix appears to be an extension of the `61` series (prepending a `1` to indicate UK), but this convention is nowhere documented in the repository. The sub-numbers used (161.31, 161.32) are in the same numeric range as AU scripts such as 61.31 if they existed, creating potential for confusion when referencing scripts by number. There is no VERSION register or header row in any CSV that records the version label — it exists only in the filename.

**Fix:** Document the version numbering convention (region prefix + sequential number) in a README or naming-convention document. Confirm that the `1` prefix for UK is intentional and that `161.xx` will not collide with any future AU-61 expansion past version 99.

---

**[A19-10]** — LOW: Both UK scripts are structurally identical in parameter count and parameter IDs; cross-script diff limited to six values

**Description:** Both UK scripts have 1235 data rows and 79 unique parameter_id values. The only differences between UK-31 and UK-32 are: `768,0` (device seed — expected), `769,0` (communication period — see A19-5), `1024,23` (accelerometer byte — see A19-7), and `2319,0` (server address — see A19-1). All other 1231 rows are byte-for-byte identical. While structural consistency is positive, the near-total identity means UK-32 ("Rayven Demo") is essentially UK-31 with four values changed. If UK-32 is intended as a distinct deployment profile (demo vs production), the differences should be explicitly called out in documentation, and parameters like 769,0 that diverge should be verified as intentional.

**Fix:** Add a diff summary comment or changelog note to the UK-32 file header (or a companion README) documenting exactly which parameters differ from UK-31 and why.

---

**[A19-11]** — INFO: All hex string fields use consistent null-termination padding

**Description:** All string-valued parameters across all four files (2306, 2178, 2319, 2320, 2331, 2308, 2309, 2318) are consistently null-terminated with a trailing `00` byte encoded in hex. No string is found without a null terminator, and no string has double-padding or irregular trailing bytes. This is a positive quality indicator.

**Fix:** No action required.

---

**[A19-12]** — INFO: No duplicate rows detected in either UK script

**Description:** Both UK scripts have 1235 data rows with no repeated `(parameter_id, parameter_index)` key pairs. All row counts are consistent with the structural block sizes visible in the files.

**Fix:** No action required.
# Pass 4 Code Quality — Agent A20
**Files:** CALAMP APPS/LMUToolbox_V41/
**Branch:** main
**Date:** 2026-02-28

---

## Reading Evidence

### File Inventory

| File | Line Count | Worksheets | ExpandedRowCount |
|------|-----------|------------|-----------------|
| ConfigParams.xml | 16,940 | ConfigParams | 2,106 |
| PEG List.xml | 8,086 | Triggers, Conditions, Actions, Acc Types | 117 / 329 / 207 / 283 |
| VBUS.xml | 280,908 | ConfigParams | 9,858 |

### Document Property Metadata

| File | Author | Created | LastSaved | Internal Date Label |
|------|--------|---------|-----------|---------------------|
| ConfigParams.xml | Kevin Scully | 2011-06-16 | 2020-10-31 | 2020-10-31 (DateTime cell) |
| PEG List.xml | Kevin Scully | 2008-09-18 | 2020-10-31 | none |
| VBUS.xml | Kevin Scully (kscully) | 2011-06-16 | 2020-10-31 | 1 November, 2016 |

### Column Structure

**ConfigParams.xml** (9 columns):
```
Name | ID-Dec | ID-Hex | 8-bit Max Index | 32-bit Max Index | Linux Max Index | Param Value Type | Notes/Usage | LMDecoder
```
- ID-Hex column uses `=DEC2HEX(RC[-1],3)` formula for all rows except 3 entries (which use `=DEC2HEX(RC[-1],1)` for IDs 0, 1, 2)
- 366 unique documented parameter IDs (>= 256)
- Print_Area declared as R1C1:R321C8 (321 rows)
- ExpandedRowCount: 2,106 (1,481 trailing rows contain only a single style-only placeholder cell)

**PEG List.xml** (4 worksheets):
```
Triggers:   Name | Code | Short Name | Definition | [LMU-4100 | LMU-1xxx | STM32 | STM8S | LMU32]
Conditions: similar structure with 14 columns
Actions:    similar structure with 10 columns
Acc Types:  9 columns
```
- Trigger codes auto-incremented via `=R[-1]C+1` formula (193 formula cells)

**VBUS.xml** — J1939 SPN (CAN bus) database (14 columns):
```
PGN (0) | Name (1) | LEN (2) | Type (3) | Pos (4) | LEN (5) | SPN (6) | Name (7) | Notes (8) | Range (9) | ? (10) | Mult (11) | Offset (12) | UOM2 (13)
```
- `_FilterDatabase` named range spans R4C1:R9858C14 (full dataset)
- Print_Area covers only R1C1:R117C7 (CalAmp-defined subset)
- 36,736 empty string cells `<Data ss:Type="String"></Data>` in dataset

### Cross-Reference: CSV Parameter IDs vs ConfigParams.xml

Tested 10 representative parameter IDs from `Aus Script/Komatsu_AU/61.133 Rayven and CI clone Komatsu Telstra Final.csv` and `US Script/PAPE/62.200 Rayven PAPE Final Datamono Fixed.csv` and `8bit Script/50.131-RHM-8bit-LMU1220-POD-10minSleep6hr-Input1POS-PwrMonEvt-PEG0MotionEvtAcc4Dist500Thes10.csv`:

| Parameter ID | Confirmed in ConfigParams.xml | Name |
|-------------|-------------------------------|------|
| 256 | Yes (s97, section offset) | — |
| 512 | Yes (s84) | PEG_EVENT_CFG |
| 768 | Yes (s97) | INBND_ADDRLIST_ADDR |
| 902 | Yes (s97) | ACCEL_IMPACT_THRESHOLD |
| 1024 | Yes (s97) | — |
| 2306 | Yes (s84) | GPRS_CONTEXT_STRING |
| 2308 | Yes (s84) | PAP_USER_STRING |
| 2327 | Yes (s97) | MAINT_RETRY |
| 3072 | Yes (s97) | SPORT_PORT |
| 3331 | Yes (s84) | VBUS_TYPE2_DTCFILTER_TXT |

All parameter IDs used across sampled CSV scripts are present and documented in ConfigParams.xml. No undocumented (orphan) parameters found.

### Security-Relevant Parameters Present

All 9 security-relevant parameter IDs confirmed present in ConfigParams.xml:

| ID | Name in ConfigParams.xml |
|----|--------------------------|
| 2306 | GPRS_CONTEXT_STRING |
| 2308 | PAP_USER_STRING |
| 2309 | PAP_PASS_STRING |
| 2311 | CHAP_USER_STRING |
| 2314 | INBND_SERVER_URL |
| 2315 | INBND_SERVER_PORT |
| 2319 | MAINT_SERVER_URL |
| 2320 | MAINT_SERVER_PORT |
| 3331 | VBUS_TYPE2_DTCFILTER_TXT |

---

## Findings

**[A20-1]** — MEDIUM: Column-shift data entry error in ConfigParams.xml affects IDs 3334+

**Description:** Starting at parameter ID 3334 (VBUS_IGN_ON_VOLTAGE_DIFF), the row column alignment is broken. The parameter symbolic name is written into the LMDecoder column (style `s112`, column 9) instead of the Name column (style `s83`/`s96`, column 1). The Notes/Usage column content is also displaced. The same shift persists for at least the next set of VBUS parameters: VBUS_IGN_ON_SAMP_INTERVAL (ID 3335), VBUS3_FUEL_RATE_CORRECTION_SCALE (ID 3337), VBUS_SQRL_TERM_CHARS (ID 3343), and VBUS_SQRL_RCVDEF (ID 3344). The shift is visible at line 8957 in ConfigParams.xml. Additionally, one cell contains a leading non-breaking space character (`&#160;VBUS3_FUEL_RATE_CORRECTION_SCALE`) indicating a copy-paste error. Any automated tooling that parses the Name column by style ID will silently skip these parameters or misread their type codes as names.

**File:** `CALAMP APPS/LMUToolbox_V41/ConfigParams.xml`, lines 8956–9118

**Fix:** Open the original Excel source, locate the VBUS_IGN_ON_VOLTAGE_DIFF row, and move the parameter name back to column A (Name). Verify alignment for all rows from ID 3334 onward. Remove the leading non-breaking space from `VBUS3_FUEL_RATE_CORRECTION_SCALE`. Re-export to XML.

---

**[A20-2]** — MEDIUM: PEG List.xml Actions sheet has a broken Print_Area (`#REF!`)

**Description:** The `Print_Area` NamedRange for the "Actions" worksheet is set to `=Actions!#REF!`, which is a broken reference. The other three sheets (Triggers, Conditions, Acc Types) have valid Print_Area definitions. A `#REF!` typically results from a row or column deletion that invalidated the named range boundary. The Actions sheet itself has ExpandedRowCount of 207 and contains valid data; only the Print_Area metadata is corrupted. Any process that relies on Print_Area to determine the extent of printable/exportable data for the Actions sheet will silently produce empty or incorrect output.

**File:** `CALAMP APPS/LMUToolbox_V41/PEG List.xml`, line 4238 (Actions worksheet NamedRange)

**Fix:** Open the source Excel file, navigate to the Actions sheet, use Name Manager to delete and recreate the Print_Area named range covering the actual data extent (approximately R1C1:R90C10 based on ExpandedRowCount of 207 and the Triggers sheet ratio). Re-export.

---

**[A20-3]** — MEDIUM: VBUS.xml internal content date (2016) contradicts file save date (2020)

**Description:** VBUS.xml contains the text label "1 November, 2016" in its header row (line 156), and the `LastPrinted` metadata is 2016-12-16. The `LastSaved` metadata is 2020-10-31. This four-year gap with no change to the internal date label indicates the J1939 SPN database content was frozen in 2016 while the file was resaved in 2020 (likely due to a view or layout change). The J1939 standard and CalAmp's supported PGN/SPN set may have evolved between 2016 and the CSV scripts' deployment period (the CSV scripts reference VBUS3 parameters such as VBUS3_FUEL_RATE_CORRECTION_SCALE, VBUS_SQRL_*, and VBUS_IGN_* which appear to be post-2016 additions to ConfigParams.xml). The VBUS.xml lookup table used by LMU Toolbox V41 may be missing SPN definitions for CAN parameters added between 2016 and the scripts' target firmware version.

**File:** `CALAMP APPS/LMUToolbox_V41/VBUS.xml`, line 156

**Fix:** Verify whether the deployed firmware version references SPN definitions beyond what was standardised in 2016. If newer SPNs are used, update VBUS.xml with current J1939 SPN data and update the internal date label to reflect the revision date. Establish a documented update policy for VBUS.xml when firmware adds new VBUS parameter support.

---

**[A20-4]** — LOW: VBUS.xml column 10 header is unnamed ("? (10)")

**Description:** The VBUS.xml worksheet header row defines 14 columns with numeric index labels (PGN (0), Name (1), LEN (2), etc.) but column 10 is labelled `? (10)` — a placeholder that was never given a proper name. The column appears to contain resolution/unit disambiguation data in some rows. This placeholder label has persisted from at least 2016 (the internal date). Any downstream tooling that attempts to map column headers to field names will encounter an undocumented column.

**File:** `CALAMP APPS/LMUToolbox_V41/VBUS.xml`, line ~199

**Fix:** Review the intended semantics of column 10 in the J1939 SPN context (it may be "Indicator" or "Unit" based on the surrounding columns Mult and Offset). Assign a proper name matching the J1939 standard terminology and re-export.

---

**[A20-5]** — LOW: ConfigParams.xml has 1,481 trailing placeholder rows (70% of ExpandedRowCount is dead space)

**Description:** ConfigParams.xml declares `ExpandedRowCount="2106"` in its Table element. The Print_Area NamedRange covers only rows 1–321. Rows 322 through approximately 1816 consist of single-cell rows containing only a style-only placeholder (`<Cell ss:Index="4" ss:StyleID="s65"/>`), with no data. These 1,481 rows represent approximately 70% of the declared table extent and carry no information. The equivalent situation exists in VBUS.xml, which has 1,731 cells with `ss:Index` attributes and 36,736 empty string data cells in its 9,858-row table (the latter is a J1939 database with many sparsely populated fields, which is more expected). In ConfigParams.xml, the trailing dead rows inflate file parse time and add noise when diffing changes.

**File:** `CALAMP APPS/LMUToolbox_V41/ConfigParams.xml`

**Fix:** Before the next scheduled update to ConfigParams.xml, open the source Excel file, select and delete the blank rows below the last parameter entry, and re-save. This will reduce the ExpandedRowCount from 2,106 to approximately 350 and shrink the XML file size.

---

**[A20-6]** — LOW: Inconsistent column style IDs across parameter sections in ConfigParams.xml

**Description:** ConfigParams.xml uses at least three different style IDs for the same logical "parameter name" column depending on which section of the document a row appears in: `s83` (standard parameter rows), `s96` (newer/yellow-highlighted rows), `s112` (rows with the column-shift error described in A20-1), `s139` (Linux-only section rows). Similarly, the parameter ID (decimal) column uses `s84`, `s97`, `s140`, and `s124` in different sections. This inconsistency means the column layout cannot be parsed by style ID alone — a parser must use positional (column index) logic instead, which is more fragile. In addition, style `s63` in ConfigParams.xml uses Calibri 11pt while all other styles use Arial, creating a visual inconsistency in the document.

**File:** `CALAMP APPS/LMUToolbox_V41/ConfigParams.xml`

**Fix:** Standardise on a single style ID per logical column. Consolidate `s96`, `s139` into `s83` for parameter names, and `s97`, `s140`, `s124` into `s84` for decimal IDs. Remove or reassign the Calibri `s63` style (3 occurrences). This requires editing the source Excel file and normalising cell styles before re-export.

---

**[A20-7]** — LOW: ConfigParams.xml firmware version coupling is granular but documents only LMU firmware (not LMU Manager), creating a version traceability gap

**Description:** The "8-bit Max Index" and "32-bit Max Index" columns in ConfigParams.xml embed specific firmware version strings such as `128(v4.2g)`, `1 (v3.2a)`, `250 (v3.1b)`, `1 (v4.2d)`. Twelve distinct firmware version strings are referenced across 14 firmware-version-annotated cells (v4.2g × 14, v3.2a × 14, v2.2b × 6, v4.2d × 5, v2.1a × 5, v3.0a × 4, and others). These are CalAmp LMU device firmware versions, not LMU Manager versions. The folder name "LMUToolbox_V41" and the LMU Manager executable version 8.9.10.7 (from other audit context) use entirely different version numbering schemes from the documented firmware versions (v2.x–v4.x). There is no mapping table or note explaining which LMU Manager version corresponds to which firmware version or which toolbox version. The highest referenced firmware version is v4.2g, which implies the CSV scripts target firmware ≤ v4.2g, but this is not explicitly stated.

**Files:** `CALAMP APPS/LMUToolbox_V41/ConfigParams.xml`

**Fix:** Add a version correspondence table to ConfigParams.xml header rows mapping: LMU Toolbox version (V41) → LMU Manager version (e.g., 8.9.10.7) → highest supported firmware version (e.g., v4.2g). This removes ambiguity about which toolbox version applies to which device firmware.

---

**[A20-8]** — LOW: ConfigParams.xml LMDecoder column contains data-entry errors (parameter names and descriptions placed in wrong column)

**Description:** The 9th column ("LMDecoder") is intended to contain compact type-encoding strings for a decoding tool (e.g., `2U`, `64A|ST`, `4U|IP`). In at least 5 rows, this column contains full parameter symbolic names or descriptive text instead:
- `VBUS_IGN_ON_VOLTAGE_DIFF` (row for ID 3334)
- `Voltage differential to detect possible Ignition on` (row for ID 3334)
- `VBUS_IGN_ON_SAMP_INTERVAL` (row for ID 3335)
- `SQRL rcvd msg filter definitions for forwarding ` (row for ID 3344, with trailing whitespace)
- `&#160;VBUS3_FUEL_RATE_CORRECTION_SCALE` (row for ID 3337, with leading non-breaking space)
- `list of SQRL configurable termination characters` (row for ID 3343)

These are all related to the column-shift described in A20-1, but they also mean that any LMDecoder tooling consuming this column will receive unparseable strings for these parameters, potentially causing silent decode failures for VBUS ignition-on detection and SQRL message filtering parameters.

**File:** `CALAMP APPS/LMUToolbox_V41/ConfigParams.xml`, lines 8957, 8969, 8974, 9105, 9116, 9153

**Fix:** Correct the column alignment for the affected rows as described in A20-1. Verify that the LMDecoder column for each corrected row contains a valid type-encoding string in the format used by other entries (e.g., `2U` for 16-bit unsigned).

---

**[A20-9]** — INFO: PEG List.xml device-compatibility columns cover five hardware platforms but CSV scripts target only LMU-1xxx (LMU1220)

**Description:** The PEG List.xml Triggers sheet includes columns for five device platforms: LMU-4100, LMU-1xxx, STM32, STM8S, and LMU32. The CSV scripts in the repository are all named with file numbers indicating LMU1220 target devices (the LMU1220 falls under the "LMU-1xxx" family). The other four platform columns are present in the reference document but serve no purpose for this deployment. This is not an error but increases cognitive load when consulting PEG List.xml to verify trigger/condition/action support for the deployment target.

**File:** `CALAMP APPS/LMUToolbox_V41/PEG List.xml`

**Fix:** Consider creating a filtered view or a separate PEG compatibility reference document that shows only LMU-1xxx compatibility, or add a visual indicator (e.g., column freeze or bold header) to make LMU-1xxx the visually primary column when consulting the reference.

---

**[A20-10]** — INFO: All CSV-script parameter IDs are documented in ConfigParams.xml — no orphan parameters detected

**Description:** A cross-reference of all unique parameter IDs found across sampled CSV scripts (Komatsu AU, PAPE US, 8-bit script) against ConfigParams.xml confirms that every parameter ID used in the deployment scripts (including 2306, 2308, 2309, 2311, 2314, 2315, 2319, 2320, 3072, 3331, 2327, etc.) is present and named in ConfigParams.xml. This is a positive finding indicating the reference documentation is complete relative to the deployed parameter set.

**Files:** `CALAMP APPS/LMUToolbox_V41/ConfigParams.xml`, all `*.csv` scripts

**Fix:** No action required. Maintain by running a cross-reference check whenever new parameter IDs are added to any CSV script.
# Pass 4 Code Quality — Agent A25
**Files:** UK Script/ (third batch — both files, only 2 exist)
**Branch:** main
**Date:** 2026-02-28

---

## Reading Evidence

### Files Analyzed

| File | Path |
|------|------|
| UK 161.31 | `UK Script/161.31 CI only Data.Mono Final.csv` |
| UK 161.32 | `UK Script/161.32 Rayven Demo DataMono Final.csv` |
| AU reference | `Aus Script/61.61 General for CI old dashboard datamono.csv` |
| US reference | `US Script/PAPE/62.134 Rayven CI PAPE Final Datamono.csv` |

### Row Counts

| File | Total File Lines | Data Rows (excl. header + blank) |
|------|-----------------|----------------------------------|
| UK 161.31 | 1236 | 1234 |
| UK 161.32 | 1236 | 1234 |
| AU 61.61  | 1232 | 1230 |
| US 62.134 | 1231 | 1229 |

UK scripts have 4 more data rows than AU and 5 more than US.

### Decoded Key String Parameters

| Param | File | Decoded Value |
|-------|------|---------------|
| p2306,0 (APN) | UK 161.31 | `data.mono` |
| p2306,0 (APN) | UK 161.32 | `data.mono` |
| p2306,0 (APN) | AU 61.61  | `data.mono` |
| p2306,0 (APN) | US 62.134 | `data.mono` |
| p2319,0 (server) | UK 161.31 | `narhm.tracking-intelligence.com` (hostname) |
| p2319,0 (server) | UK 161.32 | `52.164.241.179` (raw IP address) |
| p2319,0 (server) | AU 61.61  | `narhm.tracking-intelligence.com` (hostname) |
| p2319,0 (server) | US 62.134 | `52.164.241.179` (raw IP address) |
| p2320,0 (sec. server) | UK 161.31 | `dm.calamp.co.uk` |
| p2320,0 (sec. server) | UK 161.32 | `dm.calamp.co.uk` |
| p2320,0 (sec. server) | AU 61.61  | ABSENT |
| p2320,0 (sec. server) | US 62.134 | ABSENT |
| p2178,0 (report format) | All scripts | `<EA><S0><=*><T1>` |
| p2311,0 (APN port) | UK 161.31 | `5014` hex = 20500 decimal |
| p2311,0 (APN port) | UK 161.32 | `5014` hex = 20500 decimal |
| p2311,0 (APN port) | AU 61.61  | ABSENT |
| p2311,0 (APN port) | US 62.134 | ABSENT |
| p2312,0 (protocol) | All scripts | `0011` = 17 (consistent) |
| p2313,0 (format idx) | All scripts | `0000` (consistent) |
| p2322,0 (timeout) | UK only | `00015180` = 86400 (24 h) |

### Primary Server Port (p769,0)

| File | p769,0 hex | Decimal |
|------|-----------|---------|
| UK 161.31 | 2AF8 | 11000 |
| UK 161.32 | 05DF | 1503  |
| AU 61.61  | 2AF8 | 11000 |
| US 62.134 | 05DD | 1501  |

### Parameters Exclusive to UK (not in AU 61.61 or US 62.134)

| Parameter | Indices | Value(s) | Notes |
|-----------|---------|----------|-------|
| p2176 | 0–6 | Staircase pattern 01..07 00 | Report format config table |
| p2311 | 0 | 5014 (20500) | APN server port |
| p2320 | 0 | dm.calamp.co.uk | CalAmp UK DM server |
| p2322 | 0 | 00015180 = 86400 | 24 h heartbeat/session timeout |

### Parameters Exclusive to AU 61.61 (not in UK)

| Parameter | Indices | Notes |
|-----------|---------|-------|
| p515  | 235–249 (15 entries) | Additional action table |
| p1538 | 0–3 (4 entries) | Unknown block (0002/0000/0000/0001) |
| p2308 | 0 | Network username |
| p2309 | 0 | Network password |
| p2318 | 0 | Phone/SMS gateway (`*22899`) |

### Differing Rows Between UK 161.31 and UK 161.32

The two UK files are structurally identical (1234 data rows each) and differ in exactly four parameters:

| Param | 161.31 | 161.32 | Notes |
|-------|--------|--------|-------|
| p768,0 | `6704EB0F` | `34A4F1B3` | Template/base config ID |
| p769,0 | `2AF8` (11000) | `05DF` (1503) | Primary server port |
| p1024,23 | `1F` | `20` | Device config byte |
| p2319,0 | `6E6172686D...00` = hostname | `35322E...00` = `52.164.241.179` | Server address type |

### p512 Action Rule Comparison (sample)

| Index | UK 161.31 | UK 161.32 | AU 61.61 | US 62.134 |
|-------|-----------|-----------|----------|-----------|
| 512,1  | `0F00000001000000` | `0F00000001000000` | `0F0000007A000000` | `0F0000007A000000` |
| 512,12 | `1000000001010000` | `1000000001010000` | `100000007A010000` | `100000007A010000` |
| 512,21 | `0100000001080000` | `0100000001080000` | `010000007A080000` | `010000007A080000` |
| 512,48 | `0401000001030000` | `0401000001030000` | `040100007A030000` | `040100007A030000` |
| 512,91 | `0506000001060000` | `0506000001060000` | `050600007A060000` | `050600007A060000` |

Minimum 25 of the 250 p512 entries differ. All differ at byte offset 4 (0-indexed): UK = `00 01`, AU/US = `00 7A`. Byte `0x7A` (122) is the Rayven report target; `0x01` is the CI/default target.

### p779 Action Mapping Comparison

| File | Entries | Values |
|------|---------|--------|
| UK 161.31 | 0–249 | ALL `00` (fully disabled) |
| UK 161.32 | 0–249 | ALL `00` (fully disabled) |
| AU 61.61  | 0–249 | Mixed: `03` (active) for inputs 0–45, 49–58, 65–70, 83–90; `00` otherwise |
| US 62.134 | 0–249 | Same pattern as AU 61.61 |

### p773,0 (GPS/Comm timeout)

| File | Value |
|------|-------|
| UK 161.31 | `2080` |
| UK 161.32 | `2080` |
| AU 61.61  | `2C80` |
| US 62.134 | `2C80` |

UK differs from AU/US.

### p1024,57 (Device config byte)

| File | Value dec |
|------|-----------|
| UK 161.31 | `10` = 16 |
| UK 161.32 | `10` = 16 |
| AU 61.61  | `14` = 20 |
| US 62.134 | `14` = 20 |

---

## Findings

**[A25-1]** — HIGH: UK 161.32 "Rayven Demo" has no Rayven action routing — identical p512 to CI-only 161.31

**Description:** The file `161.32 Rayven Demo DataMono Final.csv` is named as a Rayven demo configuration, yet all 250 p512 action rule entries use byte value `0x01` (CI/default target) at the message-type position. The equivalent AU and US Rayven scripts use `0x7A` (Rayven target) in these positions. The UK 161.31 "CI only" script is correctly configured with `0x01`. The two UK files are functionally identical in their reporting action routing — 161.32 will not deliver events to Rayven. The only functional difference in 161.32 is the primary server address (p2319,0 = raw IP) and port (p769,0 = 1503 vs 11000 in 161.31).

**Fix:** Update p512 action entries in 161.32 to use `7A` in the message-type byte position (offset 4 of each 8-byte action word) wherever Rayven reporting is intended, mirroring the pattern in AU `61.61` or AU `61.141 Rayven and CI clone`. Specifically at minimum indices: 1, 12, 21, 23, 25, 43, 44, 45, 48, 49, 53, 54, 56, 57, 62, 63, 72, 91, 92, 113, 117, 126, 128, 134, 139, and all other non-zero action rows that correspond to Rayven report types.

---

**[A25-2]** — HIGH: p779 (I/O action mapping) is entirely zeroed in both UK scripts — all hardware triggers disabled

**Description:** Both UK scripts set all 250 indices of parameter 779 to `0x00`, meaning no hardware input or sensor event will trigger any action on these devices. The AU and US equivalents have selective entries set to `0x03` (covering inputs 0–45, 49–58, 65–70, 83–90), enabling the corresponding I/O triggers. The all-zero UK p779 means that even if the devices have connected sensors or ignition inputs, they will produce no event-driven reports — only time/distance periodic reports.

**Fix:** Determine which physical inputs are wired in the UK deployment and set the corresponding p779 indices to `0x03` (or the appropriate bitmask), consistent with the AU script pattern. At minimum, standard ignition-on/off inputs (indices 0–7) should be enabled. Confirm with field deployment requirements before applying. Do not copy AU values verbatim; verify against the UK wiring harness.

---

**[A25-3]** — MEDIUM: UK 161.32 uses a hardcoded raw IP address (`52.164.241.179`) for the primary server (p2319,0) while 161.31 uses a hostname

**Description:** `161.32 Rayven Demo DataMono Final.csv` sets p2319,0 = `35322E3136342E3234312E31373900` which decodes to the ASCII string `52.164.241.179`. `161.31` and both the AU reference (61.61) use the hostname `narhm.tracking-intelligence.com`. Using a raw IP address means that if the Rayven server is migrated, load-balanced, or its IP changes, devices programmed with 161.32 will silently stop reporting with no DNS-level fallback.

**Fix:** Replace p2319,0 in 161.32 with the hostname form: `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00` (the same value as 161.31 and AU 61.61), or the appropriate Rayven UK endpoint hostname if different. Never hardcode IP addresses in production scripts.

---

**[A25-4]** — MEDIUM: UK scripts are missing p779-linked parameters present in AU — p515, p1538 absent with no documented rationale

**Description:** AU script 61.61 includes parameter blocks p515 (15 entries, indices 235–249) and p1538 (4 entries), both absent from UK scripts. p1538 contains structured non-zero values (`0002`, `0000`, `0000`, `0001`) that appear to configure a hardware or communication feature. Their absence in UK scripts is undocumented. Given that p779 is also all-zero in UK, the combined absence of p515 and p1538 suggests a systematic gap in UK hardware integration configuration rather than an intentional UK-specific omission.

**Fix:** Investigate the semantic meaning of p515 and p1538 in the CalAmp LMU SDK documentation. If these are required for the device model used in UK deployments, add them with appropriate values. At minimum, document in a change log or README why they are intentionally absent if that is the case.

---

**[A25-5]** — MEDIUM: p773,0 differs between UK (0x2080) and AU/US (0x2C80) with no documentation

**Description:** Parameter 773 index 0 is set to `2080` in both UK scripts but `2C80` in AU 61.61 and US 62.134. The difference is in the upper nibble of the high byte (`20` vs `2C` = decimal 32 vs 44). This parameter likely governs a GPS or communication timing threshold. The divergence is consistent within UK and within AU/US but undocumented, making it impossible to determine whether it is an intentional UK-specific tuning or a copy-paste error from an older template.

**Fix:** Document the purpose of p773 in a parameter reference or comment block. If the difference is intentional (e.g., UK network latency requires a different threshold), add a comment to the CSV files or a separate README. If unintentional, align to `2C80` to match AU/US behaviour.

---

**[A25-6]** — MEDIUM: p1024,57 differs between UK (0x10 = 16) and AU/US (0x14 = 20) — undocumented device config divergence

**Description:** p1024,57 is `10` (16 decimal) in both UK scripts and `14` (20 decimal) in AU 61.61 and US 62.134. p1024 is a packed device configuration array; index 57 likely governs a timer or threshold count. As with p773, the difference is systematic (same within each region) but undocumented.

**Fix:** Cross-reference p1024,57 in the LMU parameter specification. If UK devices require a different value (e.g., due to different firmware revision), document this explicitly. If accidental, align to `14` to match AU/US.

---

**[A25-7]** — MEDIUM: UK version numbering convention (161.xx) is undocumented and could lead to future collisions

**Description:** UK scripts use the prefix `161` (161.31, 161.32). AU scripts use `61.xx` and US scripts use `62.xx`. The UK prefix `161` appears to be derived by prepending `1` to the AU prefix `61` (i.e., 1+61=161), suggesting UK scripts are forked from the AU 61-series. This convention is not documented anywhere in the repository. As the AU series already has versions up to 61.141 and the UK series has only 161.31 and 161.32, there is currently no numeric collision. However, the pattern is fragile: if a future AU version `61.161` is created, or if someone interprets `161.31` as a three-part version (`1.61.31`), confusion will arise. There is no README, CHANGELOG, or comment in either CSV file explaining the numbering scheme.

**Fix:** Add a `README.md` to the `UK Script/` directory documenting the 161.xx version convention, its derivation from AU 61.xx, and the rule for assigning new UK version numbers. Consider whether a more clearly differentiated prefix (e.g., `UK-61.xx` or a dedicated `63.xx` series) would be less ambiguous long-term.

---

**[A25-8]** — LOW: UK scripts include p2320 (CalAmp DM server = `dm.calamp.co.uk`) and p2322 (86400 s timeout) not present in AU/US — intentional but undocumented

**Description:** Both UK files set p2320,0 = `dm.calamp.co.uk` (the CalAmp UK device management server) and p2322,0 = `00015180` (86400 = 24 hours, likely a heartbeat or session keep-alive interval). Neither parameter appears in AU 61.61 or US 62.134. These are plausibly intentional UK-specific settings tied to the CalAmp UK infrastructure. The DM endpoint domain `dm.calamp.co.uk` correctly uses the UK-specific CalAmp domain. However, the function of p2322 is not documented in any file.

**Fix:** Document p2320 and p2322 in a UK-specific parameter reference. Confirm that 86400 s (24 h) is the correct heartbeat interval for the UK deployment. If AU/US scripts should also use a DM server endpoint, raise a separate ticket.

---

**[A25-9]** — LOW: UK scripts include p2311 (APN server port = 20500) absent from AU/US — cross-carrier consistency gap

**Description:** Both UK files set p2311,0 = `5014` hex = 20500 decimal. This parameter is absent from AU 61.61 and US 62.134. In context, p2311 appears to be an APN-side UDP/TCP listening port specific to the data.mono carrier in the UK. Its absence from AU data.mono scripts (which use the same APN string `data.mono`) is a potential inconsistency — either AU data.mono does not require an explicit port (using a default), or this parameter was missed when the AU scripts were authored.

**Fix:** Verify with the data.mono carrier whether an explicit server port is required. If AU data.mono scripts also require p2311, add it to the relevant AU files. If it is UK-specific, document this in the UK script README.

---

**[A25-10]** — LOW: p2176 (report format table, 7 entries) is present only in UK scripts

**Description:** Both UK files contain parameter 2176 with indices 0–6, using a staircase pattern of byte sequences (01–07 followed by null terminator `00`). This parameter block is absent from AU 61.61 and US 62.134. The staircase structure (`0102030405060700`, `02030405060700`, ..., `0700`) is consistently null-terminated in all entries and appears to define a report field mapping table. Its presence exclusively in UK scripts, with no AU/US equivalent, is undocumented.

**Fix:** Document what p2176 configures. If it enables a UK-specific report format required by the Tracking Intelligence platform (`narhm.tracking-intelligence.com`), note this in the UK README. If it should also be in AU/US scripts for full feature parity, raise a ticket to add it.

---

**[A25-11]** — INFO: p2306 (APN) and p2178 (report format string) are consistent across all four scripts

**Description:** All four scripts (UK 161.31, UK 161.32, AU 61.61, US 62.134) set p2306,0 = `data.mono` and p2178,0 = `<EA><S0><=*><T1>`. The report format string is identical and correctly null-terminated in all scripts. APN naming is consistent. p2312 (protocol = 17) and p2313 (format index = 0) are also identical across all scripts.

**Fix:** No action required.

---

**[A25-12]** — INFO: All null-terminated hex strings are consistently terminated with trailing `00` byte

**Description:** All string parameters (p2306, p2319, p2320, p2178, p2331, p2176) in both UK files correctly end with a `00` null terminator byte. This is consistent with the AU and US reference scripts. No encoding inconsistency was found in null termination.

**Fix:** No action required.
# Pass 4 Code Quality — Agent A27
**Files:** URL & PORTS.xlsx
**Branch:** main
**Date:** 2026-02-28

---

## Reading Evidence

### Extraction Method
XLSX read as ZIP/OOXML via PowerShell `System.IO.Compression.ZipFile`. Entries read: `xl/worksheets/sheet1.xml` and `xl/sharedStrings.xml`.

### Column Headers (Row 1)
| Col | Header |
|-----|--------|
| A | Customer |
| B | Type of Device |
| C | Rayven Inbound URL |
| D | Port |
| E | CI Inbound URL |
| F | Port2 |

### Sheet Dimensions
- Declared range: `A1:F65`
- Populated data rows: 35 (including header row 1 and blank separator rows)
- Unique customers (rows with col A populated): **24**
- Device type values in col B: `G70`, `G70 ` (trailing space — two distinct shared strings), `CALAMP`

### Customer List (24 entries)
| Row | Customer | Device | Server IP (col C) | Port (col D) | CI URL (col E) | Port2 (col F) |
|-----|----------|--------|-------------------|--------------|----------------|---------------|
| 3 | Komatsu Forklift Australia | CALAMP | 52.164.241.179 | 1500 | narhm.tracking-intelligence.com | 11000 |
| 4 | (Komatsu G70 sub-row) | G70 (trailing space) | 52.169.16.32 | 16010 | 103.4.235.15 | (blank) |
| 6 | PAPE | CALAMP | 52.164.241.179 | 1501 | narhm.tracking-intelligence.com | 11000 |
| 7 | (PAPE G70 sub-row) | (blank) | (blank) | (blank) | 103.4.235.15 | (blank) |
| 9 | Matthai MH | G70 | 52.169.16.32 | 16005 | (blank) | (blank) |
| 10 | (Matthai CALAMP sub-row) | CALAMP | 52.164.241.179 | 1502 | (blank) | (blank) |
| 13 | CEA | G70 | 52.169.16.32 | 16006 | narhm.tracking-intelligence.com | 11000 |
| 14 | (CEA CALAMP sub-row) | CALAMP | 52.164.241.179 | 1504 | 103.4.235.15 | (blank) |
| 17 | Darr | G70 | 52.169.16.32 | 16012 | (blank) | (blank) |
| 20 | Demo | G70 | 52.169.16.32 | 16008 | (blank) | (blank) |
| 21 | (Demo CALAMP sub-row) | CALAMP | 52.164.241.179 | 1503 | (blank) | (blank) |
| 24 | Trilift | G70 | 52.169.16.32 | 16007 | (blank) | (blank) |
| 27 | Material Handling INC | G70 (trailing space) | 52.169.16.32 | 16009 | (blank) | (blank) |
| 30 | Clark Trace Demo | G70 | 52.169.16.32 | 16011 | (blank) | (blank) |
| 31 | (Clark Trace Demo CALAMP sub-row) | CALAMP | 52.164.241.179 | 1505 | (blank) | (blank) |
| 33 | Arconic | G70 | 52.169.16.32 | 16015 | (blank) | (blank) |
| 35 | C&B Equipments | G70 | 52.169.16.32 | 16014 | (blank) | (blank) |
| 37 | SIE Charlotte | G70 | 52.169.16.32 | 16016 | (blank) | (blank) |
| 38 | (SIE CALAMP sub-row) | CALAMP | 52.164.241.179 | 1508 | (blank) | (blank) |
| 40 | Dgroup | G70 | 52.169.16.32 | 16017 | (blank) | (blank) |
| 41 | (Dgroup CALAMP sub-row) | CALAMP | 52.164.241.179 | 1509 | (blank) | (blank) |
| 43 | LindeNZ | G70 | 52.169.16.32 | 16018 | (blank) | (blank) |
| 44 | (LindeNZ CALAMP sub-row) | CALAMP | 52.164.241.179 | 1510 | (blank) | (blank) |
| 46 | Frontier Fortlift | G70 | 52.169.16.32 | 16019 | (blank) | (blank) |
| 47 | (Frontier CALAMP sub-row) | CALAMP | 52.164.241.179 | 1511 | (blank) | (blank) |
| 49 | IAC | G70 | 52.169.16.32 | 16020 | (blank) | (blank) |
| 51 | Wallace Distribution | G70 | 52.169.16.32 | 16021 | (blank) | (blank) |
| 53 | Superior Industrial Products | G70 | 52.169.16.32 | 16022 | (blank) | (blank) |
| 55 | Attached Solutions | G70 | 52.169.16.32 | 16023 | (blank) | (blank) |
| 57 | Forklogic | G70 | 52.169.16.32 | 16025 | (blank) | (blank) |
| 59 | Kion Group | G70 | 52.169.16.32 | 16026 | (blank) | (blank) |
| 61 | Hunter and Northern Logistics | G70 | 52.169.16.32 | 16024 | (blank) | (blank) |
| 63 | Boaroo | CALAMP | 52.164.241.179 | 1515 | (blank) | (blank) |
| 65 | Kion Asia | G70 | 52.169.16.32 | 16026 | (blank) | (blank) |

### IP Addresses Present in XLSX
- `52.164.241.179` — Rayven inbound server (CALAMP device rows, col C)
- `52.169.16.32` — Rayven inbound server (G70 device rows, col C)
- `103.4.235.15` — CI inbound server (col E, only rows 4 and 14)
- `narhm.tracking-intelligence.com` — CI inbound URL (col E, rows 3, 6, 13)

### CSV Scripts Located in Repository
```
Aus Script/Komatsu_AU/     (4 files)
Aus Script/CEA/            (5 files)
Aus Script/DPWorld/        (2 files)
Aus Script/Keller/         (2 files)
Aus Script/Boaroo/         (1 file)
Demo Script/               (1 file)
UK Script/                 (2 files)
US Script/Matthai/         (3 files)
US Script/PAPE/            (6 files)
US Script/SIE/             (1 file)
8bit Script/               (2 files)
Aus Script/                (1 general file)
```

### Cross-Validation Results (5 Customers)

**Komatsu Forklift Australia** — XLSX: CALAMP port 1500, G70 port 16010
- CSV `61.133`: reg 769,0 = `0x2AF8` = **11000** (CI primary); reg 769,1 = `0x05DC` = **1500** ✓ matches XLSX CALAMP port
- CSV `69.001`: reg 2319,0 = `52.164.241.179` ✓ matches XLSX Rayven IP

**PAPE** — XLSX: CALAMP port 1501
- CSV `62.134`: reg 769,0 = `0x05DD` = **1501** ✓ matches XLSX CALAMP port
- CSV `69.007`: reg 769,0 = `0x05DD` = **1501** ✓ also matches; reg 2319,0 = `52.164.241.179` ✓

**CEA** — XLSX: CALAMP port 1504, G70 port 16006
- CSV `50.132`: reg 769,0 = `0x05E0` = **1504** ✓ matches XLSX CALAMP port
- CSV `61.140`: reg 2319,0 = `narhm.tracking-intelligence.com` ✓; reg 2319,1 = `52.164.241.179` ✓

**Matthai MH** — XLSX: CALAMP port 1502, G70 port 16005
- CSV `61.137`: reg 769,0 = `0x2AF8` = 11000; reg 769,1 = `0x05DE` = **1502** ✓ matches XLSX CALAMP port
- CSV `61.138`: reg 2319,0 = `52.164.241.179` ✓ matches XLSX Rayven IP

**Boaroo** — XLSX: CALAMP device type, port 1515
- CSV `69.005`: starts at reg 256 (G70 format); has NO reg 2311 CALAMP port register; reg 2319,0 = `52.164.241.179` ✓
- Port `0x05EB` = **1515** NOT found in `69.005` — device type in XLSX is incorrect for this script

---

## Findings

**[A27-1]** — HIGH: Duplicate port assignment — Kion Group and Kion Asia share G70 port 16026

**Description:** Row 59 (Kion Group) and row 65 (Kion Asia) are both assigned G70 port `16026`. Two distinct customers sharing the same Rayven platform port value means data from one customer's devices could be routed to or confused with the other. This is not a typo in a single row — both rows are fully populated with the same port value.

**Fix:** Assign a unique, previously unused port to one of the two customers (e.g., assign Kion Asia a new port such as `16027`). Verify with the Rayven platform team which customer currently holds port 16026 and which one lacks a valid binding.

---

**[A27-2]** — HIGH: Boaroo device type incorrectly recorded as CALAMP

**Description:** Row 63 records Boaroo as device type `CALAMP` with Rayven IP `52.164.241.179` and port `1515`. The actual CSV script for Boaroo (`Aus Script/Boaroo/69.005 Rayven Boaroo Telstra Final.csv`) uses the G70 script structure (starts at register 256, no reg 2311 CALAMP port register present). The corresponding port `0x05EB` = 1515 does not appear anywhere in the Boaroo script. Boaroo's CSV only encodes server IP `52.164.241.179` via reg 2319, consistent with G70 scripts, not CALAMP LMU scripts.

**Fix:** Change Boaroo's device type in the XLSX from `CALAMP` to `G70` and assign a G70 port number. Verify whether a CALAMP script for Boaroo should also be created, or whether port 1515 should be removed entirely.

---

**[A27-3]** — HIGH: Keller customer has CSV scripts but no entry in URL & PORTS.xlsx

**Description:** The directory `Aus Script/Keller/` contains two active CSV device scripts (`61.101 Rayven Keller Demo Blank APN.csv` and `61.111 Optimal Script for Keller.csv`). Keller is completely absent from URL & PORTS.xlsx — the customer name does not appear in the shared strings table. Without an XLSX entry, Keller has no documented port assignment or server configuration reference.

**Fix:** Add a Keller row to URL & PORTS.xlsx with the correct device type (G70, based on the script format), Rayven Inbound URL, and assigned port number. Coordinate with the Rayven platform team to confirm the port assignment is active.

---

**[A27-4]** — HIGH: DPWorld customer has CSV scripts but no entry in URL & PORTS.xlsx

**Description:** The directory `Aus Script/DPWorld/` contains two active CSV device scripts (`61.36 CI DPWORLD Telstra Final.csv` and `61.37 CI DPWORLD Data.mono Final.csv`). DPWorld is completely absent from URL & PORTS.xlsx. Both DPWorld scripts encode reg 2311 = `0x5014` = 20500 (CALAMP port) and reg 2319,0 = `narhm.tracking-intelligence.com`, indicating an active integration.

**Fix:** Add a DPWorld row to URL & PORTS.xlsx with device type CALAMP (or G70 sub-row), server IP `52.164.241.179`, and the appropriate port. Also add G70 sub-row if applicable. Verify against Rayven platform records.

---

**[A27-5]** — MEDIUM: 17 of 24 customers in XLSX have no corresponding CSV device scripts

**Description:** The following 17 customers appear in URL & PORTS.xlsx but have no CSV configuration files anywhere in the repository: Darr, Trilift, Material Handling INC, Clark Trace Demo, Arconic, C&B Equipments, Dgroup, LindeNZ, Frontier Fortlift, IAC, Wallace Distribution, Superior Industrial Products, Attached Solutions, Forklogic, Kion Group, Hunter and Northern Logistics, Kion Asia. It is unclear whether these represent active customers whose scripts were never committed, decommissioned customers, or planned future customers.

**Fix:** For each of the 17 customers: determine if they are active (scripts exist externally and should be committed), historical (XLSX row should be archived or deleted), or future (XLSX row should be marked as pending). Inactive/historical rows should be moved to a separate archive sheet or removed to reduce confusion.

---

**[A27-6]** — MEDIUM: UK Script folder customers entirely absent from URL & PORTS.xlsx

**Description:** The `UK Script/` folder contains two CSV files (`161.31 CI only Data.Mono Final.csv` and `161.32 Rayven Demo DataMono Final.csv`). Neither of these customers (a UK CI-only customer and a UK Rayven Demo customer) appears anywhere in URL & PORTS.xlsx. The UK scripts use different infrastructure: reg 2320,0 = `dm.calamp.co.uk` (UK CalAmp DM server), which is also not referenced in the XLSX at all.

**Fix:** Add UK customers to URL & PORTS.xlsx, including the UK-specific server address `dm.calamp.co.uk`. Consider whether UK deployments require a separate sheet or clearly marked section within the existing sheet.

---

**[A27-7]** — MEDIUM: IP addresses 52.169.16.32 and 103.4.235.15 are recorded in XLSX but not programmed into any CSV device script

**Description:** The XLSX records `52.169.16.32` as the "Rayven Inbound URL" for G70 device rows (col C) and `103.4.235.15` as the "CI Inbound URL" (col E) for Komatsu and CEA. A complete hex search across all 31 CSV files confirms neither IP address (`35322E3136392E31362E333200` or `3130332E342E3233352E313500`) appears in any device configuration. Devices are programmed exclusively with `52.164.241.179` (Rayven) and `narhm.tracking-intelligence.com` (CI) via reg 2319.

**Fix:** Remove or correct `52.169.16.32` and `103.4.235.15` from the XLSX if they represent stale or decommissioned server addresses. If these are valid alternative server IPs, document their purpose clearly and create a cross-reference to the correct configuration scripts. Update column headers to accurately describe which IP is primary vs. backup.

---

**[A27-8]** — MEDIUM: Column C header "Rayven Inbound URL" is ambiguous — it stores different server IPs for different device types

**Description:** Column C is labelled "Rayven Inbound URL" in the header row (row 1). However, for CALAMP device rows it stores `52.164.241.179` (the Rayven server IP), while for G70 device rows it stores `52.169.16.32` (labelled as a different Rayven endpoint). The column header does not distinguish between device types and the two IPs point to different servers. A reader cannot determine from the header alone what server role each IP plays.

**Fix:** Split the G70 and CALAMP device rows into clearly separated sections or sub-tables, each with their own labelled header row. Alternatively, add a "Notes" or "Role" column clarifying the function of each IP (e.g., "Rayven primary inbound", "Rayven G70 endpoint"). The current merged layout forces readers to infer meaning from row position.

---

**[A27-9]** — MEDIUM: "Port2" column (col F) is only populated for 3 of 24 customers

**Description:** Column F is labelled "Port2" and contains the value `11000` only for Komatsu Forklift Australia (row 3), PAPE (row 6), and CEA (row 13). Cross-validation confirms `11000` = `0x2AF8` which is the CI primary inbound port in LMU1220 8-bit scripts (reg 769,0). The remaining 21 customers have blank values in this column. It is unclear whether the blank cells mean "no Port2 applicable" or "Port2 unknown/not yet recorded."

**Fix:** Add a column note or explicit "N/A" value for customers without a secondary port. If Port2 is the CI inbound port, document this in the column header (e.g., "CI Inbound Port"). For the 3 populated customers, verify the `11000` value is still current against Rayven platform configuration.

---

**[A27-10]** — MEDIUM: G70 port values (16005–16026) do not appear in any CSV device script register

**Description:** The XLSX "Port" column for G70 device rows contains values in the range `16005`–`16026`. A complete search of all 31 CSV device configuration files finds zero occurrences of these values (neither as decimal strings nor as their hex equivalents `0x3E85`–`0x3E9A`). This means the G70 port values are Rayven platform-side configuration identifiers (likely tenant/instance IDs), not values programmed into devices. The column header "Port" is misleading since it implies a TCP port number programmed into the device.

**Fix:** Rename the "Port" column for G70 rows to clarify that these are Rayven platform configuration identifiers, not device-programmed TCP ports (e.g., "Rayven Tenant ID" or "Rayven Instance Port"). Add a legend or README note explaining the difference between device-programmed ports (reg 769 in CSV scripts) and server-side port/tenant assignments.

---

**[A27-11]** — LOW: Duplicate port gap — G70 port 16013 is missing from the sequence

**Description:** The G70 port sequence runs `16005`, `16006`, `16007`, `16008`, `16009`, `16010`, `16011`, `16012`, then skips to `16014`. Port `16013` is not assigned to any customer. Similarly, CALAMP ports `1506`, `1507`, `1512`, `1513`, and `1514` are unassigned. While gaps alone are not errors, combined with the duplicate of `16026` (finding A27-1), the gaps suggest possible assignment errors (e.g., a customer was assigned 16026 when it should have been 16013).

**Fix:** Document whether the gaps are intentional reservations or accidentally skipped assignments. If they are unused, keep them as reserved and document that status in the spreadsheet. Resolve A27-1 first to determine if Kion Asia should be reassigned to one of these gap values.

---

**[A27-12]** — LOW: "Frontier Fortlift" is a likely spelling error (should be "Forklift")

**Description:** Row 46 lists the customer name as `Frontier Fortlift`. The correct spelling of the equipment type is "forklift." This appears to be a data entry typographical error. If this name is used as a lookup key or identifier in any downstream system or script filename, the misspelling will cause mismatches.

**Fix:** Correct the spelling to `Frontier Forklift` in the XLSX. Search for this string in any other documentation, scripts, or platform configuration and apply the correction consistently.

---

**[A27-13]** — LOW: "G70 " (with trailing space) used inconsistently as a device type value

**Description:** The XLSX shared strings table contains two distinct entries for the G70 device type: string index 11 = `G70` (no trailing space) and string index 19 = `G70 ` (one trailing space character). String 19 is used in row 4 (Komatsu G70 sub-row) and row 27 (Material Handling INC). All other G70 rows use string 11. This inconsistency means any programmatic filtering on column B values will fail to include these two rows when matching on the string `"G70"`.

**Fix:** Normalize all device type values to `G70` (no trailing space). Open the XLSX and re-type or find-and-replace the trailing space variant. Validate by re-reading the sharedStrings.xml after saving.

---

**[A27-14]** — LOW: Spreadsheet uses non-contiguous blank rows as visual separators, making programmatic access unreliable

**Description:** The XLSX uses blank rows between customer entries (rows 2, 5, 8, 11–12, 15–16, 18–19, 22–23, 25–26, 28–29, etc.) as visual separators. Multi-device customers (e.g., Komatsu with a CALAMP row 3 and a G70 row 4) span adjacent rows with no column A value in the second row, and the first row's data does not repeat. Any tool or script that reads the sheet row-by-row must implement custom logic to associate sub-rows with their parent customer. The sheet also does not use Excel table formatting (despite having a `<tablePart>` reference), which would enforce contiguous data.

**Fix:** Restructure the spreadsheet so each customer-device combination occupies exactly one row with the customer name explicitly repeated. Alternatively, use a proper Excel Table (Insert > Table) with the customer name column filled in every row. Remove blank separator rows and use row grouping or borders for visual separation instead.

---

**[A27-15]** — INFO: 8-bit Script folder (LMU1220 type) is not represented in URL & PORTS.xlsx

**Description:** The `8bit Script/` folder contains two CSV scripts for an LMU1220 8-bit device (files prefixed `50.131`). These scripts include reg 769 port values and reg 2319 server assignments but no corresponding customer entry exists in XLSX. It is unclear whether these are test/generic scripts or belong to an unnamed customer.

**Fix:** Determine whether the 8-bit scripts represent a specific customer deployment or are generic reference templates. If customer-specific, add an entry to the XLSX. If they are templates, document this in a README comment or by placing them in a clearly named `Templates/` folder.

---

**[A27-16]** — INFO: "Clark Trace Demo" and "Demo" are separate XLSX entries but may share the same CSV script

**Description:** The XLSX contains two separate demo-related customers: `Demo` (row 20, G70 port 16008, CALAMP port 1503) and `Clark Trace Demo` (row 30, G70 port 16011, CALAMP port 1505). The only Demo-category CSV in the repository is `Demo Script/61.142 Demo Rayven datamono.csv`, which uses reg 2319,0 = `52.164.241.179`. It is ambiguous which XLSX entry this script belongs to, and Clark Trace Demo has no dedicated script directory.

**Fix:** Clarify whether these are two separate active deployments or a legacy entry and a current one. Ensure each entry has its own dedicated directory and CSV scripts, or consolidate into a single XLSX row and script set if they represent the same deployment.
# Pass 4 Code Quality — Agent A28
**Files:** US Script/ (first batch - Matthai)
**Branch:** main
**Date:** 2026-02-28

---

## Scope

The US Script/ directory contains 10 CSV files in three subdirectories (Matthai, PAPE, SIE). Alphabetically by full path the first third (3 of 10) are all three Matthai scripts:

1. `US Script/Matthai/61.137 Rayven and CI clone Matthai DataMono.csv`
2. `US Script/Matthai/61.138 Rayven Matthai DataMono.csv`
3. `US Script/Matthai/61.139 Rayven Mathhai Kore.csv`

---

## Reading Evidence

### File: 61.137 Rayven and CI clone Matthai DataMono.csv

| Property | Value |
|---|---|
| Total rows (including header) | 1231 |
| Data rows | 1230 |
| CSV header | `parameter_id,parameter_index,parameter_value` |
| APN (2306,0) | `data.mono` (hex: `646174612E6D6F6E6F00`) |
| APN (2306,1) | `data.mono` (hex: `646174612E6D6F6E6F00`) |
| APN credential (2308/2309) | absent |
| Server primary (2319,0) | `narhm.tracking-intelligence.com` (hex: `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00`) |
| Server secondary (2319,1) | `52.164.241.179` (hex: `35322E3136342E3234312E31373900`) |
| Port (2318,0) | `*22899` (hex: `2A323238393900`) |
| Version (1024,1) | `0x3E` = decimal 62 |
| Version sub-byte (1024,23) | `0x89` = decimal 137 |
| Password (3331,0) | `*****` (hex: `2A2A2A2A2A00`) — masked/placeholder |
| Duplicate parameter_id,parameter_index rows | None detected |
| `dummy` values | None (literal string); zero-filled placeholders present (512,6–249 zeroed, 513,0–233 zeroed) |
| 768,0 | `6704EB0F` |
| 768,1 | `34A4F1B3` |
| 769,0 | `2AF8` |
| 769,1 | `05DE` |
| 769,2/3 | `5014` |
| 2311 (port alt) | absent; port carried via 2318 |

**Notable:** This file has TWO entries under 2319 (primary and secondary server), while 61.138 and 61.139 have only ONE. This is structurally consistent with the "CI clone" label — 61.137 carries both a named Rayven endpoint (`narhm.tracking-intelligence.com`) and the IP fallback (`52.164.241.179`).

---

### File: 61.138 Rayven Matthai DataMono.csv

| Property | Value |
|---|---|
| Total rows (including header) | 1230 |
| Data rows | 1229 |
| CSV header | `parameter_id,parameter_index,parameter_value` |
| APN (2306,0) | `data.mono` (hex: `646174612E6D6F6E6F00`) |
| APN (2306,1) | `data.mono` (hex: `646174612E6D6F6E6F00`) |
| APN credential (2308/2309) | absent |
| Server primary (2319,0) | `52.164.241.179` (hex: `35322E3136342E3234312E31373900`) |
| Port (2318,0) | `*22899` (hex: `2A323238393900`) |
| Version (1024,1) | `0x3E` = decimal 62 |
| Version sub-byte (1024,23) | `0x8A` = decimal 138 |
| Password (3331,0) | `*****` (hex: `2A2A2A2A2A00`) — masked/placeholder |
| Duplicate parameter_id,parameter_index rows | None detected |
| `dummy` values | None; same large zero-fill blocks as 61.137 |
| 768,0 | `34A4F1B3` |
| 768,1 | `00000000` |
| 769,0 | `05DE` |
| 769,1/2/3 | `5014` |

---

### File: 61.139 Rayven Mathhai Kore.csv

| Property | Value |
|---|---|
| Total rows (including header) | 1230 |
| Data rows | 1229 |
| CSV header | `parameter_id,parameter_index,parameter_value` |
| APN (2306,0/1) | **absent** — Kore uses different APN parameter registers |
| APN name (2308,0) | `Kore` (hex: `4B6F726500`) |
| APN user/pass (2309,0) | `Kore123` (hex: `4B6F726531323300`) |
| Server primary (2319,0) | `52.164.241.179` (hex: `35322E3136342E3234312E31373900`) |
| Port (2318,0) | `*22899` (hex: `2A323238393900`) |
| Version (1024,1) | `0x3D` = decimal 61 |
| Version sub-byte (1024,23) | `0x8B` = decimal 139 |
| Password (3331,0) | `*****` (hex: `2A2A2A2A2A00`) — masked/placeholder |
| Duplicate parameter_id,parameter_index rows | None detected |
| `dummy` values | None |
| 768,0 | `34A4F1B3` |
| 768,1 | `00000000` |
| 769,0 | `05DE` |
| 769,1/2/3 | `5014` |

---

## Diff Summary — Rows That Differ Between the Three Scripts

The three files are structurally identical (same parameter set, same ordering) except for the following rows:

| Parameter | 61.137 | 61.138 | 61.139 | Notes |
|---|---|---|---|---|
| `2306,0` | `646174612E6D6F6E6F00` (data.mono) | `646174612E6D6F6E6F00` (data.mono) | **absent** | Kore uses different APN regs |
| `2306,1` | `646174612E6D6F6E6F00` (data.mono) | `646174612E6D6F6E6F00` (data.mono) | **absent** | |
| `2308,0` | absent | absent | `4B6F726500` (Kore) | Kore APN name |
| `2309,0` | absent | absent | `4B6F726531323300` (Kore123) | Kore APN credential |
| `2319,0` | `narhm.tracking-intelligence.com` | `52.164.241.179` | `52.164.241.179` | 61.137 uses FQDN primary |
| `2319,1` | `35322E3136342E3234312E31373900` (52.164.241.179) | **absent** | **absent** | 61.137 has second server entry |
| `1024,1` | `3E` (62) | `3E` (62) | `3D` (61) | Version register — 61.139 one lower |
| `1024,23` | `89` (137) | `8A` (138) | `8B` (139) | Sub-version byte encodes script number |
| `768,0` | `6704EB0F` | `34A4F1B3` | `34A4F1B3` | Geofence/ID register differs in 61.137 |
| `768,1` | `34A4F1B3` | `00000000` | `00000000` | Second register differs |
| `769,0` | `2AF8` | `05DE` | `05DE` | Rate/threshold register differs in 61.137 |
| `769,1` | `05DE` | `5014` | `5014` | Differs in 61.137 |

All other parameters — including the entire 512 event table (249 entries), 513 table (234 entries), 515 block, 779 block (250 entries), all 256–291 parameters, all 1024 sub-registers except 1024,1 and 1024,23, all 3072–3333 registers — are **byte-for-byte identical** across all three files.

---

## Findings

**[A28-1]** — HIGH: 61.139 version register (1024,1) does not match script series number

**Description:** The version register `1024,1` in 61.139 is `0x3D` (decimal 61), which does not match the script's filename prefix of `61.139`. Scripts 61.137 and 61.138 both carry `0x3E` (decimal 62). The value `0x3D` = 61 matches the script series number (61.x) but the byte is inconsistent with its siblings (62 = 0x3E). The sub-version byte `1024,23` correctly encodes the script suffix: `0x87`=135 for 137, `0x8A`=138 for 138, `0x8B`=139 for 139 — but 61.137 is `0x89`=137 not `0x87`=135, suggesting the sub-version encoding uses sequential numbering not direct mapping. Overall the `1024,1` field appears to be a version or template series identifier and the value in 61.139 (61 vs 62) is inconsistent.

**Fix:** Verify whether `1024,1` encodes a firmware template version or a script series. If it should track the 61.x series, all three should be consistent. If 61.137 and 61.138 intentionally use `0x3E` (62), confirm whether 61.139 should also use `0x3E`.

---

**[A28-2]** — HIGH: 61.137 server configuration differs structurally from 61.138 and 61.139 — FQDN primary not present in siblings

**Description:** File 61.137 configures two server entries: `2319,0` = `narhm.tracking-intelligence.com` (FQDN) and `2319,1` = `52.164.241.179` (IP fallback). Files 61.138 and 61.139 configure only one server: `2319,0` = `52.164.241.179` with no `2319,1`. The filename of 61.137 says "Rayven and CI clone" suggesting it configures dual endpoints, but the Rayven FQDN (`narhm.tracking-intelligence.com`) used as the primary server in 61.137 is absent from the other two scripts entirely. This means 61.138 and 61.139 only point to the IP address, losing the DNS-based failover and the ability to redirect via DNS.

**Fix:** Confirm whether the FQDN `narhm.tracking-intelligence.com` is the correct Rayven endpoint for Matthai. If yes, add it as `2319,0` in 61.138 and 61.139, with `52.164.241.179` as the `2319,1` fallback. If the FQDN entry in 61.137 is legacy or incorrect, remove it.

---

**[A28-3]** — MEDIUM: 61.137 has divergent 768 and 769 register values compared to siblings

**Description:** Register `768` (likely geofence or device identification parameters) and `769` (likely speed/rate thresholds) differ between 61.137 and the 61.138/61.139 pair:
- `768,0`: 61.137 = `6704EB0F`; 61.138/61.139 = `34A4F1B3`
- `768,1`: 61.137 = `34A4F1B3`; 61.138/61.139 = `00000000`
- `769,0`: 61.137 = `2AF8`; 61.138/61.139 = `05DE`
- `769,1`: 61.137 = `05DE`; 61.138/61.139 = `5014`

The values are shifted: what is at index 0/1 in 61.137 appears at index 1/2 in 61.138/61.139. This suggests 61.137 may have an extra entry prepended to these register arrays (value `6704EB0F` at position 0) that is absent in the other scripts. This is not carrier-related and has no obvious explanation from the filenames.

**Fix:** Review whether `768,0 = 6704EB0F` in 61.137 is intentional (e.g., an additional zone reference for the "CI clone" configuration). If it is a legacy artefact from the cloning process, remove the extra entry and realign indices to match 61.138/61.139.

---

**[A28-4]** — MEDIUM: 61.139 filename contains typo "Mathhai" (double-h) — inconsistent with other Matthai scripts

**Description:** The filename is `61.139 Rayven Mathhai Kore.csv` — the customer name is spelled "Mathhai" (double h) rather than "Matthai" as in 61.137 (`Matthai DataMono`) and 61.138 (`Matthai DataMono`). This is a filename-level typo, not a content issue, but it reduces searchability and introduces inconsistency in the file naming convention across the Matthai batch.

**Fix:** Rename file to `61.139 Rayven Matthai Kore.csv` to correct the spelling.

---

**[A28-5]** — MEDIUM: 61.139 (Kore) is missing 2306 (APN string) rows present in DataMono scripts; no `dummy` placeholder left — acceptable but undocumented

**Description:** The DataMono scripts (61.137, 61.138) configure APN via register `2306` using the string `data.mono`. The Kore script (61.139) omits `2306` entirely and instead uses `2308` (APN name = `Kore`) and `2309` (APN credential = `Kore123`). This is the correct approach for a different carrier using a named APN with credentials. However, the APN password in `2309,0` (`Kore123`) is stored in plaintext hex and appears to be a simple/default credential. If this is a real production password, it presents a security concern. No `dummy` placeholder is left in place of the removed `2306` rows, which is correct practice.

**Fix:** Verify that `Kore123` is the actual provisioned APN password for the Kore SIM cards in use, not a default or test credential. If it is a default credential, request the carrier-assigned password and update `2309,0` before deploying.

---

**[A28-6]** — LOW: Password register 3331,0 uses masked placeholder `*****` across all three scripts

**Description:** Register `3331,0` is set to `2A2A2A2A2A00` which decodes to `*****` — a five-asterisk mask. This is consistent across all three files. In CalAmp scripting, `*****` in a password field is typically the device's way of indicating "no change" to an existing password or a placeholder. If the device password has never been explicitly set, relying on the masked placeholder means the device retains whatever factory or previously-configured password it holds. The pattern is consistent across scripts (same encoding, same value), which is good.

**Fix:** Confirm whether `*****` is intentional (preserve existing password) or whether an explicit password should be set. If it is intentional, document this convention in the script header comments.

---

**[A28-7]** — LOW: 61.137 carries both DataMono APN (2306,0/1) and the Rayven CI clone server; no explicit CI-specific APN is configured

**Description:** The filename "Rayven and CI clone Matthai DataMono" implies this script configures both Rayven and CI (CalAmp Intelligence?) endpoints. The dual-server configuration (FQDN + IP) partially supports this interpretation. However, both `2306` APN entries remain set to `data.mono` — there is no second APN or separate data path for a distinct CI endpoint. If "CI" refers to a separate back-end system reached via the same APN/network, the dual server addresses provide that. If CI requires a different APN, that is missing.

**Fix:** Clarify whether "CI clone" means (a) a copy of the CI configuration adapted for Rayven on the same APN, or (b) a script that simultaneously targets both CI and Rayven servers. If (b), verify whether a second APN profile is needed.

---

**[A28-8]** — INFO: Parameter ordering is identical across all three Matthai scripts

**Description:** All three files use the same parameter_id ordering from 256 through 3333, with the same index sub-ranges. The only structural differences are the APN-carrier-specific parameter insertions/omissions at the 2306–2309 range and the server entries at 2319. No reordering or insertion of parameters at unexpected positions was observed.

**Fix:** No action required. The consistent ordering is good practice and should be maintained in future scripts.

---

**[A28-9]** — INFO: Sub-version byte (1024,23) correctly encodes the script file suffix for all three scripts

**Description:** Register `1024,23` takes values `0x89` (137), `0x8A` (138), and `0x8B` (139) for files 61.137, 61.138, and 61.139 respectively. This appears to be a deliberate per-script identifier that allows the device's current configuration to be identified in telemetry. The convention is consistent and useful.

**Fix:** No action required. This is a well-implemented tracing mechanism.

---

## Cross-Directory Consistency Note

These three Matthai US scripts are structurally very similar to the Aus-region Komatsu and DPWorld scripts visible in the repository: same parameter block ordering, same 512/513 event table structure, same zero-fill padding pattern for unused entries, same 779/3072/3073/3074 I/O configuration blocks. The US DataMono scripts differ from Aus scripts primarily at the APN register (2306 vs different APN strings) and server addresses. This structural homogeneity across regions is evidence of a common template/baseline, which is positive for maintainability.
# Pass 4 Code Quality — Agent A31
**Files:** US Script/ (second batch - PAPE pt1)
**Branch:** main
**Date:** 2026-02-28

---

## Files Audited

All CSV files in `US Script/` were globbed (10 files total across 4 subdirectories). Alphabetically, the second third (files 4–6 of 10) are the three PAPE Datamono/Pod files:

1. `US Script/PAPE/62.134 Rayven CI PAPE Final Datamono.csv`
2. `US Script/PAPE/62.137 Rayven CI PAPE Final Pod.csv`
3. `US Script/PAPE/62.200 Rayven PAPE Final Datamono Fixed.csv`

---

## Reading Evidence

### File Metrics

| File | Total Lines (incl. header) | Data Rows |
|------|---------------------------|-----------|
| 62.134 Rayven CI PAPE Final Datamono.csv | 1230 | 1229 |
| 62.137 Rayven CI PAPE Final Pod.csv | 1238 | 1237 |
| 62.200 Rayven PAPE Final Datamono Fixed.csv | 1237 | 1236 |

### CSV Header Row
All three files share the identical header: `parameter_id,parameter_index,parameter_value`

### Duplicate Rows
No duplicate `parameter_id,parameter_index` keys found in any of the three files.

### Key Parameters Per File

| Parameter | Reg | 62.134 Datamono | 62.137 Pod | 62.200 "Datamono Fixed" |
|-----------|-----|-----------------|------------|------------------------|
| APN (index 0) | 2306,0 | `data.mono` | `data641003` | `data641003` |
| APN (index 1) | 2306,1 | `data.mono` | `data641003` | `data641003` |
| Carrier name | 2308,0 | (absent) | `Kore` | `Kore` |
| Carrier password | 2309,0 | (absent) | `Kore123` | `Kore123` |
| Dial string | 2316,0 | (absent) | `*99***1#` | `*99***1#` |
| Primary server | 2319,0 | `52.164.241.179` | `52.164.241.179` | `52.164.241.179` |
| Backup server | 2319,1 | `narhm.tracking-intelligence.com` | `narhm.tracking-intelligence.com` | (absent) |
| Port | 2318,0 | `*22899` | `*22899` | `*22899` |
| Version major | 1024,1 | `0x3E` = 62 | `0x3E` = 62 | `0x3E` = 62 |
| Version sub | 1024,23 | `0x86` = 134 | `0x89` = 137 | `0xC8` = 200 |
| EA template | 2178,0 | `<EA><S0><=*><T1>` | `<EA><S0><=*><T1>` | `<EA><S0><=*><T1>` |
| Geofence coord | 768,1 | `6704EB0F` | `6704EB0F` | `00000000` |
| Geofence radius | 769,1 | `2AF8` (11000) | `2AF8` (11000) | `5014` (20500) |

---

## Diff: 62.134 vs 62.200 — The "Fix" (14 differing rows)

| key | 62.134 | 62.200 |
|-----|--------|--------|
| 768,1 | `6704EB0F` | `00000000` |
| 769,1 | `2AF8` (11000) | `5014` (20500) |
| 1024,23 | `86` (134) | `C8` (200) |
| 2306,0 | `data.mono` | `data641003` |
| 2306,1 | `data.mono` | `data641003` |
| 2308,0 | (absent) | `Kore` |
| 2309,0 | (absent) | `Kore123` |
| 2314,0 | (absent) | `dummy` |
| 2314,1 | (absent) | `dummy` |
| 2315,0 | (absent) | `dummy` |
| 2315,1 | (absent) | `dummy` |
| 2316,0 | (absent) | `*99***1#` |
| 2316,1 | (absent) | `*99***1#` |
| 2319,1 | `narhm.tracking-intelligence.com` | (absent) |

---

## Diff: 62.134 vs 62.137 — Pod vs DataMono (11 differing rows)

| key | 62.134 | 62.137 |
|-----|--------|--------|
| 1024,23 | `86` (134) | `89` (137) |
| 2306,0 | `data.mono` | `data641003` |
| 2306,1 | `data.mono` | `data641003` |
| 2308,0 | (absent) | `Kore` |
| 2309,0 | (absent) | `Kore123` |
| 2314,0 | (absent) | `dummy` |
| 2314,1 | (absent) | `dummy` |
| 2315,0 | (absent) | `dummy` |
| 2315,1 | (absent) | `dummy` |
| 2316,0 | (absent) | `*99***1#` |
| 2316,1 | (absent) | `*99***1#` |

Note: 62.137 retains the backup server (2319,1) identical to 62.134.

---

## Findings

**[A31-1]** — CRITICAL: 62.200 "Datamono Fixed" contains Kore/Pod APN, not DataMono

**Description:** The filename `62.200 Rayven PAPE Final Datamono Fixed.csv` explicitly states "Datamono", but the file configures the device with the Kore/Pod carrier APN `data641003` (reg 2306,0 and 2306,1), carrier name `Kore` (reg 2308,0), and carrier password `Kore123` (reg 2309,0), plus the Kore dial string `*99***1#` (reg 2316). These are Pod-carrier parameters, not DataMono parameters. A device programmed with this script expecting DataMono connectivity will fail to connect to the cellular network. The name "Datamono Fixed" is entirely contradicted by the content, which is a copy of the Pod script with minor geofence changes.
**Fix:** Either rename the file to reflect its actual carrier (e.g., "PAPE Final Pod Fixed") or replace the APN and carrier credentials with the correct DataMono values (`data.mono`, no carrier name/password/dial string). Do not deploy this script to DataMono-SIM-equipped units.

---

**[A31-2]** — HIGH: 62.200 drops the backup/secondary server (2319,1) that both 62.134 and 62.137 carry

**Description:** Registers 62.134 and 62.137 both configure a secondary server hostname `narhm.tracking-intelligence.com` at reg 2319,1, providing failover if the primary IP `52.164.241.179` is unreachable. Register 62.200 omits 2319,1 entirely. Because 62.200 was presumably derived from or intended to supersede 62.134 as a "Fixed" version, this silent removal of the backup server removes failover capability without any documentation of the intent. If the primary server is unreachable, devices running 62.200 will have no fallback.
**Fix:** If the backup server removal was intentional (e.g., the hostname was deprecated), document the reason. If it was accidental, add `2319,1,6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00` to restore the backup hostname.

---

**[A31-3]** — HIGH: 62.200 geofence parameters differ from 62.134 without explanation

**Description:** Reg 768,1 changes from `6704EB0F` in 62.134 to `00000000` in 62.200, and reg 769,1 changes from `2AF8` (11,000) to `5014` (20,500). Reg 768,0 remains `34A4F1B3` in 62.200 (same as 62.134 and 62.137), but 768,1 being zeroed out while 768,0 is retained suggests either partial clearing of a geofence coordinate pair or a separate parameter that was intentionally cleared. The geofence radius (or equivalent) in 769,1 nearly doubles (11,000 to 20,500). These changes are not related to the carrier/APN change implied by the "Fixed" label and have no documentation. Geofence coordinate errors can cause devices to report incorrect zone violations or miss zone entries.
**Fix:** Verify whether the 768,1 zeroing and 769,1 change are intentional. If these represent the intended "fix", document the reason explicitly in the filename or a companion README. If unintentional, restore values to match 62.134: `768,1,6704EB0F` and `769,1,2AF8`.

---

**[A31-4]** — MEDIUM: 62.200 is substantively a copy of 62.137 (Pod), not a fix to 62.134 (DataMono)

**Description:** Comparing 62.134 vs 62.200 yields 14 differing rows; comparing 62.134 vs 62.137 yields 11 differing rows. The 11 rows that differ between 62.134 and 62.137 are a proper subset of the 14 that differ between 62.134 and 62.200. In other words, 62.200 is built from 62.137 (the Pod script) with three additional changes (768,1 zeroed, 769,1 modified, 2319,1 removed) rather than from 62.134 with the APN corrected. The "Datamono Fixed" name implies it is a corrected version of 62.134, but it is actually a derivative of 62.137. This lineage creates significant confusion about what was fixed and from what baseline.
**Fix:** Establish an explicit naming convention indicating derivation (e.g., "62.200 derived from 62.137 with geofence changes") or recreate the script from the 62.134 baseline with only the intended corrections applied.

---

**[A31-5]** — MEDIUM: 62.137 and 62.200 carry Kore credentials in plaintext (dummy username fields, real password)

**Description:** Both 62.137 and 62.200 contain reg 2314 (username, two indexes) set to ASCII `dummy` and reg 2315 (password, two indexes) set to ASCII `dummy`, alongside a real carrier name `Kore` and password `Kore123` (regs 2308 and 2309). Storing live carrier credentials (`Kore123`) in a configuration file that is version-controlled in a git repository poses a credential exposure risk. The `dummy` values in 2314/2315 suggest the operator knew to placeholder some credentials but did not scrub all of them. By contrast, 62.134 has none of these credential parameters at all, meaning the DataMono APN requires no credentials beyond the APN string itself.
**Fix:** Audit whether `Kore123` is a sensitive production credential. If so, rotate it and replace it with a placeholder or vault reference in the committed configuration. If it is a shared low-sensitivity carrier password, document that explicitly.

---

**[A31-6]** — LOW: 62.200 filename lacks the "CI" token that 62.134 and 62.137 carry

**Description:** Files 62.134 and 62.137 are named with the `CI` token ("Rayven CI PAPE Final ..."), indicating they are CI-environment or CI-integration scripts. File 62.200 is named "Rayven PAPE Final Datamono Fixed" without `CI`. The content diff shows no configuration difference that would explain an environment distinction — all three files use identical server addresses, ports, and (in 62.134/62.137) backup servers. The `CI` token has no parameter-level counterpart in the content. Either the `CI` token was dropped from 62.200's filename accidentally, or 62.200 is intended for a different deployment target that is not signaled in the content.
**Fix:** Clarify the meaning of `CI` in the naming convention. If 62.200 is also a CI script, add `CI` to its filename. If `CI` marks an environment and 62.200 is for production, document this distinction and consider adding a parameter or comment encoding that reflects deployment environment.

---

**[A31-7]** — LOW: Parameter ordering is identical across all three files for all common keys

**Description:** All 1,229 rows that appear in 62.134 also appear in the same relative order in 62.137 and 62.200. The 8 Kore-specific parameters added in 62.137 and 62.200 are inserted at the correct position (after reg 2307 in the 2300-block). No ordering anomalies were detected. This is a positive finding confirming consistent derivation of the Pod and "Fixed" scripts from the DataMono base. No action required; documented for completeness.
**Fix:** No remediation needed.

---

**[A31-8]** — INFO: Version self-reference encoding is internally consistent

**Description:** Register 1024,1 encodes the major version as `0x3E` = 62 in all three files, correctly matching the `62.xxx` filename prefix. Register 1024,23 encodes the minor version: `0x86` = 134 in 62.134, `0x89` = 137 in 62.137, and `0xC8` = 200 in 62.200. All three version self-references are correct. No inconsistency detected. This confirms that version stamping was updated when 62.200 was derived.
**Fix:** No remediation needed.
# Pass 4 Code Quality — Agent A34
**Files:** US Script/ (third batch - PAPE pt2)
**Branch:** main
**Date:** 2026-02-28

---

## File Inventory

All CSV files found under `US Script/`:

```
US Script\Matthai\61.137 Rayven and CI clone Matthai DataMono.csv
US Script\Matthai\61.138 Rayven Matthai DataMono.csv
US Script\Matthai\61.139 Rayven Mathhai Kore.csv
US Script\PAPE\62.134 Rayven CI PAPE Final Datamono.csv
US Script\PAPE\62.137 Rayven CI PAPE Final Pod.csv
US Script\PAPE\62.200 Rayven PAPE Final Datamono Fixed.csv
US Script\PAPE\62.371 Rayven PAPE Final Pod Fixed.csv   <-- assigned
US Script\PAPE\63.137 Rayven PAPE Final Pod Fixed.csv   <-- assigned
US Script\PAPE\69.007 Final POD SIMcard.csv             <-- assigned
US Script\SIE\69.006 Rayven SIE Datamono Final.csv
```

---

## Reading Evidence

### File: `62.371 Rayven PAPE Final Pod Fixed.csv`

| Field | Value |
|---|---|
| Row count (data rows, excl. header) | 1237 |
| APN (reg 2306,0) | `6461746136343130303300` → `data641003` (Pod APN) |
| APN (reg 2306,1) | `6461746136343130303300` → `data641003` (Pod APN) |
| Server (reg 2319,0) | `35322E3136342E3234312E31373900` → `52.164.241.179` |
| Server (reg 2319,1) | **ABSENT** |
| Port (reg 2311) | **ABSENT** (no port row present) |
| Version (reg 1024,1) | `3E` = decimal **62** |
| Carrier (reg 2308) | `Kore` |
| Carrier detail (reg 2309) | `Kore123` |
| Reg 2320 (DM URL) | **ABSENT** |
| Reg 2322 | **ABSENT** |
| Reg 768,1 | `00000000` |
| Reg 769,1 | `5014` (decimal 20500) |
| Duplicate rows | None detected |

### File: `63.137 Rayven PAPE Final Pod Fixed.csv`

| Field | Value |
|---|---|
| Row count (data rows, excl. header) | 1237 |
| APN (reg 2306,0) | `6461746136343130303300` → `data641003` (Pod APN) |
| APN (reg 2306,1) | `6461746136343130303300` → `data641003` (Pod APN) |
| Server (reg 2319,0) | `35322E3136342E3234312E31373900` → `52.164.241.179` |
| Server (reg 2319,1) | **ABSENT** |
| Port (reg 2311) | **ABSENT** (no port row present) |
| Version (reg 1024,1) | `3F` = decimal **63** |
| Carrier (reg 2308) | `Kore` |
| Carrier detail (reg 2309) | `Kore123` |
| Reg 2320 (DM URL) | **ABSENT** |
| Reg 2322 | **ABSENT** |
| Reg 768,1 | `00000000` |
| Reg 769,1 | `5014` (decimal 20500) |
| Duplicate rows | None detected |

### File: `69.007 Final POD SIMcard.csv`

| Field | Value |
|---|---|
| Row count (data rows, excl. header) | 1241 |
| APN (reg 2306,0) | `6461746136343130303300` → `data641003` (Pod APN) |
| APN (reg 2306,1) | `6461746136343130303300` → `data641003` (Pod APN) |
| Server (reg 2319,0) | `35322E3136342E3234312E31373900` → `52.164.241.179` |
| Server (reg 2319,1) | `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00` → `narhm.tracking-intelligence.com` |
| Port (reg 2311,0) | `5014` = decimal **20500** |
| Version (reg 1024,1) | `45` = decimal **69** |
| Carrier (reg 2308) | `Kore` |
| Carrier detail (reg 2309) | `Kore123` |
| Reg 2310,0 | `00000000` |
| Reg 2320,0 (DM URL) | `646D2E63616C616D702E636F6D00` → `dm.calamp.com` |
| Reg 2322,0 | `00015180` = decimal 86400 (24 hours in seconds) |
| Reg 768,1 | `6704EB0F` (non-zero, device-specific token) |
| Reg 769,1 | `2AF8` (decimal 11000) |
| Duplicate rows | None detected |

### Cross-reference: `62.137 Rayven CI PAPE Final Pod.csv` (PAPE pt1 Pod, for comparison)

| Field | Value |
|---|---|
| Version (reg 1024,1) | `3E` = decimal 62 |
| APN (reg 2306,0) | `data641003` (Pod APN) |
| Server (reg 2319,0) | `52.164.241.179` |
| Server (reg 2319,1) | `narhm.tracking-intelligence.com` (PRESENT) |
| Port (reg 2311,0) | `5014` = decimal 20500 (PRESENT) |

---

## Diff Analysis

### Diff: 62.371 vs 63.137 (version increment)

These two files differ in exactly **one row**:

| Parameter | 62.371 | 63.137 |
|---|---|---|
| `1024,1` (version byte) | `3E` (decimal 62) | `3F` (decimal 63) |

Every other row is byte-for-byte identical. The entire version update from 62.371 to 63.137 consisted solely of incrementing the version byte.

### Diff: 62.371 vs 69.007 (Pod variant)

**Rows with different values:**

| Parameter | 62.371 | 69.007 | Notes |
|---|---|---|---|
| `1024,1` | `3E` (62) | `45` (69) | Version byte |
| `1024,23` | `89` | `07` | Internal config byte |
| `768,1` | `00000000` | `6704EB0F` | Non-zero token (device-specific or session key) |
| `769,1` | `5014` (20500) | `2AF8` (11000) | Interval or threshold value |

**Rows present in 69.007 but absent from 62.371:**

| Parameter | Value | Decoded |
|---|---|---|
| `2310,0` | `00000000` | Zero flag (connectivity config) |
| `2311,0` | `5014` | Port = 20500 |
| `2319,1` | `6E6172686D2E747261636B696E672D696E74656C6C6967656E63652E636F6D00` | `narhm.tracking-intelligence.com` (backup server) |
| `2320,0` | `646D2E63616C616D702E636F6D00` | `dm.calamp.com` (device management URL) |
| `2322,0` | `00015180` | 86400 (24h reporting interval) |

No rows are present in 62.371 that are absent from 69.007.

---

## Findings

**[A34-1]** — HIGH: 62.371 and 63.137 carry identical filenames

**Description:** Both `62.371 Rayven PAPE Final Pod Fixed.csv` and `63.137 Rayven PAPE Final Pod Fixed.csv` have the same descriptive name "Rayven PAPE Final Pod Fixed". The entire content difference between the two is exactly one byte: the version register `1024,1` changes from `0x3E` (decimal 62) to `0x3F` (decimal 63). No functional parameters changed. The identical filename provides no indication to an operator that the two files represent different configurations, nor any indication of what changed to warrant a new version number. An operator comparing filenames alone cannot distinguish which is the current authoritative script.

**Fix:** Either give 63.137 a distinct filename suffix (e.g., "v63" or "v2") to signal it supersedes 62.371, or add a changelog comment mechanism. Remove 62.371 from the directory if it is no longer deployable, to prevent accidental use of the stale version.

---

**[A34-2]** — HIGH: 62.371 regression — missing backup server and port vs its predecessor 62.137

**Description:** The PAPE pt1 Pod script `62.137` contains two parameters that are absent from the later `62.371` (and by inheritance, `63.137`): the backup/secondary server address `2319,1` (`narhm.tracking-intelligence.com`) and the port register `2311,0` (value `5014` = 20500). These parameters reappear in `69.007`. This means `62.371` — which is described as the "fixed" version of the Pod script — is actually less complete than the `62.137` it was meant to replace. If the backup server and port were intentionally removed in 62.371, there is no documentation of that decision. If they were accidentally dropped, this is a silent functional regression: devices using `62.371` or `63.137` will have no backup server fallback.

**Fix:** Confirm whether the backup server (`narhm.tracking-intelligence.com`) and port (`2311`) should be present in 62.371/63.137. If yes, restore them to match 62.137 and 69.007. If the omission was intentional, document the reason in a changelog or filename annotation.

---

**[A34-3]** — HIGH: 62.371 → 63.137 version jump is a major series skip with no justification

**Description:** The version numbering within the PAPE folder follows the `62.xxx` series: `62.134`, `62.137`, `62.200`, `62.371`. The jump from `62.371` to `63.137` crosses a major version boundary (62 to 63) for a change consisting of exactly one byte (the version register itself). No functional parameters changed. This creates two problems: (1) the jump to series 63 implies a significant change that did not occur; (2) the minor number `.137` of `63.137` exactly matches `62.137`, which could cause confusion about whether `63.137` is a revision of `62.137` (same minor) or a continuation of `62.371`. The cross-series version jump is inconsistent with how other scripts in this repo version (the Matthai scripts stay within the `61.xxx` series, and the AU Komatsu scripts use `69.xxx` consistently).

**Fix:** Adopt a consistent versioning policy. If a minor configuration tweak warrants only a minor increment, remain within the same major series (e.g., `62.372` rather than `63.137`). Reserve major series increments for substantive configuration changes. Document the versioning convention.

---

**[A34-4]** — MEDIUM: 69.007 uses the `69.xx` series shared with AU scripts (SIE 69.006), with no namespace separation

**Description:** The file `69.007 Final POD SIMcard.csv` is located in the `US Script/PAPE/` folder but uses version number `69.007`, placing it in the same number series as `69.006 Rayven SIE Datamono Final.csv` which is located in `US Script/SIE/`. The version register `1024,1` in 69.007 is `0x45` (decimal 69), consistent with its filename. However, the `69.xx` series is also used by AU scripts (Komatsu) in the Australian script folder. Without folder-based namespacing enforced at the version-number level, the `69.xx` series is shared ambiguously across US-PAPE, US-SIE, and AU-Komatsu contexts. An operator retrieving a script by version number alone would not be able to determine which customer or region it belongs to.

**Fix:** Establish a clear version number namespace: either reserve separate ranges per customer/region (e.g., 60.xxx = Matthai, 62.xxx = PAPE US, 63.xxx = SIE US, 69.xxx = AU Komatsu), or qualify all filenames with a mandatory customer prefix. Do not allow version numbers to span unrelated customers.

---

**[A34-5]** — MEDIUM: 69.007 filename omits customer name "PAPE" and integrator name "Rayven"

**Description:** All other scripts in the `US Script/PAPE/` folder include "PAPE" in the filename (`62.134 Rayven CI PAPE Final Datamono.csv`, `62.371 Rayven PAPE Final Pod Fixed.csv`, etc.) and most include "Rayven". The file `69.007 Final POD SIMcard.csv` omits both names. The filename gives no indication of customer identity or integrator. If this file is moved, exported, or searched outside the folder structure, there is no contextual information in the name to associate it with the PAPE/Rayven deployment.

**Fix:** Rename the file to include the customer and integrator: for example, `69.007 Rayven PAPE Final Pod SIMcard.csv`, consistent with the naming convention used throughout the PAPE folder.

---

**[A34-6]** — MEDIUM: 69.007 contains a non-zero device token in register 768,1 that is absent from 62.371/63.137

**Description:** Register `768,1` in `69.007` is set to `6704EB0F` (non-zero), while in both `62.371` and `63.137` it is `00000000`. Register `768` relates to device identity or session configuration. If `6704EB0F` is a device-specific identifier (e.g., a hardware token, a specific unit's ID, or a session value), then `69.007` is device-specific and cannot be applied generically to a fleet. Deploying `69.007` to the wrong device would configure the wrong identity token. Similarly, register `769,1` differs: `5014` (20500) in 62.371/63.137 versus `2AF8` (11000) in 69.007, representing a different operational parameter value with no explanation in the filename.

**Fix:** Verify whether `768,1 = 6704EB0F` is a device-specific value or a deliberate configuration choice. If device-specific, the file must be flagged as a per-unit script and must not be used as a fleet template. If it is a deliberate change, document the reason and determine whether 62.371/63.137 should be updated to match.

---

**[A34-7]** — MEDIUM: 69.007 adds register 1024,23 value `07` vs `89` in 62.371/63.137 with no explanation

**Description:** Register `1024,23` holds an internal behavioral configuration byte. In `62.371` and `63.137` it is `0x89` (decimal 137); in `69.007` it is `0x07` (decimal 7). This is a meaningful behavioral difference with no indication in the filename or version label of what changed. This parameter may control operational mode flags, and a change from `0x89` to `0x07` implies several bit-flag changes simultaneously. Without documentation, it is not possible to confirm whether this change is intentional.

**Fix:** Document the meaning of register `1024,23` and the reason for the value change between the 62.x/63.x scripts and 69.007. If the `07` value is the intended production setting, consider whether 62.371/63.137 should be updated.

---

**[A34-8]** — LOW: Version register 1024,1 matches filename major version in all three files (INFO-positive confirmation with anomaly note)

**Description:** All three assigned scripts correctly encode the major version number in register `1024,1`: `62.371` → `0x3E` (62 decimal), `63.137` → `0x3F` (63 decimal), `69.007` → `0x45` (69 decimal). This is consistent and correct. However, the practice of incrementing the major version byte in `1024,1` for what is effectively a trivial one-byte change (62.371 to 63.137) means the version byte is incremented even when no functional configuration changes occur, making the version byte alone insufficient to assess the magnitude of a change. The absence of a minor version field in the register makes it impossible to detect sub-major revisions from the device.

**Fix:** Consider whether the `1024,1` version byte should only increment on substantive functional changes. For minor corrections (typo fixes, cosmetic filename changes), avoid incrementing the major version register. If the minor number (e.g., `.371`, `.137`) is meaningful, consider encoding it in a second register.

---

**[A34-9]** — LOW: All three files use APN `data641003` (Pod/Kore) consistently — confirmed correct

**Description:** All three files (`62.371`, `63.137`, `69.007`) set register `2306,0` and `2306,1` to `6461746136343130303300` which decodes to `data641003`, the Kore Pod APN. This is consistent with the "Pod" label in all three filenames. The carrier registers `2308` (`Kore`) and `2309` (`Kore123`) are also consistent across all three files. No APN mismatch was found. The filename claim of "POD SIMcard" in 69.007 is confirmed by content.

**Fix:** No action required.

---

**[A34-10]** — LOW: 69.007 adds `dm.calamp.com` device management URL (reg 2320) and 24h interval (reg 2322) absent from 62.371/63.137

**Description:** Register `2320,0` in `69.007` encodes `dm.calamp.com` (the CalAmp device management endpoint) and register `2322,0` is `00015180` (86400 decimal = 24 hours in seconds), which likely configures a periodic check-in or reporting interval. Neither of these parameters is present in `62.371` or `63.137`. Their absence from the earlier scripts is unexplained. If device management and periodic reporting are production requirements, then `62.371` and `63.137` are missing these parameters and devices programmed with those scripts would not report to the CalAmp DM platform or would not honour the 24h interval.

**Fix:** Determine whether `dm.calamp.com` registration and the 24h interval in `2322` are required for PAPE deployments. If so, backport these parameters to `63.137` (the active Pod Fixed script) and produce a new version. If `69.007` was the vehicle for introducing these, confirm that it is intended as the replacement for `63.137`.

---

## Summary Table

| Finding | Severity | Parameter(s) Affected |
|---|---|---|
| A34-1 | HIGH | Filename, 1024,1 |
| A34-2 | HIGH | 2311, 2319,1 |
| A34-3 | HIGH | Version numbering (1024,1) |
| A34-4 | MEDIUM | Version namespace (69.xxx) |
| A34-5 | MEDIUM | Filename convention |
| A34-6 | MEDIUM | 768,1; 769,1 |
| A34-7 | MEDIUM | 1024,23 |
| A34-8 | LOW | 1024,1 versioning semantics |
| A34-9 | LOW | 2306, 2308, 2309 (confirmed correct) |
| A34-10 | LOW | 2320, 2322 |
# Pass 4 Code Quality — Agent A37
**Files:** US Script/ (last file - SIE)
**Branch:** main
**Date:** 2026-02-28

---

## Reading Evidence

### File examined
`US Script/SIE/69.006 Rayven SIE Datamono Final.csv`

**Row count:** 1229 total lines; 1228 data rows (excluding header); 0 empty trailing lines.

**Duplicate (parameter_id, parameter_index) pairs:** None found.

### Key decoded parameters

| Register | Value (hex) | Decoded |
|---|---|---|
| 2306,0 (APN primary) | `646174612E6D6F6E6F00` | `data.mono` |
| 2306,1 (APN secondary) | `646174612E6D6F6E6F00` | `data.mono` |
| 2307,0 | `00` | 0 |
| 2308,0 (carrier name) | **ABSENT** | — |
| 2309,0 (APN password) | **ABSENT** | — |
| 2311,0 (port) | **ABSENT** | device default |
| 2318,0 | `2A323238393900` | `*22899` |
| 2319,0 (server primary) | `35322E3136342E3234312E31373900` | `52.164.241.179` (IP) |
| 2319,1 (server backup) | **ABSENT** | — |
| 2320,0 (DM server) | **ABSENT** | — |
| 1024,1 (version byte) | `45` | 69 decimal — matches filename prefix `69.` |
| 3331,0 (password field) | `2A2A2A2A2A00` | `*****` |

### Comparison: SIE vs other 69.xx scripts (AU and US)

All seven 69.xx scripts verified. All share `reg 1024,1 = 0x45` (= 69 decimal).

| Script | Region | APN | 2308 carrier | 2309 APN-pw | 2311 port | 2319,1 backup | 2320 DM |
|---|---|---|---|---|---|---|---|
| 69.001 Komatsu Telstra | AU | (Telstra, absent) | Kore | Kore123 | absent | absent | absent |
| 69.002 Komatsu Monogoto | AU | data.mono | Kore | Kore123 | absent | absent | absent |
| 69.003 CEA Telstra | AU | (Telstra, absent) | Kore | Kore123 | absent | absent | absent |
| 69.004 CEA Monogoto | AU | data.mono | Kore | Kore123 | absent | absent | absent |
| 69.005 Boaroo Telstra | AU | (Telstra, absent) | Kore | Kore123 | absent | absent | absent |
| **69.006 SIE DataMono** | **US** | **data.mono** | **ABSENT** | **ABSENT** | **absent** | **ABSENT** | **absent** |
| 69.007 PAPE Kore | US | data641003 | Kore | Kore123 | 20500 | absent | dm.calamp.com |

SIE is the **only** 69.xx DataMono script missing `reg 2308` (carrier name) and `reg 2309` (APN credential password). Every other 69.xx DataMono peer (69.002, 69.004) carries these fields with values `Kore` / `Kore123`.

### Comparison: SIE vs PAPE 62.134 DataMono

SIE (`69.006`) and PAPE (`62.134`) are structurally near-identical. Both use APN `data.mono`, both lack `reg 2308/2309`, both use IP `52.164.241.179` as primary server with no FQDN fallback. The only functional difference: PAPE 62.134 has `reg 2319,1 = narhm.tracking-intelligence.com` (FQDN backup server), which SIE is missing.

Non-functional differences: `reg 1024,1` (version byte), `reg 769,0` (SIE = 0x05E4 = 1508, PAPE = 0x05DD = 1501), `reg 769,1` (SIE = 0x5014 = 20500, PAPE = 0x2AF8 = 11000), and `reg 768,1` (SIE = `00000000`, PAPE = `6704EB0F`).

### Zero/null parameter summary

| Register range | All-zero rows | Note |
|---|---|---|
| 512.xx (event table) | 142 of 250 | Unused/nulled event slots |
| 513.xx | 234 of 234 | All entries zero |
| 515.xx | 15 of 15 | All entries zero |
| 265.xx idx 10–31 | 23 | Disabled idle timer profiles |

Parameter `reg 514` is completely absent from the file (reg 513 ends at index 233, reg 515 starts at index 235 — no `514,xxx` rows exist anywhere). This matches the pattern across all 69.xx scripts and is consistent repo-wide.

---

## Findings

**[A37-1]** — HIGH: SIE script missing carrier credential registers present in all peer 69.xx DataMono scripts

**Description:** `69.006 Rayven SIE Datamono Final.csv` is the only DataMono script in the 69.xx series that omits `reg 2308` (carrier name) and `reg 2309` (APN password). Every other 69.xx DataMono script (69.002, 69.004 in AU) explicitly sets `2308 = Kore` and `2309 = Kore123`. For a US DataMono SIM these fields typically configure the MVNO APN authentication. Their absence means the device relies entirely on device defaults or context, which may cause APN authentication failure if the DataMono SIM requires them.

**Fix:** Add `2308,0` with carrier name value and `2309,0` with the APN credential, consistent with peer 69.xx DataMono scripts (e.g., `2308,0 = Kore`, `2309,0 = Kore123` as used in 69.002/69.004), unless the US DataMono SIM has been confirmed to not require APN authentication credentials.

---

**[A37-2]** — MEDIUM: SIE script missing backup/failover server entry (reg 2319,1)

**Description:** `69.006` has only one server entry: `reg 2319,0 = 52.164.241.179` (IP). The PAPE DataMono script (`62.134`), which is otherwise structurally identical, includes a second entry `reg 2319,1 = narhm.tracking-intelligence.com` (FQDN) as a backup. If the primary IP becomes unreachable, SIE-deployed devices have no fallback communication path. Additionally, using a raw IP as the sole server reference means that an IP address change requires a re-flash of all deployed devices.

**Fix:** Add `reg 2319,1` with an appropriate FQDN backup server value, consistent with the pattern in `62.134 Rayven CI PAPE Final Datamono.csv`. Confirm with the network team whether `narhm.tracking-intelligence.com` or a different FQDN should be used for SIE deployments.

---

**[A37-3]** — MEDIUM: 69.xx version series shared across AU and US scripts without isolation

**Description:** The `69.xx` version prefix is used by both the Australian scripts directory (`Aus Script/`, 69.001–69.005) and the US scripts directory (`US Script/`, 69.006–69.007). All seven 69.xx scripts set `reg 1024,1 = 0x45` (= 69 decimal), meaning the internal version byte aligns with the file prefix — but there is no namespace separation between AU and US deployments. If a new AU script is added as `69.008`, it would numerically follow the US scripts. There is no indication in filenames whether a `69.xxx` script is AU or US, making fleet management error-prone.

**Fix:** Establish separate version prefix ranges for AU vs US scripts (for example, AU uses 69.xx, US uses a new series such as 70.xx or continues the 62.xx/63.xx series). Update internal naming conventions to make the region unambiguous from the filename prefix alone.

---

**[A37-4]** — MEDIUM: SIE server endpoint uses bare IP address, inconsistent with FQDN practice in other scripts

**Description:** `reg 2319,0` in SIE resolves to `52.164.241.179` — a raw IPv4 address. The 62.134 PAPE backup entry uses an FQDN (`narhm.tracking-intelligence.com`). While using a bare IP for the primary entry is common across the repo, some scripts (specifically `61.36`, `61.37` DPWorld and the 8bit scripts) additionally set `reg 2320,0 = dm.calamp.com` (the CalAmp device management FQDN). SIE does not set `reg 2320`. The inconsistency means SIE devices will not use FQDN-based routing for device management, creating a hidden dependency on the stability of the IP address `52.164.241.179`.

**Fix:** Add `reg 2320,0` with the appropriate CalAmp DM FQDN value (consistent with `69.007` which sets `2320,0 = dm.calamp.com`) to decouple configuration from the raw IP address.

---

**[A37-5]** — LOW: The `Final` label is used inconsistently as a quality/readiness indicator across the repo

**Description:** Of 31 CSV files in the repo, 22 include the word `Final` in the filename. However, several scripts labelled `Final` were subsequently replaced by `Fixed` variants in the same series (e.g., `62.134 Rayven CI PAPE Final Datamono.csv` was followed by `62.200 Rayven PAPE Final Datamono Fixed.csv`, and `62.137 Rayven CI PAPE Final Pod.csv` was followed by `62.371 Rayven PAPE Final Pod Fixed.csv` and later `63.137 Rayven PAPE Final Pod Fixed.csv`). Scripts without `Final` (e.g., `61.137`, `61.138` Matthai DataMono, `61.142` Demo, `61.61` General) may be in-use production scripts or may be drafts — the label gives no reliable signal of deployment status.

**Fix:** Adopt an explicit status convention: replace `Final` with a semantic label such as `v1`, `v2` etc., or use a separate changelog/registry. At minimum, retire or archive the superseded `Final` variants that have `Fixed` successors to prevent accidental deployment of the incorrect version.

---

**[A37-6]** — LOW: DataMono carrier name inconsistently spelled across filenames (four variants in use)

**Description:** The DataMono carrier/service name appears in four distinct forms across filenames: `DataMono` (no separator, e.g. `61.137`, `61.138`, `61.142`), `Datamono` (lowercase m, e.g. `62.134`, `62.200`, `69.006`), `Data.mono` (dot separator, e.g. `61.37`, `61.135`, `161.31`), and `data Mono` (space separator with inconsistent capitalisation, e.g. `61.141`). This makes pattern-matching on filename alone unreliable for inventory or automated tooling.

**Fix:** Standardise on a single canonical form (the actual APN string is `data.mono`, so `Data.mono` is the most accurate representation) and rename all scripts to use the same spelling. Update any inventory or deployment tooling that filters by filename substring.

---

**[A37-7]** — LOW: Duplicate file in 8bit Script directory with same version number

**Description:** The `8bit Script/` directory contains two files with identical names differing only by a Windows filesystem duplicate suffix: `50.131-RHM-8bit-LMU1220-POD-10minSleep6hr-Input1POS-PwrMonEvt-PEG0MotionEvtAcc4Dist500Thes10.csv` and `...PEG0MotionEvtAcc4Dist500Thes10 (1).csv`. Byte-for-byte comparison confirms the two files are completely identical (328 lines each). The `(1)` suffix is characteristic of an OS-level copy artefact (e.g., accidental duplicate via copy/paste). Additionally, `Aus Script/CEA/50.131 LMU1220 units.csv` uses the same `50.131` version prefix in a different directory.

**Fix:** Delete one of the two identical `8bit Script/50.131` files. Review whether `Aus Script/CEA/50.131 LMU1220 units.csv` is intentionally using the same version number as the 8-bit script or whether a version collision exists.

---

**[A37-8]** — LOW: Filename typos in two AU scripts

**Description:** Two AU scripts contain spelling errors in the filename: `61.139 Rayven Mathhai Kore.csv` (should be `Matthai`) and `61.140 Rayven and CI clone CEA Telsta Final.csv` (should be `Telstra`). These typos affect searchability and make the customer/carrier association ambiguous when scanning directories.

**Fix:** Rename both files to correct the spelling: `61.139 Rayven Matthai Kore.csv` and `61.140 Rayven and CI clone CEA Telstra Final.csv`. Ensure git history preserves the rename as a rename (not delete+add) using `git mv`.

---

**[A37-9]** — LOW: APN credential `Kore123` hardcoded as plaintext in 21 of 31 scripts

**Description:** `reg 2309,0 = Kore123` (APN password for the Kore MVNO) is present in plaintext hex encoding in 21 scripts across AU, US, UK, Demo and 8bit directories. While encoding in hex provides minimal obfuscation, the value is trivially decoded. Anyone with read access to the repository can extract these credentials and use them to authenticate SIM cards on the Kore network for unauthorised data usage.

**Fix:** Assess whether `Kore123` is the actual live credential or a test/default password. If it is a live credential, consider whether storing it in a version-controlled repository meets the organisation's security policy. At minimum, add the repository to the organisation's secret scanning perimeter. If this is a shared default provided by Kore, confirm with the carrier whether the password poses a real risk.

---

**[A37-10]** — INFO: Large bulk of zero-padded event slots and parameter rows in SIE script

**Description:** Of 1228 data rows in `69.006`, 142 `reg 512.xx` event table entries are all-zero nulls (unused event slots, indices 145–249 predominantly), and all 234 `reg 513.xx` rows and all 15 `reg 515.xx` rows are zero. This is normal practice for CalAmp LMU scripts — unused slots must be explicitly zeroed to clear device memory. The presence is intentional, not a quality defect. However, the 1228-row file is larger than necessary if the CalAmp programmer supports a sparse format.

**Fix:** No immediate action required. Document this as expected pattern. If file size becomes an operational concern (e.g., OTA update bandwidth), evaluate whether the CalAmp programming tool supports writing only non-zero parameters.

---

**[A37-11]** — INFO: 69.007 filename missing customer prefix unlike all other 69.xx scripts

**Description:** `69.007 Final POD SIMcard.csv` is the only file in the 69.xx series that does not include a customer name prefix (all others follow the pattern `69.xxx Rayven [Customer] [Carrier] Final.csv` or `69.xxx RD [Customer] [Carrier] Final.csv`). The file also places `Final` at the start rather than the end of the descriptive portion. This makes the file harder to identify by customer when browsing the directory.

**Fix:** Rename to a consistent pattern, e.g., `69.007 Rayven PAPE Kore Final.csv`, to align with the naming convention used by the rest of the 69.xx series.
