# Pass 1 Security Audit — forkliftiqapp
**Agent ID:** LC07
**Date:** 2026-02-27
**Stack:** Android/Java
**Audit Pass:** 1

---

## Branch Verification

- Command run: `git -C /c/Projects/cig-audit/repos/forkliftiqapp branch --show-current`
- Result: `master`
- Checklist states "Branch: main" — this is a discrepancy. Actual branch is `master`, not `main`.
- Branch is `master`; audit proceeds.

---

## Assigned Files

1. `LibCommon/src/main/java/com/yy/libcommon/LibConfig.java`
2. `LibCommon/src/main/java/com/yy/libcommon/NotesDialog.java`
3. `LibCommon/src/main/java/com/yy/libcommon/RadioImageButton.java`

---

## Reading Evidence

### File 1: LibConfig.java

**Fully qualified class name:** `com.yy.libcommon.LibConfig`

**Public fields (all are static final constants):**

| Line | Field | Value |
|------|-------|-------|
| 8 | `public static final String BASE_DIRECTOY` | `"ForkIQ360"` |
| 9 | `public static final String IMAGE_DIRECTORY` | `"images"` |

**Public methods:** None declared.

**Activities / Fragments / Services / BroadcastReceivers / ContentProviders:** None.

**Notes on constants:**
- `BASE_DIRECTOY` (note: typo — "DIRECTOY" not "DIRECTORY") is a plain string used as a directory name, value `"ForkIQ360"`.
- `IMAGE_DIRECTORY` is a plain string `"images"`.
- No server URLs, IP addresses, API keys, authentication tokens, environment flags, or signing credentials present.
- These two constants are the entirety of the class body. The class has no constructor, no methods, no imports.

---

### File 2: NotesDialog.java

**Fully qualified class name:** `com.yy.libcommon.NotesDialog`

**Superclass:** `BaseDialog` (extends `com.yy.libcommon.BaseDialog`)

**Imports:**
- `android.os.Bundle`
- `android.view.LayoutInflater`
- `android.view.View`
- `android.view.ViewGroup`
- `android.view.Window`
- `android.widget.Button`
- `android.widget.EditText`
- `android.widget.TextView`

**Public methods:**

| Line | Signature |
|------|-----------|
| 32 | `public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)` |
| 40 | `public static NotesDialog newInstance(String title, String hint, String content, Callback callback)` |
| 63 | `public void setAcceptText(String string)` |

**Package-private / private / protected methods:**

| Line | Signature |
|------|-----------|
| 69 | `protected void setupViews()` (overrides BaseDialog) |

**Public fields:** None (all fields are private).

**Private fields:**

| Line | Field |
|------|-------|
| 19 | `private Callback mCallback` |
| 20 | `private TextView mTitleTextView` |
| 21 | `private EditText mInputEditText` |
| 22 | `private Button mSaveButton` |
| 23 | `private String mSaveButtonText` |
| 24 | `private Button mCancelButton` |
| 26 | `private String mTitle` |
| 27 | `private String mHint` |
| 28 | `private String mContent` |

**Nested types:**

| Line | Type |
|------|------|
| 117 | `public interface Callback { public void callback(String notes); }` |

**Activities / Fragments / Services / BroadcastReceivers / ContentProviders:** `NotesDialog` is a `DialogFragment` (via `BaseDialog`). Not independently declared in manifest per this file; no manifest declarations visible here.

**Hardcoded strings of note:**
- Line 81: `mTitleTextView.setText("Title")` — fallback default title string.
- Line 91: `mInputEditText.setHint("")` — empty hint fallback.

---

### File 3: RadioImageButton.java

**Fully qualified class name:** `com.yy.libcommon.RadioImageButton`

**Superclass:** `android.widget.ImageButton`
**Implements:** `android.widget.Checkable`

**Imports:**
- `android.content.Context`
- `android.content.res.TypedArray`
- `android.util.AttributeSet`
- `android.widget.Checkable`
- `android.widget.ImageButton`

**Public methods:**

| Line | Signature |
|------|-----------|
| 14 | `public RadioImageButton(Context context)` |
| 18 | `public RadioImageButton(Context context, AttributeSet attrs)` |
| 23 | `public RadioImageButton(Context context, AttributeSet attrs, int defStyle)` |
| 41 | `public boolean isChecked()` |
| 46 | `public void setChecked(boolean checked)` |
| 59 | `public void toggle()` |
| 68 | `public boolean performClick()` |
| 75 | `public OnCheckedChangeListener getOnCheckedChangeListener()` |
| 79 | `public void setOnCheckedChangeListener(OnCheckedChangeListener onCheckedChangeListener)` |
| 83 | `public void setOnClickListener(OnCheckedChangeListener onCheckedChangeListener)` |

**Package-private fields:**

| Line | Field |
|------|-------|
| 12 | `boolean isChecked = false` (package-private) |
| 29 | `int checkedDrawable` (package-private) |
| 29 | `int uncheckedDrawable` (package-private) |

**Private fields:**

| Line | Field |
|------|-------|
| 11 | `private OnCheckedChangeListener onCheckedChangeListener` |

**Private methods:**

| Line | Signature |
|------|-----------|
| 31 | `private void parseAttributes(AttributeSet attrs)` |

**Nested types:**

| Line | Type |
|------|------|
| 87 | `public static class OnCheckedChangeListener` with method `public void onCheckedChanged(RadioImageButton buttonView, boolean isChecked)` |

**Activities / Fragments / Services / BroadcastReceivers / ContentProviders:** None. This is a custom View widget.

---

## Security Findings by Checklist Section

### Section 1 — Signing and Keystores

No signing configuration, keystore references, passwords, or credentials appear in any of the three assigned files. `LibConfig.java` contains only filesystem directory name constants. `NotesDialog.java` and `RadioImageButton.java` contain no credentials.

**Result: No issues found — Section 1 (Signing and Keystores)**

---

### Section 2 — Network Security

No network calls, HTTP clients, URL strings, API endpoint strings, server addresses, or IP addresses appear in any of the three assigned files.

`LibConfig.java` was examined specifically for hardcoded server URLs, API keys, or environment flags as instructed. The class contains only two constants:
- `BASE_DIRECTOY = "ForkIQ360"` — a local filesystem directory name, not a network endpoint.
- `IMAGE_DIRECTORY = "images"` — a subdirectory name, not a network endpoint.

Neither constant represents a network address or credential.

`NotesDialog.java` and `RadioImageButton.java` contain no network-related code.

**Result: No issues found — Section 2 (Network Security)**

---

### Section 3 — Data Storage

`LibConfig.java`: The constants `BASE_DIRECTOY = "ForkIQ360"` and `IMAGE_DIRECTORY = "images"` define directory names. This indicates the application writes to a directory named `ForkIQ360` with an `images` subdirectory. The constant names and values alone do not confirm whether this storage occurs on internal storage or external/SD-card storage. The storage location (internal vs. external) is determined by the calling code that uses these constants, not within these files. Callers of `LibConfig.BASE_DIRECTOY` should be examined in a subsequent audit pass to confirm storage target.

**Finding — Low / Informational (LibConfig.java, lines 8-9):** The constant `BASE_DIRECTOY` (also note a typo: "DIRECTOY" missing letter "R") defines a directory name `"ForkIQ360"`. The name suggests a top-level directory that may be written to external storage (a common pattern when a fixed directory name like this is used with `Environment.getExternalStorageDirectory()` or `getExternalFilesDir()`). No `SharedPreferences`, `openFileOutput()`, or `MODE_WORLD_READABLE`/`MODE_WORLD_WRITEABLE` usage appears in these files. Further investigation of callers is warranted.

`NotesDialog.java`: Collects free-text input from the user via `EditText` (line 21, `mInputEditText`) and passes the text string to a `Callback` interface (line 104). The dialog does not itself persist any data to storage — it delegates the string to the caller via `mCallback.callback(mInputEditText.getText().toString())`. No storage operations occur within this file.

`RadioImageButton.java`: A custom UI widget with no data storage operations.

**Result: One informational item noted for LibConfig.java (storage location of BASE_DIRECTOY requires caller investigation). No definitive storage vulnerabilities in the three assigned files.**

---

### Section 4 — Input and Intent Handling

`NotesDialog.java`: Accepts free-text user input via `EditText` at line 21. The text is retrieved at line 104 via `mInputEditText.getText().toString()` and passed verbatim to the `Callback` interface. No sanitization, length validation, or content filtering is applied within this file. Whether the absence of input validation is a vulnerability depends entirely on how the calling code uses the returned string (e.g., does it pass the text to a SQL query, an API call, or simply display it?). This file itself is not vulnerable, but the pattern warrants attention in calling code.

No WebView usage, no Intent handling, no deep link handlers, and no exported component declarations appear in any of the three files.

**Result: No issues found in scope of these files — Section 4 (Input and Intent Handling). Informational note: NotesDialog passes unvalidated free-text input to its caller; validation responsibility lies entirely with the caller.**

---

### Section 5 — Authentication and Session

No authentication logic, token handling, credential storage, session management, or login/logout operations appear in any of the three assigned files.

**Result: No issues found — Section 5 (Authentication and Session)**

---

### Section 6 — Third-Party Libraries

No dependency declarations, library imports of third-party libraries (all imports are from `android.*` and the local package `com.yy.libcommon`), or ProGuard configuration appear in the three assigned files.

**Result: No issues found — Section 6 (Third-Party Libraries)**

---

### Section 7 — Google Play and Android Platform

`RadioImageButton.java` — Behavioral note on `setOnClickListener` (line 83): A public method `setOnClickListener(OnCheckedChangeListener onCheckedChangeListener)` is declared with an empty body. This silently overrides (or shadows) the standard `View.setOnClickListener(View.OnClickListener)` with a no-op. Any caller that inadvertently uses this signature will have their listener silently dropped. This is a code quality / reliability concern rather than a direct security issue.

`RadioImageButton.java` — `isChecked` field (line 12) is package-private (`boolean isChecked = false`) rather than `private`. Combined with `checkedDrawable` and `uncheckedDrawable` (lines 29-29) also being package-private, these fields can be accessed and modified directly from other classes in the `com.yy.libcommon` package without going through `setChecked()`, bypassing the listener notification logic. Minor encapsulation concern.

No `targetSdkVersion`, `minSdkVersion`, permission declarations, `AsyncTask` usage, `startActivityForResult`, or deprecated API usage appears in these three files.

**Result: No security issues found — Section 7 (Google Play and Android Platform). Two code quality observations noted for RadioImageButton.java.**

---

## Summary of Findings

| Severity | File | Finding |
|----------|------|---------|
| Informational | `LibConfig.java` line 8 | `BASE_DIRECTOY` constant defines directory name `"ForkIQ360"` — callers must be reviewed to confirm storage target is not external/world-readable storage. Also contains a typo: "DIRECTOY" should be "DIRECTORY". |
| Informational | `NotesDialog.java` line 104 | Free-text user input passed unvalidated to callback; validation responsibility delegated entirely to calling code. |
| Informational | `RadioImageButton.java` line 83 | `setOnClickListener(OnCheckedChangeListener)` is a silent no-op that can cause listeners to be silently dropped — reliability issue, not a direct security issue. |
| Informational | `RadioImageButton.java` lines 12, 29 | `isChecked`, `checkedDrawable`, `uncheckedDrawable` are package-private instead of `private`, weakening encapsulation. |

**No Critical, High, or Medium severity findings in the three assigned files.**

---

## Files Audited

| File | Lines | Status |
|------|-------|--------|
| `LibCommon/src/main/java/com/yy/libcommon/LibConfig.java` | 10 | Read in full |
| `LibCommon/src/main/java/com/yy/libcommon/NotesDialog.java` | 120 | Read in full |
| `LibCommon/src/main/java/com/yy/libcommon/RadioImageButton.java` | 92 | Read in full |
