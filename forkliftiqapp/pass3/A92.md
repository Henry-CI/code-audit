# Pass 3 Findings: A92

## File: DashboardFragment.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/ui/fragment/DashboardFragment.java`

### Reading Evidence
- Class: `DashboardFragment` (extends `FleetFragment`, implements `View.OnClickListener`)
- Public Methods:
  - `onCreateView(LayoutInflater, ViewGroup, Bundle)` (line 39) — overrides Fragment lifecycle
  - `initViews()` (line 58)
  - `onSessionEnded()` (line 104) — overrides parent
  - `onResume()` (line 114) — overrides Fragment lifecycle
  - `onStop()` (line 123) — overrides Fragment lifecycle
  - `onDestroy()` (line 128) — overrides Fragment lifecycle
  - `onClick(View)` (line 133) — implements `View.OnClickListener`
  - `onLeftButton(View)` (line 175) — overrides parent abstract method
  - `onMiddleButton(View)` (line 182) — overrides parent abstract method
  - `onRightButton(View)` (line 189) — overrides parent abstract method
- Constants/Types:
  - `static Bitmap userPhotoBitmap` (line 35) — package-private static field (not a named constant, no `final`)

### Findings

#### A92-1: `userPhotoBitmap` is package-private mutable static state with no documentation [INFO]
- File: DashboardFragment.java, Line: 35
- Description: `static Bitmap userPhotoBitmap` is a package-private mutable static field. It has no Javadoc or inline comment explaining its purpose, ownership, or expected lifecycle (it is set externally, then consumed and nulled in `setUserPhoto()`). This implicit cross-class communication contract is entirely undocumented.

#### A92-2: `initViews()` has no Javadoc [INFO]
- File: DashboardFragment.java, Line: 58
- Description: The public method `initViews()` has no Javadoc comment. The method performs several non-trivial actions: triggers compliance acceptance dialog, loads user photo, registers click listeners for five dashboard tiles and the user photo, initialises the bottom navigation bar, registers a Realm change listener for session monitoring, and calls `updateRunning()`. None of this is described in documentation.

#### A92-3: `onSessionEnded()` has no Javadoc [INFO]
- File: DashboardFragment.java, Line: 104
- Description: The public override `onSessionEnded()` has no Javadoc. Its purpose — refreshing the session indicator dot in response to a session-end event propagated from the parent — is non-obvious without reading parent class source and is undocumented.

#### A92-4: `onLeftButton(View)` has no Javadoc [INFO]
- File: DashboardFragment.java, Line: 175
- Description: `onLeftButton(View)` has no Javadoc. The method navigates to `ActionClearActivity` with the extra `"action"="setup"`. The relationship between the bottom-bar left button and "setup" is undocumented.

#### A92-5: `onMiddleButton(View)` has no Javadoc [INFO]
- File: DashboardFragment.java, Line: 182
- Description: `onMiddleButton(View)` has no Javadoc. The method navigates to `ActionActivity` with the extra `"action"="report"`. The relationship between the bottom-bar middle button and "saved reports" is undocumented.

#### A92-6: `onRightButton(View)` has no Javadoc and its logout logic is undocumented [INFO]
- File: DashboardFragment.java, Line: 189
- Description: `onRightButton(View)` has no Javadoc. The method implements a two-branch logout flow: (1) if an active web session exists it attempts a remote `saveSessionEnd` call, falling back to offline session finalisation on failure before clearing the session and navigating to login; (2) if no web session exists it calls `logout()` directly. This conditional offline-fallback logout behaviour is completely undocumented.

#### A92-7: `onClick(View)` switch-case missing `break` before `default` for `dashboard_incident_report` [INFO]
- File: DashboardFragment.java, Line: 147-150
- Description: The `case R.id.dashboard_incident_report:` block (line 147) starts `IncidentActivity` but has no `break` statement before `default:`. This is a fall-through into the `default` case. While the `default` only contains a `break`, the missing `break` is a latent defect and is not documented with an intent comment (e.g., `// intentional fall-through`). No Javadoc on `onClick` describes this edge case.

---

## File: DriverListFragment.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/ui/fragment/DriverListFragment.java`

### Reading Evidence
- Class: `DriverListFragment` (extends `FleetFragment`, implements `AbsRecyclerAdapter.OnItemClickListener`)
- Public Methods:
  - `onCreate(Bundle)` (line 28) — overrides Fragment lifecycle
  - `onCreateView(LayoutInflater, ViewGroup, Bundle)` (line 33) — overrides Fragment lifecycle
  - `initViews()` (line 38)
  - `onItemClick(View, int)` (line 55) — implements interface
  - `updateDriverList(List<User>)` (line 61)
  - `onRightButton(View)` (line 66) — overrides parent abstract method (empty body)
  - `onMiddleButton(View)` (line 70) — overrides parent abstract method (empty body)
- Constants/Types:
  - None defined in this file.

### Findings

#### A92-8: `initViews()` has no Javadoc [INFO]
- File: DriverListFragment.java, Line: 38
- Description: The public method `initViews()` has no Javadoc. It initialises the bottom navigation bar, constructs and wires a `RecyclerView` with a `SelectDriverAdapter` and `SelectDriverPresenter`, and triggers an asynchronous driver list fetch. None of this is described in documentation.

#### A92-9: `onItemClick(View, int)` has no Javadoc [INFO]
- File: DriverListFragment.java, Line: 55
- Description: `onItemClick(View, int)` has no Javadoc. The method sets the selected list-position user as `CurrentUser` and starts `DashboardActivity` as a main activity (clearing back-stack via `Intent.makeMainActivity`). The side effect of replacing the current user and the back-stack-clearing navigation strategy are undocumented.

#### A92-10: `updateDriverList(List<User>)` has no Javadoc [INFO]
- File: DriverListFragment.java, Line: 61
- Description: The public method `updateDriverList(List<User>)` has no Javadoc. It is the presenter callback used to deliver the fetched driver list to the adapter, but neither the expected caller, the threading assumptions, nor the parameter semantics are documented.

#### A92-11: `onRightButton(View)` and `onMiddleButton(View)` are intentionally empty with no documentation [INFO]
- File: DriverListFragment.java, Lines: 66, 70
- Description: Both `onRightButton` and `onMiddleButton` are empty overrides of abstract parent methods. There is no comment explaining whether these buttons are intentionally disabled for this screen or are placeholders for future functionality. The `initViews()` method passes `null` for the middle and right button labels (line 40: `{R.drawable.maintenance, R.drawable.edit}` with `sa = {"DASHBOARD", null, null}`), suggesting they are deliberately suppressed, but this is unconfirmed by any documentation.

---

## File: DriverStatsFragment1.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/ui/fragment/DriverStatsFragment1.java`

### Reading Evidence
- Class: `DriverStatsFragment1` (extends `FleetFragment`)
- Public Methods:
  - `onCreateView(LayoutInflater, ViewGroup, Bundle)` (line 30) — overrides Fragment lifecycle
  - `initViews()` (line 35)
  - `onRightButton(View)` (line 124) — overrides parent abstract method
- Constants/Types:
  - `private static final String STATS_KEY_USAGE = "usage"` (line 23)

### Findings

#### A92-12: `STATS_KEY_USAGE` constant has no Javadoc or comment explaining the API contract [INFO]
- File: DriverStatsFragment1.java, Line: 23
- Description: The constant `STATS_KEY_USAGE = "usage"` is the key used to filter driver stats items from the web service response. There is no comment documenting what API field this string matches, where it is defined server-side, or what the consequence of a mismatch would be (silent empty list). This is a fragile magic string with no documentation.

#### A92-13: `initViews()` has no Javadoc [INFO]
- File: DriverStatsFragment1.java, Line: 35
- Description: The public method `initViews()` has no Javadoc. It sets up the user photo, initialises the bottom navigation bar, populates the user name text view, creates and attaches a `ListView` with `DriverStatsListAdapter`, and triggers both `loadData()` and `getUserDetail()`. None of this is described in documentation.

#### A92-14: `onRightButton(View)` navigation target is undocumented [INFO]
- File: DriverStatsFragment1.java, Line: 124
- Description: `onRightButton(View)` has no Javadoc. The method navigates to `DriverStatsFragment3`, skipping `DriverStatsFragment2`. The reason for skipping fragment 2 in this navigation path (or whether fragment 2 exists and is reached via a different route) is entirely undocumented.

#### A92-15: `onData()` silently drops all stats items that are not keyed `"usage"` — undocumented filter [INFO]
- File: DriverStatsFragment1.java, Lines: 92-121
- Description: The private method `onData(GetDriverStatsResultArray)` filters the result array to include only items where `field.equals(STATS_KEY_USAGE)`. All other stat categories in the response are silently discarded. While `onData` is private, the public entry point `initViews()` triggers `loadData()` which ultimately calls `onData`, and neither has any documentation explaining that this screen intentionally shows only usage stats. The class name (`DriverStatsFragment1`) gives no indication of this scoping.

---

## Summary

All three files have zero Javadoc comments on any public method or class. There are no inaccurate doc comments (none exist to be inaccurate). All findings are rated INFO (undocumented public API surface). One finding (A92-7) additionally notes a latent code defect (missing `break`) that is compounded by the absence of a documenting comment.

| Finding | File | Line | Severity |
|---------|------|------|----------|
| A92-1 | DashboardFragment.java | 35 | INFO |
| A92-2 | DashboardFragment.java | 58 | INFO |
| A92-3 | DashboardFragment.java | 104 | INFO |
| A92-4 | DashboardFragment.java | 175 | INFO |
| A92-5 | DashboardFragment.java | 182 | INFO |
| A92-6 | DashboardFragment.java | 189 | INFO |
| A92-7 | DashboardFragment.java | 147 | INFO |
| A92-8 | DriverListFragment.java | 38 | INFO |
| A92-9 | DriverListFragment.java | 55 | INFO |
| A92-10 | DriverListFragment.java | 61 | INFO |
| A92-11 | DriverListFragment.java | 66, 70 | INFO |
| A92-12 | DriverStatsFragment1.java | 23 | INFO |
| A92-13 | DriverStatsFragment1.java | 35 | INFO |
| A92-14 | DriverStatsFragment1.java | 124 | INFO |
| A92-15 | DriverStatsFragment1.java | 92 | INFO |
