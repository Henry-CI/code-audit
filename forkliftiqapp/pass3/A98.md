# Pass 3 Findings: A98

## File: ServiceRecordListAdapter.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/ui/fragment/ServiceRecordListAdapter.java`

### Reading Evidence
- Class: `ServiceRecordListAdapter` extends `ArrayAdapter<ServiceRecordItem>`
- Public Methods:
  - `getView(int position, View convertView, ViewGroup parent)` (line 29) — overrides `ArrayAdapter`
  - `getCount()` (line 62) — overrides `ArrayAdapter`
  - `getItem(int i)` (line 67) — overrides `ArrayAdapter`
- Package-private Methods:
  - `ServiceRecordListAdapter(Context context, ArrayList<ServiceRecordItem> data)` (line 21) — constructor (package-private)
- Constants/Types:
  - Inner static class `ListHolder` (line 71): fields `name` (TextView), `status_bar` (View), `status_text` (TextView)

### Findings

#### A98-1: No Javadoc on class `ServiceRecordListAdapter` [INFO]
- File: `ServiceRecordListAdapter.java`, Line: 17
- Description: The class has no Javadoc comment. There is no description of its purpose (an `ArrayAdapter` implementation for displaying `ServiceRecordItem` objects in a list, with a ViewHolder pattern for performance), the type parameter it binds, or the layout it inflates (`list_item_service_record`).

#### A98-2: No Javadoc on overridden `getView` [INFO]
- File: `ServiceRecordListAdapter.java`, Line: 29
- Description: `getView` is not documented. The method inflates `list_item_service_record`, applies the ViewHolder pattern using an inner `ListHolder`, populates the unit name, queries `ServiceRecordFragment` for a status integer and its associated color and text, and sets them on the row view. None of this behaviour is described.

#### A98-3: No Javadoc on overridden `getCount` [INFO]
- File: `ServiceRecordListAdapter.java`, Line: 62
- Description: `getCount` is not documented. The override returns `mData.size()` directly rather than delegating to the parent class, which is a meaningful behavioural detail (the parent's internal list and this field can diverge if items are added outside the constructor).

#### A98-4: No Javadoc on overridden `getItem` [INFO]
- File: `ServiceRecordListAdapter.java`, Line: 67
- Description: `getItem` is not documented. The override returns `mData.get(i)` directly (no bounds check, no null guard) rather than delegating to the superclass. The parameter name `i` is also non-standard (the superclass names it `position`), which warrants a note.

#### A98-5: No Javadoc on inner class `ListHolder` [INFO]
- File: `ServiceRecordListAdapter.java`, Line: 71
- Description: The static ViewHolder inner class `ListHolder` has no Javadoc and its three fields (`name`, `status_bar`, `status_text`) are undocumented.

---

## File: ServiceStatsListAdapter.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/ui/fragment/ServiceStatsListAdapter.java`

### Reading Evidence
- Class: `ServiceStatsListAdapter` extends `ArrayAdapter<DriverStatsItem>`
- Public Methods:
  - `getView(int position, View convertView, ViewGroup parent)` (line 31) — overrides `ArrayAdapter`
  - `getCount()` (line 67) — overrides `ArrayAdapter`
  - `getItem(int i)` (line 72) — overrides `ArrayAdapter`
- Package-private Methods:
  - `ServiceStatsListAdapter(Context context, ArrayList<DriverStatsItem> data)` (line 23) — constructor (package-private)
- Constants/Types:
  - Inner static class `ListHolder` (line 76): fields `name` (TextView), `status_bar` (View), `status_text` (TextView)
- Notable inline logic: `status_bar` view is inflated and stored in the holder but never populated (no color, no visibility change). The `value` field of `DriverStatsItem` is parsed to an integer (silently defaulting to 0 on failure) and displayed as `"<n> Services"`.

### Findings

#### A98-6: No Javadoc on class `ServiceStatsListAdapter` [INFO]
- File: `ServiceStatsListAdapter.java`, Line: 18
- Description: The class has no Javadoc comment. There is no description of its purpose (an `ArrayAdapter` for displaying driver/service statistics as `DriverStatsItem` objects), its layout (`list_item_service_stats`), or the formatting logic applied to `DriverStatsItem.value`.

#### A98-7: No Javadoc on overridden `getView` [INFO]
- File: `ServiceStatsListAdapter.java`, Line: 31
- Description: `getView` is not documented. Notably, the method contains a silent integer-parsing fallback (lines 56-59): if `DriverStatsItem.value` cannot be parsed as an integer, the count silently becomes `0` and the display shows `"0 Services"`. This non-obvious data-corruption risk is entirely undocumented.

#### A98-8: `status_bar` holder field is populated but never used — undocumented dead code [INFO]
- File: `ServiceStatsListAdapter.java`, Lines: 43, 44
- Description: `holder.status_bar` is assigned via `findViewById` in `getView` but is never subsequently read, styled, or made visible anywhere in the method. This diverges from `ServiceRecordListAdapter`, which actively colors the `status_bar`. The dead assignment is undocumented and likely indicates either an unimplemented feature or a copy-paste artifact. There is no comment explaining the omission.

#### A98-9: No Javadoc on overridden `getCount` [INFO]
- File: `ServiceStatsListAdapter.java`, Line: 67
- Description: `getCount` is not documented. As with `ServiceRecordListAdapter`, the override returns `mData.size()` directly, bypassing the parent's internal state.

#### A98-10: No Javadoc on overridden `getItem` [INFO]
- File: `ServiceStatsListAdapter.java`, Line: 72
- Description: `getItem` is not documented. The override returns `mData.get(i)` directly without bounds checking; the non-standard parameter name `i` (vs. the superclass's `position`) is also undocumented.

#### A98-11: No Javadoc on inner class `ListHolder` [INFO]
- File: `ServiceStatsListAdapter.java`, Line: 76
- Description: The static `ListHolder` inner class and its three fields are entirely undocumented.

---

## File: SetUserPhotoFragment.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/ui/fragment/SetUserPhotoFragment.java`

### Reading Evidence
- Class: `SetUserPhotoFragment` extends `FleetFragment` implements `View.OnClickListener`
- Public Methods:
  - `onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)` (line 31) — overrides `Fragment`
  - `onActivityCreated(Bundle savedInstanceState)` (line 37) — overrides `Fragment`
  - `initViews()` (line 45) — class-defined public method
  - `onResume()` (line 180) — overrides `Fragment`
  - `onStop()` (line 185) — overrides `Fragment`
  - `onDestroy()` (line 190) — overrides `Fragment`
  - `onClick(View view)` (line 195) — implements `View.OnClickListener`
- Package-private / instance fields (no access modifier = package-private):
  - `activity` (line 24) — `Activity`
  - `fromDashboard` (line 28) — `boolean`
- Private fields:
  - `mBitmap` (line 25) — `Bitmap`, initialised to `null`
  - `user_photo` (line 26) — `ImageView`
  - `user_photo_none` (line 27) — `ImageView`
- Constants/Types: none
- Private Methods: `getUserDetail()` (line 98), `onPhotoSaved()` (line 102), `uploadUserPhoto()` (line 115), `choosePhoto()` (line 148)

### Findings

#### A98-12: No Javadoc on class `SetUserPhotoFragment` [INFO]
- File: `SetUserPhotoFragment.java`, Line: 23
- Description: The class has no Javadoc. There is no description of its role (a fragment for allowing a user to choose or capture a profile photo during signup or from the dashboard), its `fromDashboard` mode switch, or the fact that it implements `View.OnClickListener` with an intentionally empty `onClick` body.

#### A98-13: No Javadoc on `onCreateView` [INFO]
- File: `SetUserPhotoFragment.java`, Line: 31
- Description: The lifecycle override is not documented. It inflates `fragment_selfie` and stores the root view in `mRootView`, but does not call `initViews()` — view initialisation is deferred to the caller. This deferred-initialisation contract is a non-obvious design decision with no explanation.

#### A98-14: No Javadoc on `onActivityCreated` [INFO]
- File: `SetUserPhotoFragment.java`, Line: 37
- Description: The override is not documented. It contains a conditional assignment of `activity` only when the host is a `SignupActivity`; if the host is any other activity (e.g., the dashboard flow), `activity` remains `null`. This conditional null-leaving behaviour is a maintenance hazard that is entirely undocumented.

#### A98-15: No Javadoc on `initViews` [INFO]
- File: `SetUserPhotoFragment.java`, Line: 45
- Description: `initViews` is a public method with substantial behaviour: it wires click listeners for `user_photo`, `user_photo_none`, the OK button, and the skip button; it applies three distinct display states based on `mBitmap` and `fromDashboard`; it hides or shows the skip button based on `fromDashboard`; and it calls `getUserDetail()` at the end. None of this is described, nor is the prerequisite that `mRootView` must already be set (i.e., that this method must be called after `onCreateView`).

#### A98-16: `onClick(View view)` is empty — undocumented intentional no-op [INFO]
- File: `SetUserPhotoFragment.java`, Lines: 195-196
- Description: The `View.OnClickListener` interface is implemented but `onClick` has an empty body. There is no comment indicating this is intentional. Individual click listeners are registered inline within `initViews` rather than routing through this method, making the interface implementation appear to be a legacy or erroneous declaration. The absence of any documentation leaves the intent ambiguous.

#### A98-17: No Javadoc on `onResume`, `onStop`, `onDestroy` [INFO]
- File: `SetUserPhotoFragment.java`, Lines: 180, 185, 190
- Description: Three lifecycle overrides are present that do nothing beyond calling `super`. While trivial in isolation, their presence without explanation creates the false impression that future logic may have been removed or was intentionally deferred. A brief comment on each (or their removal) would clarify intent.
