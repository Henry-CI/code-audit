# Pass 3 Findings: A18

## File: SuperCheckBox.java
### Reading Evidence
- Class: `SuperCheckBox extends CompoundButton`
  (package: `com.pizidea.imagepicker.widget`)
- Public Methods:
  - `SuperCheckBox(Context context, AttributeSet attrs, int defStyle)` (line 36)
  - `SuperCheckBox(Context context, AttributeSet attrs)` (line 40)
  - `SuperCheckBox(Context context)` (line 44)
  - `getAccessibilityClassName()` (line 49) — overrides View
  - `isCanChecked()` (line 53)
  - `setCanChecked(boolean canChecked)` (line 57)
  - `toggle()` (line 63) — overrides CompoundButton
  - `performClick()` (line 70) — overrides View
- Constants/Types:
  - `private boolean canChecked` (instance field, default `true`) — not a constant, but the only field of note
  - No enums or static constants defined in this class

### Findings

#### A18-1: Placeholder class-level Javadoc does not describe the class [INFO]
- File: `SuperCheckBox.java`, Line: 27-31
- Description: The class-level doc comment reads `<b>Desc your Class</b>` — a placeholder that was never replaced. `SuperCheckBox` extends `CompoundButton` (not `CheckBox` directly) and adds a `canChecked` gate that prevents toggling when `canChecked == false`. The placeholder comment provides no useful description of this behaviour.

#### A18-2: Constructor `SuperCheckBox(Context, AttributeSet, int)` undocumented [INFO]
- File: `SuperCheckBox.java`, Line: 36
- Description: No Javadoc on this constructor.

#### A18-3: Constructor `SuperCheckBox(Context, AttributeSet)` undocumented [INFO]
- File: `SuperCheckBox.java`, Line: 40
- Description: No Javadoc on this constructor.

#### A18-4: Constructor `SuperCheckBox(Context)` undocumented [INFO]
- File: `SuperCheckBox.java`, Line: 44
- Description: No Javadoc on this constructor.

#### A18-5: `isCanChecked()` undocumented [INFO]
- File: `SuperCheckBox.java`, Line: 53
- Description: No Javadoc. Returns the value of the `canChecked` flag that controls whether `toggle()` is permitted.

#### A18-6: `setCanChecked(boolean)` undocumented [INFO]
- File: `SuperCheckBox.java`, Line: 57
- Description: No Javadoc. Sets the `canChecked` flag; when `false`, subsequent calls to `toggle()` are silently ignored.

#### A18-7: `toggle()` override undocumented [INFO]
- File: `SuperCheckBox.java`, Line: 63
- Description: No Javadoc. The override conditionally delegates to `super.toggle()` based on `canChecked`; this behavioural deviation from the `CompoundButton` contract is undocumented.

#### A18-8: `performClick()` override undocumented [INFO]
- File: `SuperCheckBox.java`, Line: 70
- Description: No Javadoc. The override manually plays a click sound when `super.performClick()` returns `false` (i.e., no `OnClickListener` was set). This platform-workaround logic is undocumented.

---

## File: SuperImageView.java
### Reading Evidence
- Class: `SuperImageView extends AppCompatImageView`
  (package: `com.pizidea.imagepicker.widget`)
- Public Methods:
  - `SuperImageView(Context context)` (line 66)
  - `SuperImageView(Context context, AttributeSet attrs)` (line 71)
  - `SuperImageView(Context context, AttributeSet attrs, int defStyle)` (line 76)
  - `setImageBitmap(Bitmap bm)` (line 85) — overrides
  - `setImageDrawable(Drawable drawable)` (line 90) — overrides
  - `setImageResource(int resId)` (line 95) — overrides
  - `getImageRotation()` (line 110)
  - `onSizeChanged(int w, int h, int oldw, int oldh)` (line 114) — overrides (protected)
  - `onTouchEvent(MotionEvent event)` (line 224) — overrides
  - `getMatrixRect()` (line 386)
- Constants/Types:
  - `static float MAX_SCALE = 4.0f` (line 39) — package-private static field (not `final`)
  - `static final int NONE = 0` (line 48)
  - `static final int DRAG = 1` (line 49)
  - `static final int ZOOM = 2` (line 50)
  - `static final int ROTATE = 3` (line 51)
  - `static final int ZOOM_OR_ROTATE = 4` (line 52)

### Findings

#### A18-9: Placeholder class-level Javadoc does not describe the class [INFO]
- File: `SuperImageView.java`, Line: 32-35
- Description: The class-level comment reads `<b>Desc your Class</b>` — a placeholder never filled in. The class implements a custom touch-controlled image view with drag, pinch-zoom, and rotation. No description of these capabilities appears anywhere in the class Javadoc.

#### A18-10: Constructor `SuperImageView(Context)` undocumented [INFO]
- File: `SuperImageView.java`, Line: 66
- Description: No Javadoc on this constructor.

#### A18-11: Constructor `SuperImageView(Context, AttributeSet)` undocumented [INFO]
- File: `SuperImageView.java`, Line: 71
- Description: No Javadoc on this constructor.

#### A18-12: Constructor `SuperImageView(Context, AttributeSet, int)` undocumented [INFO]
- File: `SuperImageView.java`, Line: 76
- Description: No Javadoc on this constructor.

#### A18-13: `setImageBitmap(Bitmap)` undocumented [INFO]
- File: `SuperImageView.java`, Line: 85
- Description: No Javadoc. The override additionally calls `setImageWidthHeight()` to synchronise internal dimension state; this side-effect is not documented.

#### A18-14: `setImageDrawable(Drawable)` undocumented [INFO]
- File: `SuperImageView.java`, Line: 90
- Description: No Javadoc. Same side-effect as `setImageBitmap`; undocumented.

#### A18-15: `setImageResource(int)` undocumented [INFO]
- File: `SuperImageView.java`, Line: 95
- Description: No Javadoc. Same side-effect as `setImageBitmap`; undocumented.

#### A18-16: `getImageRotation()` undocumented [INFO]
- File: `SuperImageView.java`, Line: 110
- Description: No Javadoc. Returns the current rotation angle in radians (field `rotation` is updated in radians inside `onTouchEvent`). The unit (radians) is unspecified, which is a usability hazard for callers expecting degrees.

#### A18-17: `getImageRotation()` return unit not specified — misleading omission [LOW]
- File: `SuperImageView.java`, Line: 110
- Description: The field `rotation` is accumulated in radians (see lines 295, 341–343) and is returned directly by `getImageRotation()`. There is no documentation indicating the unit. Callers who assume degrees will misinterpret the value, potentially producing incorrect UI behaviour (e.g., incorrect angle display or further rotation calculations).

#### A18-18: `onTouchEvent(MotionEvent)` undocumented [INFO]
- File: `SuperImageView.java`, Line: 224
- Description: No Javadoc. The override always returns `true`, consuming every touch event and blocking parent-view scroll containers from receiving events. This is a significant behavioural characteristic that is entirely undocumented.

#### A18-19: `getMatrixRect()` Javadoc inaccurate — crashes on null drawable [MEDIUM]
- File: `SuperImageView.java`, Line: 382-396
- Description: The Javadoc comment (lines 383-385) describes the method as returning "the scaled display image Matrix Rect to calculate the zoom ratio". The implementation calls `getDrawable().getIntrinsicWidth()` (line 390) unconditionally. If no drawable is set, `getDrawable()` returns `null` and the call throws a `NullPointerException`. The doc gives no warning of this precondition. Callers relying solely on the documentation will not guard against NPE.

#### A18-20: `MAX_SCALE` is not `final` and mutated at runtime [LOW]
- File: `SuperImageView.java`, Lines: 39, 139
- Description: `MAX_SCALE` is declared as a package-private `static` (non-final) field initialised to `4.0f`. Inside `initImage()` (line 139) it is unconditionally incremented with `MAX_SCALE *= 2.25`. Because it is `static`, each subsequent image load permanently increases the shared max-scale ceiling. There is no documentation on this field, its mutability, or the fact that it accumulates across instances. This is a latent bug risk; a caller who reads `MAX_SCALE` directly will observe an ever-growing value.

---

## File: TouchImageView.java
### Reading Evidence
- Class: `TouchImageView extends AppCompatImageView`
  (package: `com.pizidea.imagepicker.widget`)
- Public Methods (outer class):
  - `TouchImageView(Context context)` (line 120)
  - `TouchImageView(Context context, AttributeSet attrs)` (line 125)
  - `TouchImageView(Context context, AttributeSet attrs, int defStyle)` (line 130)
  - `setOnTouchListener(OnTouchListener l)` (line 159) — overrides
  - `setOnTouchImageViewListener(OnTouchImageViewListener l)` (line 163)
  - `setOnDoubleTapListener(GestureDetector.OnDoubleTapListener l)` (line 167)
  - `setImageResource(int resId)` (line 172) — overrides
  - `setImageBitmap(Bitmap bm)` (line 179) — overrides
  - `setImageDrawable(Drawable drawable)` (line 186) — overrides
  - `setImageURI(Uri uri)` (line 193) — overrides
  - `setScaleType(ScaleType type)` (line 200) — overrides
  - `getScaleType()` (line 220) — overrides
  - `isZoomed()` (line 228)
  - `getZoomedRect()` (line 236)
  - `onSaveInstanceState()` (line 264) — overrides
  - `onRestoreInstanceState(Parcelable state)` (line 279) — overrides
  - `onDraw(Canvas canvas)` (line 298) — overrides (protected)
  - `onConfigurationChanged(Configuration newConfig)` (line 309) — overrides
  - `getMaxZoom()` (line 318)
  - `setMaxZoom(float max)` (line 326)
  - `getMinZoom()` (line 335)
  - `getCurrentZoom()` (line 344)
  - `setMinZoom(float min)` (line 352)
  - `resetZoom()` (line 360)
  - `setZoom(float scale)` (line 369)
  - `setZoom(float scale, float focusX, float focusY)` (line 382)
  - `setZoom(float scale, float focusX, float focusY, ScaleType scaleType)` (line 396)
  - `setZoom(TouchImageView img)` (line 425)
  - `getScrollPosition()` (line 437)
  - `setScrollPosition(float focusX, float focusY)` (line 457)
  - `onMeasure(int widthMeasureSpec, int heightMeasureSpec)` (line 533) — overrides (protected)
  - `canScrollHorizontallyFroyo(int direction)` (line 743)
  - `canScrollHorizontally(int direction)` (line 748) — overrides
- Constants/Types:
  - `private static final String DEBUG = "DEBUG"` (line 62)
  - `private static final float SUPER_MIN_MULTIPLIER = .75f` (line 69)
  - `private static final float SUPER_MAX_MULTIPLIER = 1.25f` (line 70)
  - `private static enum State { NONE, DRAG, ZOOM, FLING, ANIMATE_ZOOM }` (line 85)
  - Inner interface: `OnTouchImageViewListener` (line 827) with method `onMove()`
  - Inner classes: `GestureListener`, `PrivateOnTouchListener`, `ScaleListener`, `DoubleTapZoom`, `Fling`, `CompatScroller`, `ZoomVariables`

### Findings

#### A18-21: Constructor `TouchImageView(Context)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 120
- Description: No Javadoc on this constructor.

#### A18-22: Constructor `TouchImageView(Context, AttributeSet)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 125
- Description: No Javadoc on this constructor.

#### A18-23: Constructor `TouchImageView(Context, AttributeSet, int)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 130
- Description: No Javadoc on this constructor.

#### A18-24: `setOnTouchListener(OnTouchListener)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 159
- Description: No Javadoc. The override does not delegate to `super.setOnTouchListener()`; instead it saves the listener in `userTouchListener` and dispatches it manually inside `PrivateOnTouchListener.onTouch()`. This significant behavioural difference from the platform contract is undocumented.

#### A18-25: `setOnTouchImageViewListener(OnTouchImageViewListener)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 163
- Description: No Javadoc explaining when `OnTouchImageViewListener.onMove()` is called (on every drag frame, pinch-zoom frame, fling frame, and double-tap animation frame).

#### A18-26: `setOnDoubleTapListener(GestureDetector.OnDoubleTapListener)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 167
- Description: No Javadoc.

#### A18-27: `setImageResource(int)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 172
- Description: No Javadoc. The override calls `savePreviousImageValues()` and `fitImageToView()` in addition to the super behaviour; undocumented side-effects.

#### A18-28: `setImageBitmap(Bitmap)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 179
- Description: No Javadoc. Same pattern of additional side-effects as `setImageResource`; undocumented.

#### A18-29: `setImageDrawable(Drawable)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 186
- Description: No Javadoc.

#### A18-30: `setImageURI(Uri)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 193
- Description: No Javadoc.

#### A18-31: `setScaleType(ScaleType)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 200
- Description: No Javadoc. The override throws `UnsupportedOperationException` for `FIT_START` and `FIT_END`, a constraint callers must know about.

#### A18-32: `getScaleType()` undocumented [INFO]
- File: `TouchImageView.java`, Line: 220
- Description: No Javadoc.

#### A18-33: `isZoomed()` Javadoc first sentence contradictory [LOW]
- File: `TouchImageView.java`, Lines: 224-229
- Description: The Javadoc reads: "Returns false if image is in initial, unzoomed state. False, otherwise." Both branches of the sentence state "False", but the second branch should read "True". The implementation correctly returns `normalizedScale != 1` (i.e., `true` when zoomed). The doc comment will mislead any reader who does not inspect the source.

#### A18-34: `getZoomedRect()` Javadoc vague — omits normalisation and NPE risk [LOW]
- File: `TouchImageView.java`, Lines: 232-246
- Description: The Javadoc says "Return a Rect representing the zoomed image" but does not explain that coordinates are normalised to [0, 1] relative to the drawable's intrinsic dimensions. It also does not document the `UnsupportedOperationException` thrown for `FIT_XY`, nor the implicit requirement that `getDrawable()` must not be null (line 243 would NPE otherwise).

#### A18-35: `onSaveInstanceState()` undocumented [INFO]
- File: `TouchImageView.java`, Line: 264
- Description: No Javadoc describing which view state fields are persisted (scale, matrix, view dimensions, image-rendered flag).

#### A18-36: `onRestoreInstanceState(Parcelable)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 279
- Description: No Javadoc.

#### A18-37: `onConfigurationChanged(Configuration)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 309
- Description: No Javadoc. The override saves the previous image values so that zoom state is preserved across orientation changes; this behaviour is undocumented.

#### A18-38: `getMaxZoom()` Javadoc does not state the default value [INFO]
- File: `TouchImageView.java`, Lines: 314-320
- Description: The Javadoc for `getMaxZoom()` omits the default value of `3`, which is documented on `setMaxZoom()`. Asymmetric documentation between getter and setter.

#### A18-39: `getMinZoom()` Javadoc does not state the default value [INFO]
- File: `TouchImageView.java`, Lines: 331-337
- Description: The Javadoc for `getMinZoom()` says only "Get the min zoom multiplier" without stating the default of `1`. Compare `setMinZoom()` which does state the default.

#### A18-40: `setZoom(TouchImageView)` Javadoc `@param` tag has no parameter name [LOW]
- File: `TouchImageView.java`, Lines: 421-428
- Description: The Javadoc reads `@param` with no parameter name or description (line 423: `* @param`). This is a malformed tag that will produce a Javadoc tool warning and provides no information to callers about what `img` represents.

#### A18-41: `canScrollHorizontallyFroyo(int)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 743
- Description: No Javadoc. The method exists to provide `canScrollHorizontally` compatibility for pre-Froyo API levels; this context is entirely absent.

#### A18-42: `canScrollHorizontally(int)` undocumented [INFO]
- File: `TouchImageView.java`, Line: 748
- Description: No Javadoc. The override contains a hardcoded tolerance of `1` pixel and an asymmetric `viewWidth-30` guard in `fixTrans()` (line 470) that affects its behaviour; undocumented.

#### A18-43: `OnTouchImageViewListener` interface undocumented [INFO]
- File: `TouchImageView.java`, Line: 827
- Description: The public interface `OnTouchImageViewListener` and its sole method `onMove()` have no Javadoc. Callers do not know that `onMove()` is invoked on every animation frame of drag, fling, pinch-zoom, and double-tap zoom.
