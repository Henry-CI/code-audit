# Pass 3 Findings: A17

## File: LibImagePicker/src/main/java/com/pizidea/imagepicker/ui/activity/ImagesGridActivity.java

### Reading Evidence
- Class: `ImagesGridActivity` extends `FragmentActivity`, implements `View.OnClickListener`, `AndroidImagePicker.OnImageSelectedChangeListener`
- Public Methods:
  - `onClick(View v)` (line 127) — from `View.OnClickListener`
  - `onImageSelectChange(int position, ImageItem item, int selectedItemsCount, int maxSelectLimit)` (line 140) — from `AndroidImagePicker.OnImageSelectedChangeListener`
- Package-private / protected lifecycle overrides (not public API, noted for completeness):
  - `onCreate(Bundle savedInstanceState)` (line 46)
  - `onDestroy()` (line 153)
  - `onActivityResult(int requestCode, int resultCode, Intent data)` (line 161)
- Private Methods:
  - `go2Preview(int position)` (line 118) — has Chinese Javadoc comment ("预览页面")
- Constants/Types: `TAG` (private static final String, line 37)

### Findings

#### A17-1: `onClick` has no Javadoc [INFO]
- File: `ImagesGridActivity.java`, Line: 127
- Description: The public `onClick(View v)` method implementing `View.OnClickListener` has no Javadoc comment. Its behavior (completing image selection when `btn_ok` is tapped, finishing without result when `btn_pic_rechoose` is tapped) is non-trivial and undocumented.

#### A17-2: `onImageSelectChange` has no Javadoc [INFO]
- File: `ImagesGridActivity.java`, Line: 140
- Description: The public `onImageSelectChange(int position, ImageItem item, int selectedItemsCount, int maxSelectLimit)` method implementing the `OnImageSelectedChangeListener` interface has no Javadoc comment. Its behavior — updating the OK button text with the current selection count/limit and enabling or disabling the button — is undocumented.

#### A17-3: Private method `go2Preview` Javadoc is in Chinese with no English equivalent [INFO]
- File: `ImagesGridActivity.java`, Line: 114–117
- Description: The Javadoc for `go2Preview` is written entirely in Chinese ("预览页面", meaning "preview page") with no `@param` tag documenting the `position` parameter. While the method is private, it is the only commented method in the file and the comment provides minimal value in an English-language codebase. No finding is raised for the private method's lack of visibility; the Chinese-only comment is flagged as an informational consistency issue.

---

## File: LibImagePicker/src/main/java/com/pizidea/imagepicker/widget/AvatarRectView.java

### Reading Evidence
- Class: `AvatarRectView` extends `View`
- Public Methods:
  - `AvatarRectView(Context context, int avatarSize)` — constructor (line 49)
  - `getCropRect()` (line 104)
- Protected Methods (overrides, not public API):
  - `onDraw(Canvas canvas)` (line 65) — declared `final`
- Constants/Types:
  - `TAG` (private static final String, line 39)
  - `mPaint` (package-private final `Paint`, line 41)
  - `mRect` (package-private final `Rect`, line 42)
  - `rectArray` (package-private `Rect[]`, line 45) — comment: "Rect masks to draw"
  - `centerRect` (package-private `Rect`, line 46) — comment: "transparent Rect in center"
  - `centerBitmap` (package-private `Bitmap`, line 47) — comment: "center transparent area draw by a bitmap"
- Class-level Javadoc: present (line 33–37), describes "image crop mask View for avatar"

### Findings

#### A17-4: Constructor `AvatarRectView(Context, int)` has no Javadoc [INFO]
- File: `AvatarRectView.java`, Line: 49
- Description: The sole public constructor is undocumented. Its `avatarSize` parameter determines the dimensions of the crop rectangle drawn on screen — non-obvious and worth documenting, especially since the class provides no setter for this value after construction.

#### A17-5: `getCropRect()` Javadoc `@return` tag is inaccurate [LOW]
- File: `AvatarRectView.java`, Lines: 100–106
- Description: The Javadoc states `@return mRect the center Rect of avatar area`. The description "center Rect of avatar area" is only accurate after `onDraw` has been called at least once, because `mRect` is populated inside `onDraw` (lines 70–73). If `getCropRect()` is called before the first draw pass, `mRect` will be an empty `Rect` (all zeros, as initialised on line 42). The Javadoc gives no indication of this precondition and may mislead callers into using an uninitialised rect, potentially causing incorrect crop calculations. Severity is LOW because in normal usage `onDraw` will have been called first, but the missing precondition is a documentation inaccuracy.

---

## File: LibImagePicker/src/main/java/com/pizidea/imagepicker/widget/SquareLayout.java

### Reading Evidence
- Class: `SquareLayout` extends `RelativeLayout`
- Public Methods (constructors):
  - `SquareLayout(Context context, AttributeSet attrs, int defStyle)` (line 32)
  - `SquareLayout(Context context, AttributeSet attrs)` (line 36)
  - `SquareLayout(Context context)` (line 40)
- Protected Methods (overrides):
  - `onMeasure(int widthMeasureSpec, int heightMeasureSpec)` (line 45)
- Constants/Types: none
- Class-level Javadoc: present (line 25–29), but body text reads "**Desc your Class**" — a placeholder, not a real description.

### Findings

#### A17-6: Class Javadoc is a placeholder and contains no meaningful description [LOW]
- File: `SquareLayout.java`, Lines: 25–29
- Description: The class-level Javadoc reads `<b>Desc your Class</b>`, which is an unfilled template placeholder. The class enforces square dimensions by overriding `onMeasure` to set both width and height to the measured width — useful and non-obvious behaviour that is completely undescribed. A consumer reading only the Javadoc would have no understanding of what the class does.

#### A17-7: All three public constructors have no Javadoc [INFO]
- File: `SquareLayout.java`, Lines: 32, 36, 40
- Description: None of the three public constructors (`SquareLayout(Context)`, `SquareLayout(Context, AttributeSet)`, `SquareLayout(Context, AttributeSet, int)`) have Javadoc comments. These are the standard Android `View` constructor overloads required for XML inflation; while their signatures are conventional, documentation is absent.
