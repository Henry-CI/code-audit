# Pass 3 Findings: A08

## File: RadioImageButton.java
`LibCommon/src/main/java/com/yy/libcommon/RadioImageButton.java`

### Reading Evidence
- Class: `RadioImageButton extends ImageButton implements Checkable`
- Public Methods:
  - `RadioImageButton(Context context)` (line 14) — constructor
  - `RadioImageButton(Context context, AttributeSet attrs)` (line 18) — constructor
  - `RadioImageButton(Context context, AttributeSet attrs, int defStyle)` (line 23) — constructor
  - `isChecked()` (line 41) — override from `Checkable`
  - `setChecked(boolean checked)` (line 46) — override from `Checkable`
  - `toggle()` (line 59) — override from `Checkable`
  - `performClick()` (line 68) — override from `View`
  - `getOnCheckedChangeListener()` (line 75)
  - `setOnCheckedChangeListener(OnCheckedChangeListener)` (line 79)
  - `setOnClickListener(OnCheckedChangeListener)` (line 83) — no-op public method
  - `OnCheckedChangeListener.onCheckedChanged(RadioImageButton, boolean)` (line 88) — public method on inner class
- Constants/Types:
  - Package-private fields: `isChecked` (boolean, line 12), `checkedDrawable` (int, line 28), `uncheckedDrawable` (int, line 29)
  - Inner class (static, concrete, not interface): `OnCheckedChangeListener` (line 87)

### Findings

#### A08-1: No Javadoc on class `RadioImageButton` [INFO]
- File: RadioImageButton.java, Line: 10
- Description: The class has no Javadoc comment. There is no documentation explaining that this is a radio-style image button that implements `Checkable`, what the `checkedDrawable`/`uncheckedDrawable` attributes represent, or how the radio group behavior is expected to be managed by callers.

#### A08-2: No Javadoc on public constructors [INFO]
- File: RadioImageButton.java, Lines: 14, 18, 23
- Description: All three public constructors lack Javadoc. The two-argument and three-argument constructors silently call `parseAttributes`, which reads custom styleable attributes (`ToggleImageButton_checkedBackground`, `ToggleImageButton_uncheckedBackground`, `android_checked`). This behavior is not documented.

#### A08-3: No Javadoc on `toggle()` — non-standard behavior undocumented [LOW]
- File: RadioImageButton.java, Line: 59
- Description: The `toggle()` override deviates from the `Checkable` interface contract. The standard contract is to invert the checked state unconditionally; however, this implementation returns immediately (does nothing) if `isChecked` is already `true`. This one-directional toggle enforces radio-button semantics — once checked, the button cannot be unchecked via `toggle()`. This non-standard, non-obvious behavior is not documented anywhere, which is a risk for any caller relying on the `Checkable` interface contract.

#### A08-4: No Javadoc on `setOnClickListener(OnCheckedChangeListener)` — silent no-op [LOW]
- File: RadioImageButton.java, Line: 83
- Description: This public method has the same name as `View.setOnClickListener` but accepts an `OnCheckedChangeListener` argument and has an entirely empty body — it does nothing. There is no Javadoc or inline comment explaining why this method exists or why it is intentionally a no-op. A caller invoking this method expecting click-listener registration will silently receive no behavior. This is a documentation gap with real correctness risk.

#### A08-5: No Javadoc on `setChecked(boolean)` [INFO]
- File: RadioImageButton.java, Line: 46
- Description: No Javadoc. The implementation sets the image resource (not just the background, as an inline comment indicates the `setBackgroundResource` call was disabled) and fires `onCheckedChangeListener`. The divergence from the commented-out approach is not explained.

#### A08-6: No Javadoc on `getOnCheckedChangeListener()` and `setOnCheckedChangeListener(OnCheckedChangeListener)` [INFO]
- File: RadioImageButton.java, Lines: 75, 79
- Description: Standard accessor/mutator pair for the checked-change listener; neither has Javadoc.

#### A08-7: No Javadoc on `performClick()` [INFO]
- File: RadioImageButton.java, Line: 68
- Description: No Javadoc. The override calls `toggle()` before delegating to `super.performClick()`, but this interaction (and the consequence that toggling is one-directional per A08-3) is not documented.

#### A08-8: `OnCheckedChangeListener` is a concrete class, not an interface — not documented [LOW]
- File: RadioImageButton.java, Line: 87
- Description: `OnCheckedChangeListener` is declared as a `public static class` with a concrete, empty `onCheckedChanged` implementation. Callers familiar with Android conventions would expect this to be an `interface`. Using it as a class means subclassing is required rather than using a lambda or anonymous interface implementation. No Javadoc exists on the class or its method to explain this design choice.

---

## File: SignatureDialog.java
`LibCommon/src/main/java/com/yy/libcommon/SignatureDialog.java`

### Reading Evidence
- Class: `SignatureDialog extends BaseDialog`
- Public Methods:
  - `onCreateView(LayoutInflater, ViewGroup, Bundle)` (line 40) — override
  - `newInstance(String path)` (line 55) — static factory
  - `setCallback(SignatureCallback)` (line 63)
  - `onActivityCreated(Bundle)` (line 68) — override
  - `init()` (line 76)
  - `findViews()` (line 80)
  - `setupViews()` (line 87)
  - `SignatureCallback.callBack(String)` (line 208) — interface method
- Constants/Types:
  - `private static final String BLOB_REF_KEY = "BLOB_REF_KEY"` (line 26)
  - `public interface SignatureCallback` (line 207)

### Findings

#### A08-9: Class-level Javadoc contains only author/date — no description of class purpose [INFO]
- File: SignatureDialog.java, Lines: 19-23
- Description: The existing Javadoc block (`Created by michael.carr on 26/06/2014`) provides no description of what `SignatureDialog` does: that it presents a full-screen dialog allowing the user to draw a signature, save it to a file path, and return the saved path via a `SignatureCallback`. The comment is essentially a stub.

#### A08-10: No Javadoc on `newInstance(String path)` [INFO]
- File: SignatureDialog.java, Line: 55
- Description: The static factory method is the expected construction point for this `DialogFragment`. No Javadoc documents the `path` parameter (an optional pre-existing file path to pre-load into the drawing view), nor the return value.

#### A08-11: No Javadoc on `setCallback(SignatureCallback)` [INFO]
- File: SignatureDialog.java, Line: 63
- Description: No Javadoc. The callback is invoked with the saved file path on successful save or when an existing image is accepted without re-drawing. This behavior is not described.

#### A08-12: No Javadoc on `init()`, `findViews()`, `setupViews()` [INFO]
- File: SignatureDialog.java, Lines: 76, 80, 87
- Description: All three public lifecycle-helper methods lack Javadoc. Their public visibility means external subclasses can override them; without documentation their contract and intended call order are unclear.

#### A08-13: `onCreateView` calls `super.onCreate` instead of `super.onCreateView` [HIGH]
- File: SignatureDialog.java, Line: 41
- Description: At line 41, `onCreateView` calls `super.onCreate(savedInstanceState)` rather than `super.onCreateView(inflater, container, savedInstanceState)`. This is a lifecycle contract violation — `onCreate` and `onCreateView` are distinct Fragment lifecycle callbacks. While this may be masked by `BaseDialog`'s own implementation, no documentation acknowledges this deviation, and the risk is that a future change to `BaseDialog` will expose a fragment lifecycle bug. This finding is documentation-surfaced but indicates a real implementation concern.

#### A08-14: No Javadoc on `SignatureCallback` interface and its `callBack` method [INFO]
- File: SignatureDialog.java, Lines: 207-209
- Description: The `SignatureCallback` interface and its single method `callBack(String filePath)` have no Javadoc. It is not documented that `filePath` may be `null` on failure (though in practice it is only called on success), nor what the implementor is expected to do with the path.

---

## File: SquareImageView.java
`LibCommon/src/main/java/com/yy/libcommon/SquareImageView.java`

### Reading Evidence
- Class: `SquareImageView extends ImageView`
- Public/Protected Methods:
  - `SquareImageView(Context context)` (line 13) — constructor
  - `SquareImageView(Context context, AttributeSet attrs)` (line 17) — constructor
  - `SquareImageView(Context context, AttributeSet attrs, int defStyle)` (line 21) — constructor
  - `onDraw(Canvas canvas)` (line 25) — protected override
  - `onMeasure(int widthMeasureSpec, int heightMeasureSpec)` (line 30) — protected override
- Constants/Types: None

### Findings

#### A08-15: No Javadoc on class `SquareImageView` [INFO]
- File: SquareImageView.java, Line: 12
- Description: The class-level comment is only a creation tag (`Created by steveyang on 15/6/17`). There is no description explaining that this custom view forces the measured height to equal the measured width, producing a square image view that snaps to its measured width. This is the sole purpose of the class and is entirely undocumented at the class level.

#### A08-16: No Javadoc on `onMeasure` override [INFO]
- File: SquareImageView.java, Line: 30
- Description: The `onMeasure` override silently discards the `heightMeasureSpec` argument and forces height to equal `getMeasuredWidth()`. The inline comment `// Snap to width` is minimal but present. No formal Javadoc exists. The behavior when the parent imposes an exact height constraint (which would normally be respected) is silently overridden; this could surprise integrators using `SquareImageView` in constrained layouts.

#### A08-17: `onDraw` override is a no-op and undocumented [INFO]
- File: SquareImageView.java, Line: 25
- Description: The `onDraw(Canvas)` method is overridden with no additional logic beyond calling `super.onDraw(canvas)`. It adds no behavior and has no Javadoc. While harmless, the empty override creates a maintenance question about whether something was intended here and left incomplete. No comment explains the override's purpose (or lack thereof).
