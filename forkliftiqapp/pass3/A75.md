# Pass 3 Findings: A75

## File: UserRegisterResult.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/WebService/webserviceclasses/results/UserRegisterResult.java`

### Reading Evidence
- Class: `UserRegisterResult` extends `WebServiceResultPacket` implements `Serializable`
- Public Methods:
  - `UserRegisterResult()` (line 31) - default no-arg constructor
  - `UserRegisterResult(JSONObject jsonObject)` (line 34) - JSON-deserialising constructor; calls `super(jsonObject)` then conditionally parses 16 named fields from the JSON object
- Constants/Types: none (no constants or enums defined)
- Public Fields (all bare, no accessors):
  - `int id` (line 14)
  - `String first_name` (line 15)
  - `String last_name` (line 16)
  - `String email` (line 17)
  - `String password` (line 18)
  - `String phone` (line 19)
  - `String licno` (line 20)
  - `String expirydt` (line 21)
  - `String addr` (line 22)
  - `String securityno` (line 23)
  - `String photo` (line 24)
  - `String createdat` (line 25)
  - `String updatedat` (line 26)
  - `String active` (line 27)
  - `boolean contactperson` (line 28)
  - `String ranking` (line 29)

### Findings

#### A75-1: No Javadoc on class UserRegisterResult [INFO]
- File: `UserRegisterResult.java`, Line: 12
- Description: The class declaration has no Javadoc comment. There is no description of the class's purpose, the web-service endpoint it corresponds to, the meaning of the result fields, or the circumstances under which instances are created.

#### A75-2: No Javadoc on default constructor UserRegisterResult() [INFO]
- File: `UserRegisterResult.java`, Line: 31
- Description: The no-arg constructor has no Javadoc. Its purpose (e.g. required for serialisation or framework instantiation) is not explained.

#### A75-3: No Javadoc on JSON-deserialising constructor UserRegisterResult(JSONObject) [INFO]
- File: `UserRegisterResult.java`, Line: 34
- Description: The primary constructor that populates all 16 public fields from a `JSONObject` has no Javadoc. There is no `@param` tag for `jsonObject`, no `@throws JSONException` tag, and no explanation of null-safety behaviour (the constructor silently skips any key that is JSON null).

#### A75-4: Public field `password` stores credential with no documentation of sensitivity [INFO]
- File: `UserRegisterResult.java`, Line: 18
- Description: The public field `password` holds a user credential received from the web service. There is no Javadoc, comment, or annotation documenting that this field carries sensitive data, that it must not be logged or persisted in plain text, or what format/encoding the value takes. The absence of any documentation increases the risk that callers will mishandle the value.

---

## File: ShowPackageAvailable.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/autoupdate/activity/ShowPackageAvailable.java`

### Reading Evidence
- Class: `ShowPackageAvailable` extends `android.app.Activity`
- Public Methods (overrides and constructors):
  - `ShowPackageAvailable()` (line 47) - public constructor; initialises `service` field via `APKUpdateServiceFactory.getService()`
  - `onCreate(Bundle savedInstanceState)` (line 52) - inflates `auto_update_searching` layout, sets current version text
  - `onStart()` (line 59) - in debug builds redirects immediately to `LoginActivity`; in release builds calls the update-check service and routes to `alertNewPackageAvailable` or `LoginActivity` depending on whether a package is returned
  - `onKeyDown(int keyCode, KeyEvent event)` (line 153) - finishes the activity on BACK key press
  - `onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults)` (line 174) - handles the runtime-permission result for external storage; triggers `downloadAndInstall` if both permissions were granted
- Constants/Types:
  - `private static final String TAG` (line 40) - log tag, value is the canonical class name
  - `private static final String PACKAGE_EXTRA = "apkPackage"` (line 42) - Intent extra key for passing an `APKPackage` between components
  - `private static final String ANDROID_APK_MIME_TYPE = "application/vnd.android.package-archive"` (line 43) - MIME type used when launching the APK installer

### Findings

#### A75-5: No Javadoc on class ShowPackageAvailable [INFO]
- File: `ShowPackageAvailable.java`, Line: 39
- Description: The class has no Javadoc comment. There is no description of its role in the auto-update flow, its expected entry points, the lifecycle it manages, or its relationship to `APKUpdateService` and `APKPackage`.

#### A75-6: No Javadoc on public constructor ShowPackageAvailable() [INFO]
- File: `ShowPackageAvailable.java`, Line: 47
- Description: The constructor has no Javadoc. Its side effect - obtaining an `APKUpdateService` instance from the factory at construction time rather than in `onCreate` - is non-obvious and worth documenting.

#### A75-7: No Javadoc on overridden lifecycle method onCreate [INFO]
- File: `ShowPackageAvailable.java`, Line: 52
- Description: `onCreate` is not documented. The method sets a specific layout (`auto_update_searching`) and populates the current version text field; these choices are not described.

#### A75-8: No Javadoc on overridden lifecycle method onStart [INFO]
- File: `ShowPackageAvailable.java`, Line: 59
- Description: `onStart` contains the core update-check logic with a significant debug/release branch (debug builds skip all update checking and go directly to `LoginActivity`). This behaviour is entirely undocumented.

#### A75-9: No Javadoc on overridden method onKeyDown [INFO]
- File: `ShowPackageAvailable.java`, Line: 153
- Description: `onKeyDown` has no Javadoc. The deliberate decision to allow the user to dismiss the update screen via the BACK key (calling `finish()`) is not explained.

#### A75-10: No Javadoc on overridden method onRequestPermissionsResult [INFO]
- File: `ShowPackageAvailable.java`, Line: 174
- Description: `onRequestPermissionsResult` has no Javadoc. The method's guard condition (`grantResults.length <= 2`) and the `PACKAGE_EXTRA` key used to retrieve the `APKPackage` from the originating Intent are undocumented.

#### A75-11: Inaccurate/misleading guard condition in onRequestPermissionsResult undocumented [LOW]
- File: `ShowPackageAvailable.java`, Line: 176
- Description: The guard `grantResults.length <= 2` is documented nowhere. In practice the method requests exactly two permissions (WRITE_EXTERNAL_STORAGE and READ_EXTERNAL_STORAGE at line 114), so Android always returns a results array of length 2. The condition `<= 2` is therefore always true, and `downloadAndInstall` is never called from this method regardless of whether permissions were granted. The lack of any comment explaining the intent of this guard (which appears to be `< 2`, i.e. "fewer results than expected") leaves a likely defect invisible to maintainers. Severity is LOW because it affects the documentation audit; the underlying logic defect is a code issue outside the scope of this pass, but the absence of any explanatory comment means the defect cannot be distinguished from intentional behaviour.

#### A75-12: Constant PACKAGE_EXTRA undocumented and used inconsistently [INFO]
- File: `ShowPackageAvailable.java`, Line: 42
- Description: `PACKAGE_EXTRA` defines the Intent extra key `"apkPackage"` used at line 180 to retrieve the `APKPackage` after a permission grant. There is no Javadoc or comment explaining which component is expected to supply this extra, or that the extra must be present before `onRequestPermissionsResult` calls `downloadAndInstall`. The lack of documentation makes it difficult to verify that callers correctly populate the Intent before starting this Activity.

---

## File: APKPackage.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/autoupdate/model/APKPackage.java`

### Reading Evidence
- Class: `APKPackage` implements `Serializable`
- Public Methods:
  - `getName()` (line 14) - returns `name`
  - `setName(String name)` (line 18) - sets `name`
  - `getFileName()` (line 22) - returns `fileName`
  - `setFileName(String fileName)` (line 26) - sets `fileName`
  - `getUrl()` (line 30) - returns `url`
  - `setUrl(String url)` (line 34) - sets `url`
  - `getMajor()` (line 38) - returns `major`
  - `setMajor(int major)` (line 42) - sets `major`
  - `getMinor()` (line 46) - returns `minor`
  - `setMinor(int minor)` (line 50) - sets `minor`
  - `getPatch()` (line 54) - returns `patch`
  - `setPatch(int patch)` (line 58) - sets `patch`
- Constants/Types: none

### Findings

#### A75-13: No Javadoc on class APKPackage [INFO]
- File: `APKPackage.java`, Line: 5
- Description: The class has no Javadoc comment. There is no explanation of what an APK package record represents, where the data originates (e.g. from a remote update endpoint), or how `major`, `minor`, and `patch` relate to the application's semantic version scheme.

#### A75-14: No Javadoc on any public getter or setter methods [INFO]
- File: `APKPackage.java`, Lines: 14, 18, 22, 26, 30, 34, 38, 42, 46, 50, 54, 58
- Description: All 12 public accessor methods (`getName`, `setName`, `getFileName`, `setFileName`, `getUrl`, `setUrl`, `getMajor`, `setMajor`, `getMinor`, `setMinor`, `getPatch`, `setPatch`) have no Javadoc. While simple getters and setters are often self-explanatory by name alone, the semantics of several fields are non-obvious:
  - `name` vs `fileName`: no documentation distinguishes a human-readable display name from the on-disk filename.
  - `url`: no documentation indicates whether this is an absolute URL or a relative path, or what authentication (if any) is required to fetch it.
  - `major`, `minor`, `patch`: no documentation states the versioning convention used (e.g. semver), what constitutes a breaking change, or how these values are compared against the installed version to decide whether an update is required.
