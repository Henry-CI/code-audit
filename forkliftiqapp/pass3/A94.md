# Pass 3 Findings: A94

---

## File: EquipmentConnectFragment.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/ui/fragment/EquipmentConnectFragment.java`

### Reading Evidence

- **Class:** `EquipmentConnectFragment extends FleetFragment`

- **Public Methods:**
  - `initViews()` (line 104)
  - `onCreateView(LayoutInflater, ViewGroup, Bundle)` (line 84) — framework override
  - `onActivityCreated(Bundle)` (line 91) — framework override
  - `onDestroy()` (line 60) — framework override
  - `onResume()` (line 170) — framework override
  - `onActivityResult(int, int, Intent)` (line 210) — framework override

- **Public Fields:**
  - `autoConnect` (line 44) — `public boolean autoConnect = false`

- **Package-private Fields:**
  - `activity` (line 38)

- **Private Static Fields (state flags):**
  - `operationFinished` (line 46) — `private static boolean`
  - `operationSucceeded` (line 47) — `private static boolean`
  - `permissionNotGranted` (line 48) — `private static boolean`, initialised `true`
  - `runTime` (line 49) — `private static int`

- **Constants/Types:** No named constants or enums defined in this file. The static import `STATUS_IDLE` is consumed from `BleController`.

- **Javadoc present:** None. No Javadoc comment exists anywhere in the file.

### Findings

#### A94-1: `initViews()` is undocumented [INFO]
- **File:** `EquipmentConnectFragment.java`, Line: 104
- **Description:** The public method `initViews()` has no Javadoc. It initialises the loading animation view, sets equipment session info, wires the Abort and Connect buttons, and conditionally auto-starts the BLE connection workflow. As the primary post-inflate setup entry point called by the host activity or parent fragment, its purpose, preconditions (that `mRootView` must already be set), and side-effects (triggering `startWorkHandler()` when `autoConnect == true`) are entirely undocumented.

#### A94-2: Public field `autoConnect` is undocumented [INFO]
- **File:** `EquipmentConnectFragment.java`, Line: 44
- **Description:** The public field `autoConnect` controls whether `initViews()` immediately initiates a BLE connection without waiting for user interaction. Because it is a public field settable by callers before `initViews()` runs, its semantics, expected timing of assignment, and default value (`false`) should be documented.

#### A94-3: Static state fields carry cross-instance risk with no explanation [INFO]
- **File:** `EquipmentConnectFragment.java`, Lines: 46-49
- **Description:** The four static fields `operationFinished`, `operationSucceeded`, `permissionNotGranted`, and `runTime` carry state across fragment instances. There is no comment explaining why these are `static` rather than instance fields, nor any documentation of their lifecycle (they are never reset in `onDestroy()`). The absence of documentation means a maintainer cannot determine whether the static scope is intentional design or a latent bug.

---

## File: EquipmentListFragment.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/ui/fragment/EquipmentListFragment.java`

### Reading Evidence

- **Class:** `EquipmentListFragment extends FleetFragment implements AbsRecyclerAdapter.OnItemClickListener, EquipmentSelectForkPresenter.ShowResultCallBack`

- **Public Methods:**
  - `initViews()` (line 64)
  - `onItemClick(View, int)` (line 103) — interface implementation
  - `selectEquipment(int)` (line 108)
  - `uiUpdateEquipmentList(GetEquipmentResultArray)` (line 191) — interface implementation
  - `onRightButton(View)` (line 206) — framework/base-class override
  - `onMiddleButton(View)` (line 216) — framework/base-class override
  - `onCreateView(LayoutInflater, ViewGroup, Bundle)` (line 53) — framework override
  - `onDestroy()` (line 59) — framework override

- **Public Fields:**
  - `urlList` (line 45) — `public List<String>`
  - `getEquipmentResultArray` (line 46) — `public static GetEquipmentResultArray`

- **Package-private Fields:**
  - `equipmentChanged` (line 47) — `static boolean`
  - `equipmentSelected` (line 48) — `static int`
  - `activity` (line 49)

- **Constants/Types:** No named constants or enums defined. The static import `LOCATION_SETTINGS_REQUEST_GPS` is consumed from `EquipmentActivity` (imported but not directly referenced in the fragment body).

- **Javadoc present:** None. No Javadoc comment exists anywhere in the file.

### Findings

#### A94-4: `initViews()` is undocumented [INFO]
- **File:** `EquipmentListFragment.java`, Line: 64
- **Description:** The public method `initViews()` has no Javadoc. It sets up the bottom navigation bar (with role-dependent buttons), builds the `RecyclerView` with its adapter and presenter, resolves the host `EquipmentActivity`, and either reuses a cached equipment list or fetches it from the server. Its preconditions, side-effects, and role-branching logic are not described.

#### A94-5: `selectEquipment(int)` is undocumented [INFO]
- **File:** `EquipmentListFragment.java`, Line: 108
- **Description:** The public method `selectEquipment(int position)` has no Javadoc. Its behaviour is non-trivial: it guards against an already-active session, looks up training expiry for the chosen equipment type, blocks selection if the licence is expired, shows a warning dialog if expiry is within 30 days, and otherwise proceeds to set `MyCommonValue.currentEquipmentItem` and create a session. The parameter semantics (`position` is an index into `getEquipmentResultArray.arrayList`), the session-guard behaviour, and the training-expiry blocking logic all warrant documentation.

#### A94-6: `uiUpdateEquipmentList(GetEquipmentResultArray)` is undocumented [INFO]
- **File:** `EquipmentListFragment.java`, Line: 191
- **Description:** The public interface implementation `uiUpdateEquipmentList` has no Javadoc. Its behaviour depends on the static `equipmentChanged` flag: if true it discards the supplied result and re-fetches from the server; if false it stores and displays the result. This conditional discard of the supplied argument is counter-intuitive and is not documented anywhere.

#### A94-7: Public static field `getEquipmentResultArray` is undocumented [INFO]
- **File:** `EquipmentListFragment.java`, Line: 46
- **Description:** The public static field `getEquipmentResultArray` is used as a cross-instance cache of the last fetched equipment list. It is nulled in `onDestroy()` and read in both `initViews()` and `uiUpdateEquipmentList()`. Neither its caching purpose, its lifecycle, nor the rationale for being `public static` (rather than held by a shared presenter or ViewModel) is documented.

#### A94-8: Public field `urlList` is unused and undocumented [INFO]
- **File:** `EquipmentListFragment.java`, Line: 45
- **Description:** The public field `urlList` is declared and initialised but never written to or read within this file. No Javadoc explains its intended purpose. The combination of being public, unused internally, and undocumented makes it impossible for a maintainer to determine whether it is populated by an external caller, is dead code, or is a remnant of a removed feature.

---

## File: EquipmentPrestartFragment.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/ui/fragment/EquipmentPrestartFragment.java`

### Reading Evidence

- **Class:** `EquipmentPrestartFragment extends FleetFragment implements AbsRecyclerAdapter.OnItemClickListener`

- **Public Methods:**
  - `setRecyclerViewdata(PreStartQuestionResultArray)` (line 50)
  - `initViews()` (line 60)
  - `showNext()` (line 120)
  - `onLeftButton(View)` (line 125) — base-class override
  - `onMiddleButton(View)` (line 135) — base-class override
  - `onRightButton(View)` (line 143) — base-class override
  - `onHiddenChanged(boolean)` (line 150) — framework override (empty body beyond super call)
  - `onItemClick(View, int)` (line 155) — interface implementation
  - `onCreateView(LayoutInflater, ViewGroup, Bundle)` (line 45) — framework override

- **Public Fields:**
  - `qustionItemArrayList` (line 38) — `public ArrayList<PreStartQuestionItem>` (note: field name contains a typo: "qustion" instead of "question")

- **Constants/Types:**
  - `TAG` (line 35) — `private static String TAG`, used for logging

- **Javadoc present:** None. No Javadoc comment exists anywhere in the file.

### Findings

#### A94-9: `setRecyclerViewdata(PreStartQuestionResultArray)` is undocumented [INFO]
- **File:** `EquipmentPrestartFragment.java`, Line: 50
- **Description:** The public method `setRecyclerViewdata` has no Javadoc. It clears and repopulates both `qustionItemArrayList` and the adapter's display list from the supplied result. The parameter and the side-effect of clearing existing answers are not described.

#### A94-10: `initViews()` is undocumented [INFO]
- **File:** `EquipmentPrestartFragment.java`, Line: 60
- **Description:** The public method `initViews()` has no Javadoc. It sets up the driver info header, university-guide overlay fragment, the pre-start checklist `RecyclerView`, the bottom navigation bar, and the comments upload button, then triggers an async fetch of pre-start check list data. Its preconditions (that `mRootView` is set) and the async side-effect of calling `presenter.getPreStartCheckListInfo()` are not documented.

#### A94-11: `showNext()` is undocumented [INFO]
- **File:** `EquipmentPrestartFragment.java`, Line: 120
- **Description:** The public method `showNext()` has no Javadoc. It unconditionally replaces the fragment container with a new `JobsFragment` without preserving a back-stack entry. The navigation consequence (back-stack replacement, not addition) is not described.

#### A94-12: Public field `qustionItemArrayList` is undocumented and misspelled [INFO]
- **File:** `EquipmentPrestartFragment.java`, Line: 38
- **Description:** The public field `qustionItemArrayList` has no Javadoc and contains a persistent typo ("qustion" instead of "question"). As a public field it may be accessed by external classes. The absence of documentation makes its ownership and write semantics ambiguous. The typo is a secondary concern but confirms the field was never reviewed.

#### A94-13: `onHiddenChanged(boolean)` overrides parent with empty body [INFO]
- **File:** `EquipmentPrestartFragment.java`, Line: 150
- **Description:** The `onHiddenChanged` override calls `super.onHiddenChanged(hidden)` and does nothing else. No comment explains why this override exists (e.g., placeholder for future logic, suppression of parent behaviour, or an oversight). While not an inaccurate doc, the unexplained empty override is a documentation gap that hinders maintainability.

#### A94-14: `onItemClick(View, int)` logs only; purpose undocumented [INFO]
- **File:** `EquipmentPrestartFragment.java`, Line: 155
- **Description:** The `onItemClick` interface implementation contains only a `Log.e` call and no documentation. It is unclear whether item taps on the pre-start checklist are intentionally no-ops at this level (with the adapter or presenter handling actual state changes), or whether this is an unfinished handler. The use of `Log.e` (error level) for a routine click event is also misleading and suggests incomplete implementation, but a comment explaining intent is absent.
