# Pass 3 Findings: A104

Agent: A104 (CONFIG)
Audit date: 2026-02-27
Scope: Build configuration files and AndroidManifest files across all modules

---

## File: build.gradle (root)

### Reading Evidence
- Purpose: Top-level project build script; configures buildscript classpath and shared project extension properties used by all modules.
- Key settings:
  - Android Gradle Plugin version: 3.0.0
  - Realm Gradle Plugin version: 3.7.2
  - Repository sources: `google()`, `jcenter()`, `https://jitpack.io`
  - Shared ext properties: `myBuildToolsVersion=26.0.2`, `myTargetSdkVersion=26`, `myMinSdkVersion=21`, `myCompileSdkVersion=26`

### Findings

#### A104-1: Android Gradle Plugin severely outdated (HIGH)
- File: `build.gradle` (root), Line: 9
- Description: `com.android.tools.build:gradle:3.0.0` was released in 2017. The current stable series as of early 2026 is 8.x. This version predates numerous security fixes, dependency resolution improvements, and known-safe defaults. Running such an old toolchain version means the project does not benefit from any supply-chain or build integrity improvements introduced in the intervening eight years. No comment explains why this pinned version is necessary or whether upgrading has been evaluated.

#### A104-2: Realm Gradle Plugin version undocumented and outdated (MEDIUM)
- File: `build.gradle` (root), Line: 10
- Description: `io.realm:realm-gradle-plugin:3.7.2` (2017). Realm 3.x is long past end-of-life. There is no comment explaining the version pin or whether a migration to a newer Realm version or an alternative has been considered. Outdated ORM plugins can introduce data-handling vulnerabilities and incompatibilities.

#### A104-3: jcenter() repository in use (HIGH)
- File: `build.gradle` (root), Lines: 6, 19
- Description: JCenter was shut down by JFrog in May 2021 and its artifact mirror is read-only and will eventually become unavailable. More critically, after the shutdown announcement JCenter artifacts were no longer vetted, creating a supply-chain risk if any artifact is ever re-served by a mirror. No comment explains why jcenter() is still listed or whether migration to Maven Central has been assessed.

#### A104-4: jitpack.io repository present with no comment (MEDIUM)
- File: `build.gradle` (root), Line: 20
- Description: `https://jitpack.io` serves artifacts built directly from GitHub source at build time. This introduces supply-chain risk: if the upstream GitHub repository is compromised or deleted, a different artifact could be served. No comment identifies which dependency requires this repository or why it was preferred over Maven Central.

#### A104-5: SDK and build tools versions severely outdated with no rationale (HIGH)
- File: `build.gradle` (root), Lines: 25-28
- Description: `compileSdkVersion=26`, `targetSdkVersion=26`, `minSdkVersion=21`, `buildToolsVersion=26.0.2` correspond to Android 8.0 (August 2017). Google Play Store has required `targetSdkVersion` 33 or higher since August 2023. Targeting SDK 26 means the app does not receive security-relevant behaviour changes introduced in Android 8.1 through 15 (e.g., stricter background location, scoped storage, exact alarm restrictions). No comment explains the rationale for this version freeze.

---

## File: settings.gradle

### Reading Evidence
- Purpose: Declares all modules included in the multi-module build.
- Key settings: Includes `:app`, `:LibCommon`, `:LibImageloader`, `:LibImagePicker`, `:LibCircleImageView`, `:LibPercentProgress`.

### Findings

#### A104-6: No comments describing module purposes (INFO)
- File: `settings.gradle`, Line: 1
- Description: A single uncommented `include` line lists six modules with no brief description of what each provides. While not a security issue, this is a documentation gap that affects maintainability. Severity is INFO given the low risk.

---

## File: gradle.properties

### Reading Evidence
- Purpose: Project-wide Gradle JVM tuning and keystore credentials for three signing configurations (dev, uat, release).
- Key settings:
  - JVM heap: `-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8`
  - Parallel builds: commented out
  - DEV/UAT/RELEASE keystore: all three use `../fleetiq.jks` with password `ciadmin` and alias `fleetiq`

### Findings

#### A104-7: Plaintext keystore passwords committed to version control (CRITICAL)
- File: `gradle.properties`, Lines: 20-32
- Description: All three signing configurations (DEV, UAT, RELEASE) store their keystore passwords and key passwords in plaintext in `gradle.properties`. The value `ciadmin` appears six times across the three environments. This file is tracked by git (it is not listed in `.gitignore` and is present in the repository). Any person with read access to the repository — including CI systems, contractors, or in the event of a source leak — can obtain the credentials needed to sign APKs as the official application. Production release signing credentials must never be committed to source control; they should be injected at build time via environment variables or a secrets manager. The DEV and UAT credentials sharing the same password as RELEASE further compounds the risk.

#### A104-8: All three environments share a single keystore file and identical credentials (HIGH)
- File: `gradle.properties`, Lines: 19-32
- Description: `DEV_STORE_FILE`, `UAT_STORE_FILE`, and `RELEASE_STORE_FILE` all point to the same file `../fleetiq.jks`, and all three use the same password (`ciadmin`) and the same alias (`fleetiq`). There is no separation between development, testing, and production signing keys. Compromise of the keystore (or its plaintext password) simultaneously compromises all environments, including production. No comment explains whether this is intentional or a pending TODO.

#### A104-9: -XX:MaxPermSize JVM argument is obsolete (INFO)
- File: `gradle.properties`, Line: 13
- Description: `-XX:MaxPermSize=512m` was removed in Java 8 (PermGen was replaced by Metaspace). The argument is silently ignored on all modern JVMs but indicates the configuration has not been reviewed since before Java 8. No comment notes that this flag is a no-op.

#### A104-10: HeapDumpOnOutOfMemoryError enabled with no dump path or handling comment (LOW)
- File: `gradle.properties`, Line: 13
- Description: `-XX:+HeapDumpOnOutOfMemoryError` causes the JVM to write a heap dump to the working directory on OOM. Heap dumps may contain sensitive data (credentials, tokens, in-memory secrets). No comment explains where dumps are written, how they are handled, or whether they are excluded from CI artifact retention.

---

## File: gradle/wrapper/gradle-wrapper.properties

### Reading Evidence
- Purpose: Specifies the Gradle wrapper distribution to download and cache.
- Key settings: `distributionUrl=https://services.gradle.org/distributions/gradle-4.1-all.zip`; stores under `GRADLE_USER_HOME/wrapper/dists`.

### Findings

#### A104-11: Gradle wrapper version severely outdated (HIGH)
- File: `gradle/wrapper/gradle-wrapper.properties`, Line: 3
- Description: Gradle 4.1 was released in August 2017. The current stable release as of early 2026 is Gradle 8.x. Gradle 4.1 predates numerous dependency verification features, build cache security improvements, and CVE fixes. No comment explains why this version is pinned or whether upgrading has been evaluated. The `distributionUrl` uses `https`, which is appropriate, but the age of the toolchain is a significant risk.

#### A104-12: No Gradle wrapper checksum verification configured (MEDIUM)
- File: `gradle/wrapper/gradle-wrapper.properties`, Lines: 1-5
- Description: The wrapper properties file contains no `distributionSha256Sum` entry. Without a checksum, the downloaded Gradle distribution is not verified against a known-good hash, meaning a man-in-the-middle attack or a compromised CDN could serve a tampered Gradle binary. Gradle 6.0+ supports `distributionSha256Sum` in this file. While the old Gradle version predates this feature, upgrading Gradle would also unlock checksum verification.

---

## File: app/build.gradle

### Reading Evidence
- Purpose: Application module build configuration; defines signing configs, build types, product flavors (local/dev/uat/prod), and dependencies.
- Key settings:
  - Plugins: `com.android.application`, `realm-android`
  - Signing: three configs (dev, uat, release), all with `v2SigningEnabled false`
  - Build types: defaultConfig inside buildTypes block; release with `minifyEnabled false`
  - Product flavors: `local` (dynamic IP), `dev` (Azure Canada East), `uat` (AWS us-east-1), `prod` (pandora.fleetiq360.com)
  - Dependencies: Volley 1.1.1, Retrofit 2.5.0, Gson 2.8.5, Joda-Time 2.10, MPAndroidChart v3.0.2, Play Services Location 11.8.0, support libs 26.0.2, multidex 1.0.2, Realm (via plugin)

### Findings

#### A104-13: v2SigningEnabled false on all signing configs including release (HIGH)
- File: `app/build.gradle`, Lines: 15, 23, 31
- Description: APK Signature Scheme v2 (introduced in Android 7.0) provides stronger integrity guarantees than the legacy v1 JAR signing scheme. Disabling v2 signing (`v2SigningEnabled false`) on all three configurations — including the production release config — means APKs are signed only with the older, less secure v1 scheme. There is no comment explaining the rationale. The only known legitimate reason to disable v2 signing is compatibility with very old tooling; with `minSdkVersion=21` there is no device-compatibility reason to do so.

#### A104-14: defaultConfig block placed inside buildTypes block (MEDIUM)
- File: `app/build.gradle`, Lines: 36-49
- Description: `defaultConfig` is a child of `android {}`, not of `buildTypes {}`. Placing `defaultConfig` inside `buildTypes` is a structural error. Gradle/AGP silently accepts this in old AGP versions by creating a build type named `defaultConfig`, rather than applying the settings as the true default configuration. This means `applicationId`, `minSdkVersion`, `targetSdkVersion`, `versionCode`, and `versionName` may not be applied to all variants as intended. No comment warns about this non-standard placement.

#### A104-15: minifyEnabled false on release build with no explanation (HIGH)
- File: `app/build.gradle`, Line: 52
- Description: Code shrinking and obfuscation via ProGuard/R8 are disabled for the release build (`minifyEnabled false`). Despite referencing ProGuard files, they have no effect. Without obfuscation, the release APK ships with fully readable class and method names, making reverse-engineering significantly easier. This is a security concern for a fleet management application that may embed authentication logic, BLE communication protocols, or proprietary business rules. No comment explains the reason for disabling minification.

#### A104-16: Hardcoded server URLs including internal IP ranges and cloud instance hostnames (HIGH)
- File: `app/build.gradle`, Lines: 64, 74, 80, 86
- Description: Four `BASE_URL` values are hardcoded directly in the build file:
  - `local`: dynamic LAN IP (`java.net.InetAddress.localHost.hostAddress`) on port 8443
  - `dev`: `forklift360.canadaeast.cloudapp.azure.com:8443`
  - `uat`: `ec2-54-86-82-22.compute-1.amazonaws.com:8443` (a raw AWS EC2 public DNS name, which encodes the public IP `54.86.82.22`)
  - `prod`: `pandora.fleetiq360.com`

  The UAT endpoint encodes a specific public IP address. All URLs use port 8443. No comments document what these servers are, who administers them, whether they are still active, or why non-standard ports are used. The raw AWS DNS name for UAT is particularly concerning as it ties the build permanently to a specific EC2 instance public IP.

#### A104-17: multiDexEnabled true with no comment (INFO)
- File: `app/build.gradle`, Line: 48
- Description: `multiDexEnabled true` is set without a comment explaining the dex method count threshold that necessitated it. This is a minor documentation gap with no security implication.

#### A104-18: Dependency versions pinned and outdated with no comment (MEDIUM)
- File: `app/build.gradle`, Lines: 96-110
- Description: Multiple dependencies are pinned to versions from 2017-2019 with no comment explaining why they are not updated:
  - `com.android.volley:volley:1.1.1` (current: 1.2.1+)
  - `com.squareup.retrofit2:retrofit:2.5.0` (current: 2.11+)
  - `com.google.android.gms:play-services-location:11.8.0` (current: 21+)
  - `com.android.support:*:26.0.2` (AndroidX migration long overdue)
  - `com.android.support:multidex:1.0.2`
  - `com.github.PhilJay:MPAndroidChart:v3.0.2`

  Old versions of networking libraries (Retrofit, Volley) may contain unfixed CVEs. Old Play Services Location version may lack privacy and security patches. No comment documents whether these are pinned for compatibility or have simply not been updated.

#### A104-19: versionCode derived from versionName string manipulation (LOW)
- File: `app/build.gradle`, Lines: 42-43
- Description: `versionCode` is computed by stripping dots from `version_name` (e.g., "1.9.0" → 190). This is a fragile pattern: a four-part version name or a version component with two digits would produce unexpected results (e.g., "1.10.0" → 1100 vs. expected 200). No comment explains the intended version numbering scheme or its limitations.

#### A104-20: local flavor reads local.properties but result is unused (LOW)
- File: `app/build.gradle`, Lines: 61-62
- Description: The `local` product flavor loads `local.properties` via `properties.load(...)` but the loaded `properties` object is never referenced; the `serverUrl` is built from `InetAddress.localHost` regardless. The `properties` variable appears to be dead code. No comment explains the intent. If local.properties was originally meant to supply the server URL, this is a latent bug.

---

## File: app/src/main/AndroidManifest.xml

### Reading Evidence
- Purpose: Application manifest for the `:app` module; declares package, permissions, features, application attributes, activities, services, and FileProvider.
- Key settings:
  - Package: `au.com.collectiveintelligence.fleetiq360`
  - 9 permissions declared (INTERNET, ACCESS_WIFI_STATE, ACCESS_NETWORK_STATE, READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE, CAMERA, BLUETOOTH, BLUETOOTH_ADMIN, ACCESS_FINE_LOCATION)
  - 1 uses-feature: `android.hardware.bluetooth_le` required=true
  - `android:allowBackup="true"`
  - `android:largeHeap="true"`
  - LAUNCHER activity: `ShowPackageAvailable` (autoupdate)
  - 6 BLE/sync/cache services
  - 1 FileProvider
  - 13 activities total

### Findings

#### A104-21: android:allowBackup="true" with no comment (HIGH)
- File: `app/src/main/AndroidManifest.xml`, Line: 18
- Description: `android:allowBackup="true"` enables Android's automatic backup mechanism, which can copy the application's data (including Realm database files, session tokens, cached credentials) to Google Drive or to a connected developer's machine via `adb backup`. For a fleet management application handling BLE device sessions and driver identity data, allowing uncontrolled backup of app data to external storage is a significant privacy and security risk. No comment explains whether backup has been intentionally enabled or has simply not been reviewed.

#### A104-22: BLUETOOTH_ADMIN permission undocumented (MEDIUM)
- File: `app/src/main/AndroidManifest.xml`, Line: 11
- Description: `android.permission.BLUETOOTH_ADMIN` grants the ability to initiate Bluetooth device discovery and pair devices, beyond simple connection. No comment explains what part of the application requires this elevated Bluetooth permission versus the standard `BLUETOOTH` permission. On Android 12+ this permission is superseded by `BLUETOOTH_SCAN` and `BLUETOOTH_CONNECT`; its presence on older API levels without explanation represents an undocumented privilege escalation path.

#### A104-23: ACCESS_FINE_LOCATION permission undocumented (MEDIUM)
- File: `app/src/main/AndroidManifest.xml`, Line: 12
- Description: `android.permission.ACCESS_FINE_LOCATION` grants GPS-level location access. No comment explains whether this is required for BLE scanning (pre-Android 12 requirement), the Play Services Location dependency, or both. The distinction matters for privacy disclosures. The application also declares `ACCESS_WIFI_STATE` but not `ACCESS_COARSE_LOCATION` separately, which is an unusual combination. No rationale is documented.

#### A104-24: WRITE_EXTERNAL_STORAGE permission undocumented (MEDIUM)
- File: `app/src/main/AndroidManifest.xml`, Line: 8
- Description: `android.permission.WRITE_EXTERNAL_STORAGE` grants write access to shared external storage. Given that the app also declares a FileProvider for camera/image use, this broad permission may not be necessary beyond API 18 when using scoped storage patterns. No comment explains what content is written to external storage or why a FileProvider alone is insufficient.

#### A104-25: android:largeHeap="true" with no comment (LOW)
- File: `app/src/main/AndroidManifest.xml`, Line: 21
- Description: `android:largeHeap="true"` requests allocation of a larger-than-normal heap. This is relevant because it affects GC behaviour and can mask memory leaks. No comment explains what part of the application (BLE data processing, Realm, image loading) requires a large heap.

#### A104-26: Launcher activity is autoupdate.activity.ShowPackageAvailable (MEDIUM)
- File: `app/src/main/AndroidManifest.xml`, Lines: 91-98
- Description: The application's LAUNCHER activity (the entry point that appears on the device home screen) is `ShowPackageAvailable`, located under the `autoupdate` package. This means the app's primary entry point is an update-check or package installation screen rather than a standard login or splash activity. No comment explains this design choice. Running a package installation activity as the sole launcher entry point without documentation raises questions about whether arbitrary APK installation flows are exposed at startup.

#### A104-27: No android:networkSecurityConfig declared (HIGH)
- File: `app/src/main/AndroidManifest.xml`, Lines: 16-23
- Description: The `<application>` element does not declare `android:networkSecurityConfig`. This means the app relies on the platform default network security policy. Given that all server URLs use non-standard port 8443 with TLS, and the `local` flavor uses a self-signed or developer certificate on a LAN IP, the absence of a network security config means there is no documented policy for certificate pinning, cleartext traffic restrictions, or debug-vs-release TLS trust anchor differences. For a BLE + remote server application handling fleet and driver data, certificate pinning should be documented and justified.

#### A104-28: BleMachineService and BleControlService declared without exported attribute (MEDIUM)
- File: `app/src/main/AndroidManifest.xml`, Lines: 99-106
- Description: Five of the six declared services (`BleMachineService`, `ShockEventService`, `SyncService`, `CacheService`, `BleDataService`, `BleControlService`) do not set `android:exported`. On Android 12+ (API 31+), services without an explicit `exported` attribute that also define intent filters will cause a build/install failure. Services without `exported="false"` explicitly set are potentially accessible to other applications. Although `targetSdkVersion=26` reduces immediate enforcement risk, the missing declarations leave security posture undocumented. `SessionTimeoutJobService` correctly sets `android:permission="android.permission.BIND_JOB_SERVICE"` but also lacks `android:exported`.

---

## File: LibCommon/build.gradle

### Reading Evidence
- Purpose: Build configuration for the shared common library module.
- Key settings: `lintOptions { abortOnError false }`, no signing config, SDK versions from project ext, dependencies on Gson 2.8.5, appcompat-v7:26.0.2, design:26.0.2, and `:LibPercentProgress`.

### Findings

#### A104-29: lintOptions abortOnError false with no comment (MEDIUM)
- File: `LibCommon/build.gradle`, Lines: 4-6
- Description: Lint errors are silently suppressed (`abortOnError false`). Lint can detect security-relevant issues (e.g., insecure random, exported component warnings, deprecated API usage). Suppressing lint error failures without a comment means there is no record of what lint issues exist or why suppression was chosen. This is also present in `LibImagePicker/build.gradle`.

#### A104-30: minifyEnabled false on release with no comment (LOW)
- File: `LibCommon/build.gradle`, Line: 19
- Description: Release build has `minifyEnabled false`. As a library, this is acceptable (the consuming app's ProGuard would apply), but there is no comment explaining that minification is intentionally deferred to the consuming application. Given the app module also has `minifyEnabled false`, no minification occurs at any level.

---

## File: LibCommon/src/main/AndroidManifest.xml

### Reading Evidence
- Purpose: Manifest for the LibCommon library; declares its package and required permissions.
- Key settings: Package `com.yy.libcommon`, permissions: ACCESS_NETWORK_STATE, ACCESS_WIFI_STATE, VIBRATE; `android:allowBackup="true"`.

### Findings

#### A104-31: VIBRATE permission in library manifest undocumented (LOW)
- File: `LibCommon/src/main/AndroidManifest.xml`, Line: 7
- Description: `android.permission.VIBRATE` is declared in a shared library module manifest. No comment explains what feature of LibCommon requires vibration capability. Permissions declared in library manifests are merged into the app's final manifest, so this permission is silently added to the application's permission set. Reviewers and users would not see this explained anywhere in the codebase.

#### A104-32: android:allowBackup="true" in library manifest (LOW)
- File: `LibCommon/src/main/AndroidManifest.xml`, Line: 9
- Description: Library manifests should not set `android:allowBackup` as this attribute is meaningful only on the application element of the final merged manifest. Setting it in a library can cause manifest merger conflicts or confusion. No comment explains why it is set.

---

## File: LibCircleImageView/build.gradle

### Reading Evidence
- Purpose: Build configuration for the circle image view UI library.
- Key settings: Standard library plugin, SDK versions from ext, single dependency: `support-annotations:26.0.2` (compileOnly).

### Findings

No findings. This is a minimal, well-scoped library build file. The use of `compileOnly` for annotations is appropriate. The outdated support library version is covered by the project-wide finding A104-18.

---

## File: LibCircleImageView/src/main/AndroidManifest.xml

### Reading Evidence
- Purpose: Minimal manifest for the circle image view library.
- Key settings: Package `de.hdodenhof.circleimageview`; empty `<application />`.

### Findings

#### A104-33: Package name suggests vendored third-party library (INFO)
- File: `LibCircleImageView/src/main/AndroidManifest.xml`, Line: 3
- Description: The package `de.hdodenhof.circleimageview` is the namespace of the well-known open-source CircleImageView library by Henning Dodenhof. Including it as a local module rather than as a versioned dependency means updates, security patches, and bug fixes from the upstream library will not be received automatically. No comment documents the version of the vendored library or the reason for inlining it rather than using a dependency.

---

## File: LibImagePicker/build.gradle

### Reading Evidence
- Purpose: Build configuration for the image picker library module.
- Key settings: `lintOptions { abortOnError false }`, release build with `minifyEnabled false`, dependencies on appcompat-v7, `:LibImageloader`, Glide 4.0.0, Picasso 2.4.0; two commented-out dependencies (Butterknife, Universal Image Loader); `fileTree` local jar dependency.

### Findings

#### A104-34: Both Glide and Picasso included as active dependencies (MEDIUM)
- File: `LibImagePicker/build.gradle`, Lines: 30-31
- Description: `com.github.bumptech.glide:glide:4.0.0` and `com.squareup.picasso:picasso:2.4.0` are both declared as active `implementation` dependencies. Including two image loading libraries simultaneously increases APK size and creates ambiguity about which is actually used. Picasso 2.4.0 is particularly old (2014-era). There is no comment explaining why both are present. The two commented-out alternatives (Butterknife, Universal Image Loader) further suggest the dependency set is in an unresolved transitional state.

#### A104-35: fileTree local jar dependency undocumented (MEDIUM)
- File: `LibImagePicker/build.gradle`, Line: 25
- Description: `implementation fileTree(include: ['*.jar'], dir: 'libs')` includes all `.jar` files from the local `libs/` directory without identifying them. The content, version, provenance, and licensing of these jars are entirely undocumented in the build file. Local jar dependencies bypass dependency resolution and are invisible to dependency scanning tools.

#### A104-36: Glide version 4.0.0 outdated (LOW)
- File: `LibImagePicker/build.gradle`, Line: 30
- Description: Glide 4.0.0 was released in 2017; the current stable version is 4.16+. Older Glide versions may have known vulnerabilities related to arbitrary URL loading or cache poisoning. No comment pins the version for a specific reason.

---

## File: LibImagePicker/src/main/AndroidManifest.xml

### Reading Evidence
- Purpose: Manifest for the image picker library; declares permissions and three activities (ImageCropActivity, ImagePreviewActivity, ImagesGridActivity).
- Key settings: READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE; all activities use `Theme.NoTitleBar`; `android:allowBackup="true"`.

### Findings

#### A104-37: READ_EXTERNAL_STORAGE and WRITE_EXTERNAL_STORAGE in library manifest (MEDIUM)
- File: `LibImagePicker/src/main/AndroidManifest.xml`, Lines: 5-6
- Description: Both storage permissions are declared in the library manifest. These will be merged into the app's final manifest. While image picking from the gallery requires read access, write access may not be necessary if the library only reads images. No comment explains which activities require which permission, or whether write access is needed at all. On Android 10+ (API 29+), scoped storage reduces but does not eliminate the impact of these declarations.

#### A104-38: android:allowBackup="true" in library manifest (LOW)
- File: `LibImagePicker/src/main/AndroidManifest.xml`, Line: 9
- Description: Same issue as A104-32 for LibCommon. The `allowBackup` attribute is set in a library manifest where it has no meaningful effect and may cause manifest merge warnings.

#### A104-39: Package name suggests vendored third-party library (INFO)
- File: `LibImagePicker/src/main/AndroidManifest.xml`, Line: 3
- Description: Package `com.pizidea.imagepicker` identifies this as a vendored third-party library. No comment documents the version, source repository, or last synchronisation date, making security patch tracking impossible.

---

## File: LibImageloader/build.gradle

### Reading Evidence
- Purpose: Build configuration for the image loader library.
- Key settings: versionCode=40, versionName="1.9.5"; test dependencies only (JUnit, Robolectric, AssertJ-Android); custom Gradle tasks to build a sources JAR and additional JARs per library variant.

### Findings

#### A104-40: Library versionCode/versionName mismatches app version (LOW)
- File: `LibImageloader/build.gradle`, Lines: 11-12
- Description: `LibImageloader` declares `versionCode=40` and `versionName="1.9.5"`, while the app is at version 1.9.0 (versionCode 190). Library version numbers inside Android library `defaultConfig` blocks are ignored by the build system (they apply only to standalone APKs), but the presence of a higher version number than the app itself with no comment is confusing and suggests the library may have been developed on a different version track without documentation.

#### A104-41: Robolectric 3.2.2 test dependency severely outdated (LOW)
- File: `LibImageloader/build.gradle`, Line: 19
- Description: `org.robolectric:robolectric:3.2.2` dates from 2016. While test dependencies do not ship in production builds, they may contain vulnerabilities exploitable during CI build execution. No comment explains the version pin.

#### A104-42: apply plugin: 'com.android.library' applied twice (MEDIUM)
- File: `LibPercentProgress/build.gradle`, Lines: 1, 18
- Description: `apply plugin: 'com.android.library'` appears at both line 1 (top of file) and line 18 (inside the `android {}` block). The second application is inside the android closure which is semantically incorrect and non-standard. In Gradle, applying a plugin inside another block's closure has undefined behaviour in old AGP versions. No comment explains the duplication. This is noted under LibImageloader's reading because the same agent scope covers this file.

  Note: This finding refers to `LibPercentProgress/build.gradle`.

---

## File: LibImageloader/src/main/AndroidManifest.xml

### Reading Evidence
- Purpose: Minimal manifest for the image loader library.
- Key settings: Package `com.nostra13.universalimageloader`; self-closing manifest with no application or permissions.

### Findings

#### A104-43: Package namespace identifies vendored Universal Image Loader library (INFO)
- File: `LibImageloader/src/main/AndroidManifest.xml`, Line: 3
- Description: The package `com.nostra13.universalimageloader` is the namespace of Universal Image Loader (UIL) by Sergey Tarasevich. UIL has been unmaintained since 2015. The library is vendored locally rather than consumed as a versioned dependency. No comment documents the version of UIL inlined, the reason for vendoring, or the fact that UIL is abandoned upstream. The project's active use of Glide and Picasso (in LibImagePicker) alongside a vendored UIL library suggests the library set is in an unresolved transitional state.

---

## File: LibPercentProgress/build.gradle

### Reading Evidence
- Purpose: Build configuration for the percent progress UI library.
- Key settings: `apply plugin: 'com.android.library'` duplicated (lines 1 and 18); no signing, no minification; dependencies on appcompat-v7:26.0.2 and design:26.0.2; local jar fileTree dependency.

### Findings

#### A104-44: apply plugin declared twice including once inside android block (MEDIUM)
- File: `LibPercentProgress/build.gradle`, Lines: 1, 18
- Description: `apply plugin: 'com.android.library'` is declared at line 1 (correct location) and again at line 18 inside the `android {}` closure (incorrect). Plugin application inside a configuration block is not a supported pattern and may silently fail or produce warnings. No comment explains the duplication.

#### A104-45: fileTree local jar dependency in LibPercentProgress (MEDIUM)
- File: `LibPercentProgress/build.gradle`, Line: 22
- Description: Same issue as A104-35. `implementation fileTree(include: ['*.jar'], dir: 'libs')` includes unidentified local jars. No documentation of jar contents, versions, or provenance.

---

## File: LibPercentProgress/src/main/AndroidManifest.xml

### Reading Evidence
- Purpose: Manifest for the percent progress UI library.
- Key settings: Package `com.natasa.progresspercent`; empty application element with `allowBackup="true"`, `supportsRtl="true"`.

### Findings

#### A104-46: android:allowBackup="true" in library manifest (LOW)
- File: `LibPercentProgress/src/main/AndroidManifest.xml`, Line: 7
- Description: Same issue as A104-32 and A104-38. The `allowBackup` attribute is meaningless in a library manifest and its presence across three library manifests (LibCommon, LibImagePicker, LibPercentProgress) suggests these library manifests were generated from an application template and never reviewed.

#### A104-47: Package name suggests vendored third-party library (INFO)
- File: `LibPercentProgress/src/main/AndroidManifest.xml`, Line: 3
- Description: Package `com.natasa.progresspercent` identifies this as a vendored third-party custom view component. No comment documents the source, version, or maintenance status of the vendored code.

---

## Summary Table

| ID | Severity | File | Issue |
|----|----------|------|-------|
| A104-7 | CRITICAL | gradle.properties | Plaintext keystore passwords in version-controlled file |
| A104-1 | HIGH | build.gradle (root) | AGP 3.0.0 severely outdated |
| A104-3 | HIGH | build.gradle (root) | jcenter() repository deprecated/shutdown |
| A104-5 | HIGH | build.gradle (root) | compileSdk/targetSdk 26 — Play Store non-compliant |
| A104-11 | HIGH | gradle-wrapper.properties | Gradle 4.1 severely outdated |
| A104-13 | HIGH | app/build.gradle | v2SigningEnabled false on all configs incl. release |
| A104-15 | HIGH | app/build.gradle | minifyEnabled false on release — no obfuscation |
| A104-16 | HIGH | app/build.gradle | Hardcoded server URLs with raw EC2 public DNS/IP |
| A104-8 | HIGH | gradle.properties | All environments share one keystore with same credentials |
| A104-21 | HIGH | app AndroidManifest | allowBackup=true — app data exposed to adb/cloud backup |
| A104-27 | HIGH | app AndroidManifest | No networkSecurityConfig — no certificate policy |
| A104-2 | MEDIUM | build.gradle (root) | Realm 3.7.2 EOL, undocumented version pin |
| A104-4 | MEDIUM | build.gradle (root) | jitpack.io supply-chain risk undocumented |
| A104-12 | MEDIUM | gradle-wrapper.properties | No distributionSha256Sum checksum verification |
| A104-14 | MEDIUM | app/build.gradle | defaultConfig incorrectly placed inside buildTypes |
| A104-18 | MEDIUM | app/build.gradle | Multiple dependency versions outdated, no rationale |
| A104-22 | MEDIUM | app AndroidManifest | BLUETOOTH_ADMIN undocumented |
| A104-23 | MEDIUM | app AndroidManifest | ACCESS_FINE_LOCATION undocumented |
| A104-24 | MEDIUM | app AndroidManifest | WRITE_EXTERNAL_STORAGE undocumented |
| A104-26 | MEDIUM | app AndroidManifest | Launcher is autoupdate activity — undocumented design |
| A104-28 | MEDIUM | app AndroidManifest | Services missing android:exported attribute |
| A104-29 | MEDIUM | LibCommon/build.gradle | lintOptions abortOnError false, no comment |
| A104-34 | MEDIUM | LibImagePicker/build.gradle | Glide and Picasso both active — duplicated image libs |
| A104-35 | MEDIUM | LibImagePicker/build.gradle | fileTree local jars — undocumented provenance |
| A104-37 | MEDIUM | LibImagePicker AndroidManifest | Storage permissions in library manifest undocumented |
| A104-42 | MEDIUM | LibPercentProgress/build.gradle | apply plugin declared twice incl. inside android block |
| A104-44 | MEDIUM | LibPercentProgress/build.gradle | Duplicate plugin apply in LibPercentProgress |
| A104-45 | MEDIUM | LibPercentProgress/build.gradle | fileTree local jars — undocumented provenance |
| A104-9 | INFO | gradle.properties | -XX:MaxPermSize obsolete JVM arg |
| A104-10 | LOW | gradle.properties | HeapDumpOnOutOfMemoryError — no dump path/handling comment |
| A104-17 | INFO | app/build.gradle | multiDexEnabled without explanation |
| A104-19 | LOW | app/build.gradle | versionCode from string manipulation — fragile pattern |
| A104-20 | LOW | app/build.gradle | local.properties loaded but result unused (dead code) |
| A104-25 | LOW | app AndroidManifest | largeHeap=true undocumented |
| A104-30 | LOW | LibCommon/build.gradle | minifyEnabled false — no comment on deferral intent |
| A104-31 | LOW | LibCommon AndroidManifest | VIBRATE permission in library manifest undocumented |
| A104-32 | LOW | LibCommon AndroidManifest | allowBackup in library manifest |
| A104-33 | INFO | LibCircleImageView AndroidManifest | Vendored third-party lib, no version documented |
| A104-36 | LOW | LibImagePicker/build.gradle | Glide 4.0.0 outdated |
| A104-38 | LOW | LibImagePicker AndroidManifest | allowBackup in library manifest |
| A104-39 | INFO | LibImagePicker AndroidManifest | Vendored third-party lib, no version documented |
| A104-40 | LOW | LibImageloader/build.gradle | Library version number higher than app version |
| A104-41 | LOW | LibImageloader/build.gradle | Robolectric 3.2.2 outdated test dependency |
| A104-43 | INFO | LibImageloader AndroidManifest | Vendored abandoned UIL library, no version documented |
| A104-46 | LOW | LibPercentProgress AndroidManifest | allowBackup in library manifest |
| A104-47 | INFO | LibPercentProgress AndroidManifest | Vendored third-party lib, no version documented |
| A104-6 | INFO | settings.gradle | No comments describing module purposes |
