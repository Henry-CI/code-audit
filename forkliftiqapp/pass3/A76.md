# Pass 3 Findings: A76

## File: APKUpdateService.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/autoupdate/service/APKUpdateService.java`

### Reading Evidence
- Class: `APKUpdateService` (public interface)
- Public Methods:
  - `getLatestAvailableUpdate(String pkgName, String version)` (line 13)
  - `downloadPackage(String packageUrl)` (line 15)
- Constants/Types: None defined. Uses Retrofit annotations `@GET`, `@Path`, `@Query`, `@Url`.

### Findings

#### A76-1: `getLatestAvailableUpdate` has no Javadoc [INFO]
- File: APKUpdateService.java, Line: 13
- Description: The method `getLatestAvailableUpdate(@Path("pkgname") String pkgName, @Query("version") String version)` has no Javadoc comment. There is no description of its purpose, parameters (`pkgName`, `version`), or return type (`Call<APKPackage>`). The method maps to `GET rest/apk/{pkgname}/update` with a `version` query parameter.

#### A76-2: `downloadPackage` has no Javadoc [INFO]
- File: APKUpdateService.java, Line: 15
- Description: The method `downloadPackage(@Url String packageUrl)` has no Javadoc comment. There is no description of its purpose, the `packageUrl` parameter, or return type (`Call<ResponseBody>`). The method makes a dynamic-URL GET request to download a package binary.

---

## File: APKUpdateServiceFactory.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/autoupdate/service/APKUpdateServiceFactory.java`

### Reading Evidence
- Class: `APKUpdateServiceFactory` (public class)
- Public Methods:
  - `getService()` (line 10) — static factory method returning `APKUpdateService`
- Constants/Types: None defined. Relies on `BuildConfig.BASE_URL` (generated constant) and uses Retrofit with `GsonConverterFactory`.

### Findings

#### A76-3: `getService` has no Javadoc [INFO]
- File: APKUpdateServiceFactory.java, Line: 10
- Description: The static factory method `getService()` has no Javadoc comment. There is no description of its purpose, the Retrofit configuration it applies (base URL normalisation, Gson conversion, OkHttpClient wiring), or its return value. The inline comment `//noinspection ConstantConditions depends on generated code` on line 12 documents a suppressed IDE warning but does not substitute for method-level documentation. The base URL normalisation logic (appending `/` when absent, line 14) is also undocumented.

---

## File: OkHttpClientFactory.java
**Full path:** `app/src/main/java/au/com/collectiveintelligence/fleetiq360/autoupdate/util/OkHttpClientFactory.java`

### Reading Evidence
- Class: `OkHttpClientFactory` (public class)
- Public Methods:
  - `getOkHttpClient()` (line 13) — static factory method returning `OkHttpClient`
- Constants/Types: None defined. Uses `FakeX509TrustManager`, `Dispatcher`, `TokenAuthenticator`, and an anonymous `HostnameVerifier`.

### Findings

#### A76-4: `getOkHttpClient` has no Javadoc [INFO]
- File: OkHttpClientFactory.java, Line: 13
- Description: The static factory method `getOkHttpClient()` has no Javadoc comment. The method performs several security-significant and operationally notable behaviours that are entirely undocumented:
  1. **SSL bypass (line 16-17):** Installs `FakeX509TrustManager` via `getUnsafeSSLContext()`, disabling certificate chain validation.
  2. **Hostname verification bypass (lines 18-24):** Installs an anonymous `HostnameVerifier` that unconditionally returns `true` (suppressed with `@SuppressLint("BadHostnameVerifier")`), meaning no hostname is ever rejected.
  3. **Concurrency limit (lines 26-28):** Sets `Dispatcher.maxRequests` to 1, serialising all HTTP requests through this client.
  4. **Authentication (line 29):** Attaches a `TokenAuthenticator` for 401/407 challenge handling.
  5. **Exception handling (lines 31-33):** Catches all checked exceptions and re-throws as `RuntimeException`, so callers receive no checked exception contract.
  The absence of any documentation for these behaviours — particularly the intentional SSL and hostname verification bypass — represents a notable documentation gap given the security sensitivity of the configuration.
