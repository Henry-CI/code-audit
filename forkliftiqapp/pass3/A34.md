# Pass 3 Findings: A34

## File: ImageDecodingInfo.java
**Full path:** `LibImageloader/src/main/java/com/nostra13/universalimageloader/core/decode/ImageDecodingInfo.java`

### Reading Evidence
- Class: `ImageDecodingInfo` (public class, since 1.8.3)
- Public Methods:
  - `ImageDecodingInfo(String, String, String, ImageSize, ViewScaleType, ImageDownloader, DisplayImageOptions)` constructor (line 50)
  - `getImageKey()` (line 96)
  - `getImageUri()` (line 101)
  - `getOriginalImageUri()` (line 105)
  - `getTargetSize()` (line 114)
  - `getImageScaleType()` (line 122)
  - `getViewScaleType()` (line 127)
  - `getDownloader()` (line 132)
  - `getExtraForDownloader()` (line 137)
  - `shouldConsiderExifParams()` (line 142)
  - `getDecodingOptions()` (line 147)
- Constants/Types: None (all fields are private final instance variables)
- Private Methods (not audited): `copyOptions(Options, Options)` (line 68), `copyOptions10(Options, Options)` (line 85), `copyOptions11(Options, Options)` (line 90)

### Findings

#### A34-1: Public constructor has no Javadoc [INFO]
- File: `ImageDecodingInfo.java`, Line: 50
- Description: The sole public constructor `ImageDecodingInfo(String imageKey, String imageUri, String originalImageUri, ImageSize targetSize, ViewScaleType viewScaleType, ImageDownloader downloader, DisplayImageOptions displayOptions)` has no Javadoc comment. None of the seven parameters are documented. Callers have no formal description of what each argument represents, what constraints apply, or what side-effects occur during construction (e.g., that `decodingOptions` is defensively copied from `displayOptions.getDecodingOptions()` rather than stored by reference).

---

## File: BitmapDisplayer.java
**Full path:** `LibImageloader/src/main/java/com/nostra13/universalimageloader/core/display/BitmapDisplayer.java`

### Reading Evidence
- Class: `BitmapDisplayer` (public interface, since 1.5.6)
- Public Methods:
  - `display(Bitmap bitmap, ImageAware imageAware, LoadedFrom loadedFrom)` (line 42)
- Constants/Types: None

### Findings

No findings. The single interface method `display()` has a complete and accurate Javadoc comment describing the method purpose, the UI-thread constraint, and all three parameters.

---

## File: CircleBitmapDisplayer.java
**Full path:** `LibImageloader/src/main/java/com/nostra13/universalimageloader/core/display/CircleBitmapDisplayer.java`

### Reading Evidence
- Class: `CircleBitmapDisplayer` (public class, implements `BitmapDisplayer`, since 1.9.5)
- Public Methods on `CircleBitmapDisplayer`:
  - `CircleBitmapDisplayer()` no-arg constructor (line 50)
  - `CircleBitmapDisplayer(Integer strokeColor)` constructor (line 54)
  - `CircleBitmapDisplayer(Integer strokeColor, float strokeWidth)` constructor (line 58)
  - `display(Bitmap bitmap, ImageAware imageAware, LoadedFrom loadedFrom)` (line 64) — `@Override`
- Nested public static class: `CircleDrawable extends Drawable` (line 72)
- Public Methods on `CircleDrawable`:
  - `CircleDrawable(Bitmap bitmap, Integer strokeColor, float strokeWidth)` constructor (line 84)
  - `draw(Canvas canvas)` (line 123) — `@Override`
  - `getOpacity()` (line 131) — `@Override`
  - `setAlpha(int alpha)` (line 136) — `@Override`
  - `setColorFilter(ColorFilter cf)` (line 141) — `@Override`
- Protected fields (part of public API surface of `CircleDrawable`): `radius`, `mRect`, `mBitmapRect`, `bitmapShader`, `paint`, `strokePaint`, `strokeWidth`, `strokeRadius`
- Protected fields on `CircleBitmapDisplayer`: `strokeColor`, `strokeWidth`
- Constants/Types: None

### Findings

#### A34-2: All three public constructors of CircleBitmapDisplayer are undocumented [INFO]
- File: `CircleBitmapDisplayer.java`, Lines: 50, 54, 58
- Description: None of the three public constructors have any Javadoc. The no-arg constructor (line 50) creates an instance with no stroke. The single-argument constructor (line 54) accepts a stroke color with zero width. The two-argument constructor (line 58) accepts both stroke color and stroke width. There is no documentation explaining the meaning or accepted values of `strokeColor` (it is an `Integer` and passing `null` disables the stroke, as revealed only by reading the `CircleDrawable` constructor body at line 96) or `strokeWidth` (units are unspecified — pixels are implied but not stated).

#### A34-3: display() override does not document its IllegalArgumentException [MEDIUM]
- File: `CircleBitmapDisplayer.java`, Line: 64
- Description: The `display()` method override throws `IllegalArgumentException` at line 66 if `imageAware` is not an instance of `ImageViewAware`. This exception is not documented anywhere on the method. The class-level Javadoc (line 35-44) states the implementation "works only with ImageViews wrapped in ImageViewAware" but does not describe the failure mode (an unchecked exception). Because `display()` is called from the image loading framework and the `imageAware` type is typically determined by the caller, a developer passing a non-`ImageViewAware` implementation of `ImageAware` will receive a runtime exception with no prior warning from the API documentation. A `@throws IllegalArgumentException` tag on the method (or at minimum on the class) is needed.

#### A34-4: CircleDrawable public class and its public constructor are undocumented [INFO]
- File: `CircleBitmapDisplayer.java`, Lines: 72, 84
- Description: The public static nested class `CircleDrawable` has no class-level Javadoc. Its public constructor `CircleDrawable(Bitmap bitmap, Integer strokeColor, float strokeWidth)` (line 84) is also undocumented. The constructor has a non-obvious behaviour: when `strokeColor` is `null` the `strokePaint` field is set to `null` and no stroke is drawn; when non-null, a stroke is rendered. The `strokeWidth` parameter is used both to set `Paint.setStrokeWidth` and to compute `strokeRadius = radius - strokeWidth / 2`, meaning extremely large values will produce a negative or zero stroke radius. None of this is documented for callers who may instantiate `CircleDrawable` directly.

#### A34-5: draw() does not document that circle origin is always (radius, radius) [INFO]
- File: `CircleBitmapDisplayer.java`, Line: 123
- Description: The `draw(Canvas canvas)` override calls `canvas.drawCircle(radius, radius, radius, paint)`, which centres the circle at coordinates `(radius, radius)` within the canvas. This is only correct when the drawable bounds start at `(0, 0)`, which is the normal case after `onBoundsChange` sets `mRect` from `(0, 0)` to `(bounds.width(), bounds.height())`. However, there is no documentation noting this assumption. If the drawable were ever used with bounds offset from the origin, the rendering would be incorrect. The absence of any Javadoc on `draw()` means this constraint is invisible to subclassers who may override or extend `onBoundsChange`.
