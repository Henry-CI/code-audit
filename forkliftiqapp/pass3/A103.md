# Pass 3 Findings: A103

## File: app/src/main/java/au/com/collectiveintelligence/fleetiq360/util/ServerDateFormatter.java

### Reading Evidence

- **Class**: `ServerDateFormatter` (line 9)
- **Public Methods**:
  - `ServerDateFormatter()` constructor (line 13)
  - `formatDate(Date date)` (line 21)
  - `formatDateTime(Date date)` (line 25)
  - `parseDate(String date)` (line 29)
  - `parseDateTime(String date)` (line 34)
- **Constants/Types**: None. Two private instance fields:
  - `dateFormat` — `SimpleDateFormat` initialised with pattern `"yyyy-MM-dd"`, `Locale.US`, timezone `GMT`
  - `dateTimeFormat` — `SimpleDateFormat` initialised with pattern `"yyyy-MM-dd HH:mm:ss"`, `Locale.US`, timezone `GMT`

---

### Findings

#### A103-1: No Javadoc on class `ServerDateFormatter` [INFO]

- **File**: `util/ServerDateFormatter.java`, Line: 9
- **Description**: The class has no class-level Javadoc comment. There is no description of its purpose, the date/time formats it supports, or the timezone and locale assumptions it encodes (`GMT`, `Locale.US`). These are non-obvious defaults that callers need to understand.

---

#### A103-2: No Javadoc on constructor `ServerDateFormatter()` [INFO]

- **File**: `util/ServerDateFormatter.java`, Line: 13
- **Description**: The constructor is undocumented. It silently fixes the timezone to `GMT` and the locale to `Locale.US` for both formatters. Callers have no indication that all formatting and parsing is relative to GMT; this is a critical contract detail for any code that also works with device-local time.

---

#### A103-3: No Javadoc on `formatDate(Date date)` [INFO]

- **File**: `util/ServerDateFormatter.java`, Line: 21
- **Description**: The method is undocumented. There is no description of the output format (`yyyy-MM-dd`), the timezone applied (`GMT`), or what happens when `date` is `null` (the underlying `SimpleDateFormat.format` will throw a `NullPointerException`).

---

#### A103-4: No Javadoc on `formatDateTime(Date date)` [INFO]

- **File**: `util/ServerDateFormatter.java`, Line: 25
- **Description**: The method is undocumented. There is no description of the output format (`yyyy-MM-dd HH:mm:ss`), the timezone applied (`GMT`), or the behaviour for a `null` argument.

---

#### A103-5: No Javadoc on `parseDate(String date)` [INFO]

- **File**: `util/ServerDateFormatter.java`, Line: 29
- **Description**: The method is undocumented. Key contract details that are not captured anywhere: (a) the expected input format is `yyyy-MM-dd`; (b) the method explicitly returns `null` for a `null` or empty string argument; (c) parsing is relative to timezone `GMT`.

---

#### A103-6: No Javadoc on `parseDateTime(String date)` and undocumented asymmetric null behaviour [LOW]

- **File**: `util/ServerDateFormatter.java`, Line: 34
- **Description**: The method is undocumented. Unlike `parseDate`, which guards against `null` and empty input and returns `null` safely (line 30), `parseDateTime` performs no such check. Passing `null` causes `SimpleDateFormat.parse` to throw a `NullPointerException`. This asymmetry between the two parse methods is an undocumented behavioural contract difference that callers cannot discover without reading the source. The absence of any Javadoc — including a `@throws NullPointerException` or `@param` note about valid input — raises the risk of incorrect call-site assumptions, especially given the superficially symmetric API. Severity is LOW (documentation gap); the underlying asymmetry is a separate code-quality concern.
