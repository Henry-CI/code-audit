# Pass 0: Process Review — api_server
**Date:** 2026-02-27
**Run:** 01
**Branch:** master
**Reviewer:** main conversation (no subagents)

---

## Documents Reviewed

| File | Description |
|---|---|
| `README.md` | Root project README |
| `todo.md` | Developer task list |
| `geonames-elixir/README.md` | Vendored third-party library README |
| `CLAUDE.md` | **Does not exist** |
| `bitbucket-pipelines.yml` | **Does not exist** |

---

## Evidence of Thorough Reading

### README.md
- Document type: Phoenix project README (no functions, types, or constants)
- Content: 4 setup steps (mix deps.get, mix ecto.create && mix ecto.migrate, npm install, mix phx.server), links to phoenixframework.org

### todo.md
- Document type: developer task list (no functions, types, or constants)
- Content: 7 items — Fleet assignment (marked with leading/trailing asterisks), Authentication, Restrictions, More filters, Exceptions API, Odometer / Service Van Type, More timezones

### geonames-elixir/README.md
- Document type: vendored third-party library README (no functions, types, or constants)
- Content: installation, configuration, 35 Geonames API wrapper functions listed

---

## Findings

### P0-1 — No CLAUDE.md exists
**Severity:** MEDIUM
**File:** (absent)

Every pass in both `SKILL-Audit-0Intro.md` and `AUDIT-FRAMEWORK_legacy.md` instructs the auditor to "Check CLAUDE.md for project-specific security concerns" and project-specific conventions. `PASS1-CHECKLIST-api_server.md` similarly assumes CLAUDE.md exists as a reference for project context.

Because no CLAUDE.md is present in the repository, any AI session working on this codebase has no project-specific instructions, constraints, or context. Audit passes will silently skip the CLAUDE.md check rather than surfacing it as a gap. A future session following the audit framework will reach the "check CLAUDE.md" step and either error silently or proceed without the intended context.

**Impact:** All four audit passes lose project-specific guidance. Security-relevant context (e.g., which endpoints are customer-scoped, which services communicate with api_server, known sensitive data types) is undocumented and not available to future sessions.

---

### P0-2 — Branch name in AUDIT-FRAMEWORK_legacy.md is incorrect
**Severity:** LOW
**File:** `/Projects/cig-audit/audit-skills/AUDIT-FRAMEWORK_legacy.md`, line 20

The mapping table specifies:

```
| api_server | Elixir/Phoenix | main |
```

The actual default branch of the repository is `master`, not `main`. A future auditor following the framework will attempt to check out `main`, find it does not exist (or is a different branch), and either abort or audit the wrong branch. This was caught only because the user confirmed the correct branch name interactively — the process document itself cannot be trusted on this point.

**Recommendation:** Update the mapping table to `master`.

---

### P0-3 — README.md is unmodified Phoenix boilerplate
**Severity:** LOW
**File:** `README.md`

The README.md is the default template generated by `mix phx.new` with no project-specific content. It does not describe:
- What the application does or what domain it serves
- Required environment variables or secrets
- Database type, name, or connection requirements
- Production deployment process
- Other CIG services this application integrates with
- Any non-standard setup steps

The `AUDIT-FRAMEWORK_legacy.md` Pass 3 section explicitly checks "Review README.md for accuracy: setup instructions, environment variable requirements, deployment steps." This README provides none of these. A future AI session or new developer following the README would run generic Phoenix setup commands with no project-specific guidance and no understanding of what they are building or running.

---

### P0-4 — todo.md asterisk convention is undefined
**Severity:** INFO
**File:** `todo.md`, line 2

Item 1 is written as `*1) Fleet assignment*`, with asterisks surrounding it. In Markdown this renders as italic text, but in context it could indicate "in progress," "completed," or "highest priority." No legend or convention is documented. A future session reading this file cannot determine whether Fleet assignment is pending, active, or done.

---

### P0-5 — todo.md "Authentication" item has no completion status
**Severity:** INFO
**File:** `todo.md`, line 3

Authentication is listed as item 2 in the todo list with no indication of whether it has been completed. For a fleet management API backend, authentication is a foundational security requirement. The presence of this item in an undated, unstatused task list means a future session cannot determine whether authentication is:
- Not yet implemented
- Partially implemented
- Fully implemented and the todo is stale

This ambiguity is relevant to Pass 1: an auditor reading this list before reviewing the codebase would not know whether to expect authentication to be missing. The item should be removed if complete or annotated with status and scope if still pending.

---

## Summary

| ID | Severity | Description |
|---|---|---|
| P0-1 | MEDIUM | No CLAUDE.md — audit framework references it; its absence silently drops project-specific checks |
| P0-2 | LOW | AUDIT-FRAMEWORK_legacy.md lists branch as `main`; actual branch is `master` |
| P0-3 | LOW | README.md is unmodified boilerplate — no project-specific setup, env vars, or deployment info |
| P0-4 | INFO | todo.md asterisk convention on item 1 is undefined |
| P0-5 | INFO | todo.md "Authentication" item has no completion status, creating ambiguity for future sessions |
