# Pass 4 Agent A04 — Code Quality

**Audit run:** 2026-02-28-01
**Branch:** master
**Files reviewed:**
- `app/cigconfigs.h`
- `app/crctable.cpp`
- `app/driverlist.h`
- `app/driverlist.cpp`

---

## Reading Evidence

### `app/cigconfigs.h`

**Module:** Global configuration header — no class, namespace `CIGCONF` wraps enums and structs.

**Functions/methods defined:** None (header-only, no functions).

**Macros defined (global scope, lines 8–77):**

| Macro | Line |
|---|---|
| `LFF_VERSION` | 8 |
| `SFF_VERSION` | 9 |
| `UFF_VERSION` | 10 |
| `ENG_VERSION` | 11 |
| `F_BUILD` | 12 |
| `C_BUILD` | 13 |
| `BROADCASTMSG_TEXT_LEN` | 15 |
| `GMTP_ID_LEN` | 17 |
| `GMTP_SERVER_CNT` | 18 |
| `SERVER_ADDR_LEN` | 19 |
| `MODEM_DIAL_NUMBER_LEN` | 20 |
| `MODEM_APN_LEN` | 21 |
| `MODEM_APN_USER_LEN` | 22 |
| `MODEM_ICCID_LEN` | 23 |
| `MODEM_APN_PASSWORD_LEN` | 24 |
| `MAX_POLY_POINTS` | 26 |
| `MAX_POLY` | 27 |
| `CHECKLIST_TIME_SLOTS` | 29 |
| `CHECKLIST_MAX_IDX` | 30 |
| `CHECKLIST_QUESTION_LEN` | 31 |
| `CHECKLIST_ITEM_SIZE` | 32 |
| `CHECKLIST_QUESTION_LEN_100` | 33 |
| `CHECKLIST_ITEM_SIZE_100` | 34 |
| `DRIVER_MAX_ID_IDX` | 36 |
| `MASTER_MAX_ID_IDX` | 37 |
| `SUPER_MAX_ID_IDX` | 38 |
| `TECH_MAX_ID_IDX` | 39 |
| `CAN_MAX_HW_PGN` | 42 |
| `CAN_MAX_PGN_IDX` | 43 |
| `CAN_MAX_SPN_IDX` | 44 |
| `CAN_MAX_LINK_IDX` | 45 |
| `CAN_MAX_ATT_IDX` | 46 |
| `CAN_ATT_NAME_LEN` | 47 |
| `CAN_MSG_TYPE` | 48 |
| `CAN_MSG_DLC` | 49 |
| `CAN_SIG_STATUS` | 50 |
| `ON_DEMAND_DURATION` | 53 |
| `WIFI_MAX_NETWORKS` | 56 |
| `WIFI_CONF_FILE` | 57 |
| `FILE_DRIVER_IDS` | 64 |
| `FILE_MASTER_IDS` | 65 |
| `FILE_SUPER_IDS` | 66 |
| `FILE_TECH_IDS` | 67 |
| `FILE_CHECKLIST` | 68 |
| `FILE_CHECKLIST_100` | 69 |
| `FILE_FLEETMS_FW` | 70 |
| `FILE_FLEETMS_FW_RD` | 71 |
| `FILE_LOGIN_SCREEN` | 72 |
| `FILE_LOGIN_SCREEN_RD` | 73 |
| `FILE_ONCEPERDAY_PREOP_IDS` | 74 |
| `DIR_GMTP_MSG` | 76 |
| `SHOW_ALL_MASTER_MENU` (inside namespace block) | 81 |

**Enums (all inside `namespace CIGCONF`):**

| Enum | Line |
|---|---|
| `MasterMenuOptions` | 83 |
| `PowerState` | 86 |
| `ConfigErrorCode` | 88 |
| `FtpErrorCode` | 90 |
| `LeaderCmdType` | 93 |
| `UnlockReasonScreen` | 95 |
| `RealImpact` | 97 |
| `DigitalInputMode` | 99 |
| `LeaderCmd` | 101 |
| `GmtpMessage` | 128 |
| `CheckReason` | 135 |
| `CheckResponses` | 136 |
| `ChecklistType` | 137 |
| `OnDemandCmdType` | 139 |
| `OnDemandCmdSrc` | 140 |
| `MaintLockedCode` | 142 |
| `ShowTimeFormat` | 150 |
| `BleExpansionDI` | 156 |
| `BleExpansionRelay` | 157 |
| `BleExpansionConnectionStatus` | 158 |
| `CanProtocol` | 160 |
| `CanAttributeType` | 162 |
| `WifiPosSource` | 171 |
| `CameraMode` | 173 |

**Structs (all inside `namespace CIGCONF`):**

| Struct | Line |
|---|---|
| `CanMsgLink` | 175 |
| `CanMsgPara` | 180 |
| `CanSigPara` | 188 |
| `CigCanConfig` | 195 |
| `BroadcastMessage` | 245 |
| `WifiNetwork` | 254 |
| `PreopDriverId` | 260 |
| `DriverId` | 265 |
| `MasterId` | 270 |
| `gpsPosStruct` | 276 |
| `polygonStruct` | 281 |
| `position` | 287 |
| `AccessPoint` | 295 |
| `CheckResponse` | 304 |

---

### `app/crctable.cpp`

**Module:** CRC lookup tables — no class, no header.

**Functions defined:** None.

**Constants defined:**

| Symbol | Type | Line |
|---|---|---|
| `crc32Table` | `const quint32[256]` | 6 |
| `crc16Table` | `const quint16[16]` | 41 |

**Forward declarations (lines 3–4):** Both arrays are forward-declared as `extern` before their definitions in the same translation unit.

---

### `app/driverlist.h`

**Class:** `DriverList` (line 9)

**Public methods declared:**

| Method | Line |
|---|---|
| `DriverList()` (constructor) | 12 |
| `readDriverIds()` | 14 |
| `readMasterIds()` | 15 |
| `readSuperIds()` | 16 |
| `readTechIds()` | 17 |
| `saveDriverIds()` | 18 |
| `saveMasterIds()` | 19 |
| `saveSuperIds()` | 20 |
| `saveTechIds()` | 21 |
| `readPreopDriverIds()` | 22 |
| `savePreopDriverIds()` | 23 |
| `driverIds() const` | 25 |
| `masterIds() const` | 26 |
| `superIds() const` | 27 |
| `techIds() const` | 28 |
| `preopDriverIds() const` | 29 |
| `driverId(int) const` | 31 |
| `masterId(int) const` | 32 |
| `masterIdById(quint64) const` | 33 |
| `superId(int) const` | 34 |
| `techId(int) const` | 35 |
| `setDriverId(int, quint64, QString)` | 37 |
| `setMasterId(int, quint64, quint8, QString)` | 38 |
| `setSuperId(int, quint64)` | 39 |
| `setTechId(int, quint64, QString)` | 40 |
| `containsDriverId(quint64) const` | 42 |
| `containsMasterId(quint64, quint8) const` | 50 |
| `containsSuperId(quint64) const` | 63 |
| `containsTechId(quint64) const` | 69 |
| `addDriverId(quint64, QString)` | 77 |
| `addSuperId(quint64)` | 78 |
| `addTechId(quint64, QString)` | 79 |
| `addPreopDriverId(quint64, quint32)` | 80 |
| `removeDriverId(quint64)` | 82 |
| `removeMasterId(quint64)` | 83 |
| `removeSuperId(quint64)` | 84 |
| `removeTechId(quint64)` | 85 |
| `clearDriverIds()` | 87 |
| `clearMasterIds()` | 88 |
| `clearSuperIds()` | 89 |
| `clearTechIds()` | 90 |
| `clearPreopDriverIds()` | 91 |
| `driverChecksum() const` | 93 |
| `masterChecksum() const` | 94 |
| `superChecksum() const` | 95 |
| `techChecksum() const` | 96 |
| `superIsEmpty()` | 98 |
| `getMasterIdIndex(quint64)` | 100 |
| `getDriverIdIndex(quint64)` | 101 |
| `getTechIdIndex(quint64)` | 102 |
| `getPreopDriverIdIndex(quint64)` | 103 |
| `getPreopDriverId(quint64)` | 104 |

**Private member variables:**

| Member | Line |
|---|---|
| `m_driverIds` (`QList<DriverId>`) | 108 |
| `m_masterIds` (`QList<MasterId>`) | 109 |
| `m_superIds` (`QList<quint64>`) | 110 |
| `m_techIds` (`QList<DriverId>`) | 111 |
| `m_preopDriverIds` (`QList<PreopDriverId>`) | 112 |
| `m_driverIdsDirty` (`bool`) | 113 |
| `m_masterIdsDirty` (`bool`) | 114 |
| `m_superIdsDirty` (`bool`) | 115 |
| `m_techIdsDirty` (`bool`) | 116 |
| `m_preopDriverDirty` (`bool`) | 117 |

---

### `app/driverlist.cpp`

**Functions/methods defined:**

| Method | Line |
|---|---|
| `DriverList::DriverList()` | 8 |
| `DriverList::readDriverIds()` | 16 |
| `DriverList::saveDriverIds()` | 45 |
| `DriverList::readMasterIds()` | 66 |
| `DriverList::saveMasterIds()` | 97 |
| `DriverList::readSuperIds()` | 120 |
| `DriverList::saveSuperIds()` | 136 |
| `DriverList::readTechIds()` | 155 |
| `DriverList::saveTechIds()` | 184 |
| `DriverList::readPreopDriverIds()` | 205 |
| `DriverList::savePreopDriverIds()` | 233 |
| `DriverList::setDriverId(int, quint64, QString)` | 267 |
| `DriverList::setMasterId(int, quint64, quint8, QString)` | 285 |
| `DriverList::setSuperId(int, quint64)` | 304 |
| `DriverList::setTechId(int, quint64, QString)` | 317 |
| `DriverList::getDriverIdIndex(quint64)` | 335 |
| `DriverList::addDriverId(quint64, QString)` | 344 |
| `DriverList::getMasterIdIndex(quint64)` | 370 |
| `DriverList::addSuperId(quint64)` | 379 |
| `DriverList::getTechIdIndex(quint64)` | 395 |
| `DriverList::addTechId(quint64, QString)` | 404 |
| `DriverList::getPreopDriverIdIndex(quint64)` | 430 |
| `DriverList::getPreopDriverId(quint64)` | 445 |
| `DriverList::addPreopDriverId(quint64, quint32)` | 455 |
| `DriverList::removeDriverId(quint64)` | 489 |
| `DriverList::removeMasterId(quint64)` | 511 |
| `DriverList::removeSuperId(quint64)` | 529 |
| `DriverList::removeTechId(quint64)` | 543 |
| `DriverList::clearDriverIds()` | 560 |
| `DriverList::clearMasterIds()` | 566 |
| `DriverList::clearSuperIds()` | 572 |
| `DriverList::clearTechIds()` | 578 |
| `DriverList::clearPreopDriverIds()` | 584 |
| `DriverList::driverChecksum() const` | 590 |
| `DriverList::masterChecksum() const` | 601 |
| `DriverList::superChecksum() const` | 613 |
| `DriverList::techChecksum() const` | 624 |
| `DriverList::superIsEmpty()` | 635 |
| `DriverList::masterIdById(quint64) const` | 645 |

---

## Findings

---

**A04-1** · HIGH · `crctable.cpp` has no corresponding header file

**Description:** `crctable.cpp` declares and defines `crc32Table` and `crc16Table` but there is no `crctable.h`. Both consumers (`globalconfigs.cpp` and `backgroundworker.cpp`) repeat `extern const quint32 crc32Table[]` and `extern const quint16 crc16Table[]` declarations inline inside their function bodies. This is a leaky abstraction: the declaration contract is implicit and scattered, making it trivially easy for a future caller to declare the wrong type, wrong element count, or wrong linkage. If the table type ever changes, no compiler error will be produced at the declaration sites.

**Fix:** Create `app/crctable.h` that declares both arrays with `extern const`, include it in `crctable.cpp`, `globalconfigs.cpp`, and `backgroundworker.cpp`, and remove the in-function `extern` declarations.

---

**A04-2** · HIGH · `#define SHOW_ALL_MASTER_MENU 255` placed inside a namespace block

**Description:** At line 81 of `cigconfigs.h`, a `#define` is written between the `namespace CIGCONF {` opening brace and the first `enum`. C preprocessor macros are not scoped by namespaces; the macro is effectively global and the namespace placement gives a false impression that it is namespaced. The value 255 duplicates `UnassignedMasterMenu = 255` from the `MasterMenuOptions` enum defined two lines later, creating two symbols with the same semantic meaning. Searches in the codebase find `SHOW_ALL_MASTER_MENU` used only inside `cigconfigs.h` itself (it is not referenced in any other `.cpp` or `.h` outside this file), confirming it is dead.

**Fix:** Remove the macro. If the value is genuinely needed, add a `ShowAllMasterMenu = 255` enumerator to `MasterMenuOptions` and use that enumerator.

---

**A04-3** · HIGH · `LeaderCmd` enum ordering broken — `CMD_UNKNOWN = 0xff` is not the last enumerator

**Description:** In `cigconfigs.h` lines 101–126, `CMD_UNKNOWN = 0xff` is assigned at line 120, but at least 25 additional enumerators (`CMD_TGFNCE`, `CMD_SCRSAV`, ..., `CMD_CAMERAFLIP`) are appended after it on lines 121–125. Because `CMD_UNKNOWN` uses an explicit value `0xff` (255) and the subsequent enumerators continue numerically from 256 onward, the enumerators after `CMD_UNKNOWN` silently overflow an `int` in the range 256–280. More critically, any `switch` or comparison that uses `CMD_UNKNOWN` as a sentinel "unknown command" value is broken: legitimate commands added after `CMD_UNKNOWN` will never match the sentinel and will be misrouted as unknown. This is a protocol/logic defect introduced by appending new commands without repositioning `CMD_UNKNOWN`.

**Fix:** Move `CMD_UNKNOWN = 0xff` to the end of the enum (or use it only as a runtime initializer, not as an enum member). Assign the newly added commands before `CMD_UNKNOWN` in the sequential value range, or use a separate constant for the sentinel so that the numeric gap cannot arise.

---

**A04-4** · MEDIUM · `CanAttributeType` contains two `Last`-style sentinel enumerators

**Description:** `cigconfigs.h` lines 162–169 define `CanAttributeType` with both `CanAttributeLast` (value 1) and `CanAttributeLast2` (value 5). Having two sentinels with names implying "the last value" is contradictory and confusing. A search confirms `CanAttributeLast2` appears only in `cigconfigs.h` and in CAN handler files, but the naming conveys no clear semantic difference. This is a dead-code / naming smell that indicates a past extension was done without cleaning up the original sentinel.

**Fix:** Rename or remove the older sentinel. If both are genuinely needed as range boundaries for separate sub-ranges, rename them with explicit meaning (e.g., `CanAttributeBasicLast`, `CanAttributeExtendedLast`).

---

**A04-5** · MEDIUM · `CigCanConfig` contains a large anonymous union with many `unused` members that hold real layout

**Description:** `cigconfigs.h` lines 207–243 define an anonymous union inside `CigCanConfig`. The first union member is an array of structs with fields all named `unused3` through `unused10`. This structure is clearly load-bearing for the binary layout of the config block — its presence controls the size and alignment of the union — but the naming actively conceals this. Any engineer reading the code may assume the fields can be freely removed or reordered, leading to silent config corruption. The `void *unused2` pointer at line 192 inside `CanSigPara` carries a comment "set to nullptr", making it a permanent padding placeholder with no type safety.

**Fix:** Replace `unusedN` field names with descriptive names prefixed `_reserved` (e.g., `_reserved_attLegacy`) and add a `static_assert` on the size of `CigCanConfig` to catch accidental layout changes. Replace `void *unused2` with an explicit `quint64 _reserved` or a suitably-typed field.

---

**A04-6** · MEDIUM · Hardcoded Linux filesystem paths in a Qt-targeting header

**Description:** `cigconfigs.h` lines 57 and 64–76 contain hardcoded absolute POSIX paths such as `/etc/wpa_supplicant.conf`, `/home/dlist.txt`, `/mnt/sd/FleetIQ360App`, and `/mnt/ramdisk/login.png`. These paths encode the exact production filesystem layout of the embedded Linux target directly into a shared header. Any build for a development host, unit-test harness, or future hardware revision will silently use wrong paths unless all callers add their own overrides. The paths are also split across two logical groups (modem/network paths and file paths) with no clear separation.

**Fix:** Move filesystem path configuration to a runtime-configurable source (e.g., a config singleton, a compile-time platform layer, or at minimum a separate `platform_paths.h` that is not included in unit-test builds). If the paths must remain as macros, isolate them in a dedicated platform header that is excluded from host-side test compilations via a feature flag.

---

**A04-7** · MEDIUM · `getPreopDriverIdIndex` contains a spurious function-declaration statement

**Description:** `driverlist.cpp` line 433 reads:
```cpp
CIGCONF::PreopDriverId getPreopDriverId(quint64 id);
```
This is a local function declaration placed inside the body of `DriverList::getPreopDriverIdIndex`. It does not call the function and has no effect; the compiler treats it as a forward declaration of a free function and immediately discards it. The statement appears to be copy-paste debris from an earlier draft. It compiles without error only because function declarations are syntactically valid as statements in C++, but it is entirely dead code and obscures the intent of the surrounding loop.

**Fix:** Remove line 433 from `getPreopDriverIdIndex`.

---

**A04-8** · MEDIUM · Commented-out debug block in `addPreopDriverId`

**Description:** `driverlist.cpp` lines 473–483 contain a `#if 0` block that includes a `qDebug()` debug dump using `ByteArray::asprintf`. This dead block was clearly debug scaffolding. The reference to `ByteArray::asprintf` (a non-standard helper) also means the block cannot compile as-is if the `#if 0` were ever removed, making it unmaintainable dead code.

**Fix:** Remove the `#if 0` block entirely. If the debug output is needed, use a proper `qCDebug` category guarded by a logging level rather than a preprocessor block.

---

**A04-9** · MEDIUM · `savePreopDriverIds` uses `QFile` instead of `QSaveFile`, unlike all other save methods

**Description:** All other `save*Ids` methods in `driverlist.cpp` (lines 45–203) use `QSaveFile`, which provides atomic write-then-rename semantics, protecting against file corruption on power loss. `savePreopDriverIds` (line 233) uses a plain `QFile`, meaning a power interruption during the write leaves a truncated or partial file. This is inconsistent with the established pattern in the same class and represents a reliability regression specifically for the once-per-day preop ID list, which is the newest feature.

**Fix:** Replace `QFile` with `QSaveFile` in `savePreopDriverIds` and call `file.commit()` as done in the other save methods.

---

**A04-10** · MEDIUM · `savePreopDriverIds` uses deprecated `endl` manipulator

**Description:** `driverlist.cpp` line 260 uses `endl` with `QTextStream`. In Qt 5.14+, `Qt::endl` is the preferred form and the bare `endl` form (which resolves to `std::endl`) causes an implicit flush on every line, degrading write performance and mixing std and Qt stream semantics. All other save methods write raw `QByteArray` without `QTextStream`, making this the only method using the Qt text stream API and `endl`.

**Fix:** Replace `endl` with `Qt::endl`, or better, rewrite `savePreopDriverIds` to use `QByteArray` accumulation consistent with the other save methods, eliminating the `QTextStream` dependency entirely.

---

**A04-11** · MEDIUM · `m_preopDriverDirty` not initialised in constructor

**Description:** `DriverList::DriverList()` (`driverlist.cpp` line 8) initialises `m_driverIdsDirty`, `m_masterIdsDirty`, `m_superIdsDirty`, and `m_techIdsDirty` to `false` in the member-initialiser list. `m_preopDriverDirty` (declared at `driverlist.h` line 117) is omitted from the initialiser list. Its value at construction time is indeterminate (undefined behaviour in C++). If `savePreopDriverIds` is called before any mutation, the dirty-flag check at line 236 may evaluate to `true` on an uninitialised bool, causing a spurious write.

**Fix:** Add `m_preopDriverDirty(false)` to the constructor initialiser list.

---

**A04-12** · LOW · `driverlist.h` unnecessarily includes `<QDebug>`

**Description:** `driverlist.h` line 7 includes `<QDebug>`. No method in the header uses `qDebug()` or any debug type. The include is unused in the header and is pulled in transitively by every translation unit that includes `driverlist.h`. `<QDebug>` is a heavyweight Qt header.

**Fix:** Remove `#include <QDebug>` from `driverlist.h`. If debug output is needed in `driverlist.cpp`, include `<QDebug>` there instead.

---

**A04-13** · LOW · `containsDriverId` / `containsMasterId` / `containsSuperId` / `containsTechId` use a ternary that is always true when the loop body is reached

**Description:** Each `contains*` method (e.g., `driverlist.h` line 45) ends with `return id != 1 ? true : false;` after finding a matching entry. The expression `id != 1 ? true : false` is exactly `id != 1`. More importantly, the logic appears designed to exclude the sentinel ID value `1`, yet returning `false` when a matching entry exists with `id == 1` is surprising and undocumented. There is no comment explaining why `id == 1` is special. The ternary form also triggers `-Wlogical-op` or style warnings on some compilers.

**Fix:** Replace the ternary with `return (id != 1);` and add a comment explaining the special-case meaning of ID value 1 (e.g., "id 1 is reserved as a null/unset sentinel"). If id 1 is never expected in the lists, add an assertion.

---

**A04-14** · LOW · `driverChecksum` / `masterChecksum` / `superChecksum` / `techChecksum` use C-style casts

**Description:** `driverlist.cpp` lines 594–595, 604–607, 617–618, 627–628 use `(quint32)d.id` and `(quint32)(d.id >> 32)` C-style casts to truncate `quint64` values. These are semantically `static_cast<quint32>(...)` but the C-style cast form suppresses compiler warnings and bypasses the type-system checks that `static_cast` preserves.

**Fix:** Replace all `(quint32)` C-style casts in the checksum methods with `static_cast<quint32>(...)`.

---

**A04-15** · LOW · `crctable.cpp` forward-declares its own definitions

**Description:** `crctable.cpp` lines 3–4 contain:
```cpp
extern const quint32 crc32Table[];
extern const quint16 crc16Table[];
```
immediately before defining those same arrays. This self-referential forward declaration adds no value (the definitions are visible at link time regardless) and appears to be a workaround for the absence of a proper header. If the array sizes or types ever diverge between declaration and definition, the compiler may not catch the mismatch.

**Fix:** Remove the forward declarations from `crctable.cpp` once a proper `crctable.h` header is created (see A04-1). The definitions alone are sufficient within the translation unit.

---

**A04-16** · LOW · `OnDemandCmdType` enum has redundant explicit zero value

**Description:** `cigconfigs.h` line 139:
```cpp
enum OnDemandCmdType {OnDemandStart, OnDemandExtend = 1, OnDemandEnd = 2};
```
`OnDemandStart` is implicitly 0, so no explicit value is needed. `OnDemandExtend = 1` is also redundant since it is the sequential value. Only `OnDemandEnd = 2` would be needed if the intent was to emphasise the values. The inconsistency across the three enumerators (implicit, explicit-same, explicit-same) is a style defect.

**Fix:** Either remove all explicit values (`{OnDemandStart, OnDemandExtend, OnDemandEnd}`) if the values are not protocol-significant, or add explicit values to all three enumerators for clarity.

---

**A04-17** · INFO · `DriverId` struct is reused for tech IDs instead of having a dedicated type

**Description:** `cigconfigs.h` line 265 defines `DriverId` and it is used for both driver and tech ID lists (`m_driverIds`, `m_techIds`). This means the type name in stack traces, debug output, and future refactoring provides no distinction between driver entries and tech entries. It is a minor semantic clarity issue.

**Fix:** Consider a `using TechId = DriverId;` alias or a dedicated `TechId` struct to improve readability and enable future divergence of the two types.

---

## Summary Table

| ID | Severity | Title | File(s) |
|---|---|---|---|
| A04-1 | HIGH | `crctable.cpp` has no header file | `crctable.cpp` |
| A04-2 | HIGH | `#define SHOW_ALL_MASTER_MENU` inside namespace / dead code | `cigconfigs.h:81` |
| A04-3 | HIGH | `CMD_UNKNOWN = 0xff` breaks `LeaderCmd` enum ordering | `cigconfigs.h:120` |
| A04-4 | MEDIUM | `CanAttributeType` has two confusingly-named sentinel enumerators | `cigconfigs.h:164,169` |
| A04-5 | MEDIUM | `CigCanConfig` has layout-critical fields named `unusedN` | `cigconfigs.h:205-242` |
| A04-6 | MEDIUM | Hardcoded Linux filesystem paths in shared header | `cigconfigs.h:57,64-76` |
| A04-7 | MEDIUM | Spurious function-declaration statement inside `getPreopDriverIdIndex` | `driverlist.cpp:433` |
| A04-8 | MEDIUM | Commented-out `#if 0` debug block in `addPreopDriverId` | `driverlist.cpp:473-483` |
| A04-9 | MEDIUM | `savePreopDriverIds` uses `QFile` instead of `QSaveFile` | `driverlist.cpp:244` |
| A04-10 | MEDIUM | `savePreopDriverIds` uses deprecated `endl` | `driverlist.cpp:260` |
| A04-11 | MEDIUM | `m_preopDriverDirty` not initialised in constructor | `driverlist.cpp:8` |
| A04-12 | LOW | `<QDebug>` unnecessarily included in `driverlist.h` | `driverlist.h:7` |
| A04-13 | LOW | `contains*` methods use verbose ternary with undocumented special case for `id == 1` | `driverlist.h:42-75` |
| A04-14 | LOW | C-style casts in checksum methods | `driverlist.cpp:594-628` |
| A04-15 | LOW | `crctable.cpp` self-forward-declares its own definitions | `crctable.cpp:3-4` |
| A04-16 | LOW | `OnDemandCmdType` has inconsistent explicit values | `cigconfigs.h:139` |
| A04-17 | INFO | `DriverId` struct reused for tech IDs without type alias | `cigconfigs.h:265` |
