# Pass 4 Agent A20 — Code Quality

**Audit run:** 2026-02-28-01
**Branch:** master
**Files reviewed:**
- `ui/checkstartdialog.h` + `ui/checkstartdialog.cpp`
- `ui/commentdialog.h` + `ui/commentdialog.cpp`
- `ui/dialog.h` + `ui/dialog.cpp`

---

## Reading Evidence

### `ui/checkstartdialog.h`

**Class:** `CheckStartDialog` (extends `QDialog`)

| Symbol | Kind | Line |
|--------|------|------|
| `CheckStartDialog(QWidget *parent = 0)` | Constructor | 15 |
| `~CheckStartDialog()` | Destructor | 16 |
| `setMandatory(bool mandatory)` | Public method | 17 |
| `languageChanged(void)` | Public method | 18 |
| `ui` | Private member (`Ui::CheckStartDialog*`) | 25 |

No enums, types, or constants defined in this file.

---

### `ui/checkstartdialog.cpp`

| Symbol | Kind | Line |
|--------|------|------|
| `CheckStartDialog::CheckStartDialog(QWidget*)` | Constructor | 5 |
| `CheckStartDialog::~CheckStartDialog()` | Destructor | 18 |
| `CheckStartDialog::setMandatory(bool)` | Method | 23 |
| `CheckStartDialog::languageChanged()` | Method | 34 |

---

### `ui/commentdialog.h`

**Class:** `CommentDialog` (extends `QDialog`)

**Macros / Constants:**

| Name | Value | Line |
|------|-------|------|
| `NO_ACTIVITY_TIME` | `10000` | 12 |
| `MAX_CHARACTER` | `100` | 13 |

**Enum:**

| Name | Enumerators | Line |
|------|-------------|------|
| `CommentDialogType` | `Unlock`, `Preop` | 15 |

**Methods:**

| Symbol | Kind | Line |
|--------|------|------|
| `CommentDialog(CommentDialogType, QWidget*)` | Constructor | 26 |
| `~CommentDialog()` | Destructor | 27 |
| `UpdateTextInput(QString, onScreenKeyboard::CtrlButton)` | Public method | 29 |
| `onkeyboardClosed()` | Public method | 30 |
| `onUnlkReasonSelected()` | Public method | 31 |
| `languageChanged()` | Public method | 32 |
| `debounce()` | Private method | 37 |
| `reset()` | Private method | 38 |
| `showWidgets()` | Private method | 39 |
| `showEvent(QShowEvent*)` | Protected override | 47 |
| `hideEvent(QHideEvent*)` | Protected override | 48 |
| `run_keyboard_lineEdit()` | Private slot | 51 |
| `onDone()` | Private slot | 52 |
| `onSkip()` | Private slot | 53 |

**Members:** `ui`, `lineEditkeyboard`, `m_timer`, `m_lastPress`, `m_dlgType`, `m_unlkReasonDlg`

---

### `ui/commentdialog.cpp`

| Symbol | Kind | Line |
|--------|------|------|
| `CommentDialog::CommentDialog(...)` | Constructor | 9 |
| `CommentDialog::~CommentDialog()` | Destructor | 36 |
| `CommentDialog::hideEvent(QHideEvent*)` | Override | 41 |
| `CommentDialog::showWidgets()` | Private | 46 |
| `CommentDialog::showEvent(QShowEvent*)` | Override | 91 |
| `CommentDialog::onkeyboardClosed()` | Public | 98 |
| `CommentDialog::UpdateTextInput(...)` | Public | 104 |
| `CommentDialog::run_keyboard_lineEdit()` | Private slot | 121 |
| `CommentDialog::onDone()` | Private slot | 134 |
| `CommentDialog::onSkip()` | Private slot | 168 |
| `CommentDialog::debounce()` | Private | 188 |
| `CommentDialog::reset()` | Private | 199 |
| `CommentDialog::onUnlkReasonSelected()` | Public | 205 |
| `CommentDialog::languageChanged()` | Public | 214 |

---

### `ui/dialog.h`

**Class:** `Dialog` (extends `QDialog`)

**Signals:**

| Signal | Line |
|--------|------|
| `driverChanged(quint64)` | 79 |
| `lastCheckDriverChanged(quint64)` | 80 |
| `screenLocked(CIGCONF::MaintLockedCode)` | 81 |
| `setRelayOut(bool, bool)` | 82 |
| `setRelay2Out(bool)` | 83 |
| `sendGmtpMessage(CIGCONF::GmtpMessage, const QByteArray&)` | 84 |
| `resetCanStates(bool)` | 85 |
| `forceBroadcastUIClose()` | 86 |
| `log(QByteArray&)` | 87 |
| `updatePreopTimer(QString)` | 88 |
| `amberDialogAboutToShow(bool)` | 89 |

**Public methods (declared):**

| Symbol | Line |
|--------|------|
| `Dialog(QWidget *parent = 0)` | 44 |
| `~Dialog()` | 45 |
| `onPowerChanged(CIGCONF::PowerState)` | 47 |
| `onReboot()` | 48 |
| `onBleReady(bool)` | 49 |
| `onNetworkReady(bool)` | 50 |
| `onCardAuthorised(bool, quint64)` | 51 |
| `onCmdLogin(quint64)` | 52 |
| `onIdleTimeout()` | 53 |
| `lockScreen(CIGCONF::MaintLockedCode, bool)` | 54 |
| `ambertImpactScreen()` | 55 |
| `updateLux(int)` | 57 |
| `updateStatus(...)` | 58 |
| `updateBatteryStatus(...)` | 59 |
| `updateExpModInfo(QByteArray)` | 60 |
| `onBroadcastMsgReceived(CIGCONF::BroadcastMessage)` | 61 |
| `showInformationScreen()` | 62 |
| `updateLoginImage()` | 63 |
| `quickPowerUpdate(bool)` | 64 |
| `onDemandStarted(...)` | 66 |
| `onDemandExtended(...)` | 67 |
| `onDemandEnded(...)` | 68 |
| `onLanguageChanged(void)` | 70 |
| `updateCamera()` | 72 |

**Private methods (declared in header):**

| Symbol | Line |
|--------|------|
| `onPinCode()` | 99 |
| `onCardSwiped(...)` | 100 |
| `onPinDialogAccepted()` | 102 |
| `onAuthorisedDialogAccepted()` | 103 |
| `onAuthorisedUserLogout()` | 104 |
| `onOptionalCheckConfirmed()` | 105 |
| `onCheckStartDialogAccepted()` | 106 |
| `onCheckQuestionDialogFinished(int)` | 107 |
| `onCheckConfirmationDialogFinished(int)` | 108 |
| `onCheckCompletedDialogAccepted()` | 109 |
| `onCheckCompletedDialogRejected()` | 110 |
| `onUnlockedDialogAccepted()` | 111 |
| `onProcessUnlock()` | 112 |
| `onPreopCommentDone()` | 113 |
| `onBroadcastDialogDone(int)` | 114 |
| `isValidId(quint64)` | 116 |
| `isChecklistEmpty(bool)` | 117 |
| `bypassChecklist()` | 118 |
| `clearWidgets()` | 119 |
| `login(quint64)` | 121 |
| `postLogin()` | 122 |
| `postMaintenanceLogin()` | 123 |
| `logout()` | 124 |
| `openMenuDialog()` | 125 |
| `startCheck(bool)` | 127 |
| `sendStartCheck()` | 128 |
| `superListUpdated(bool)` | 130 |
| `updateOnDemand()` | 131 |
| `convorStatusUpdated()` | 133 |
| `isOnDemandExpired()` | 135 |
| `fullLockStart()` | 137 |
| `updateFullLock()` | 138 |
| `updateTime()` | 140 |
| `writeMsgToQueue(CIGCONF::BroadcastMessage)` | 201 |
| `displayNextBroadcastMessage()` | 202 |
| `clearMsgQueue()` | 203 |
| `initOnScreenPreopTimer(quint16)` | 207 |
| `showCustomTimeFormat(quint32)` | 208 |
| `adjustPreopDialogs(bool)` | 212 |
| `updateBLEConSpinner(quint8)` | 214 |

**Private slot:**

| Symbol | Line |
|--------|------|
| `on_pushButton_clicked()` | 96 |

**Inner struct:**

| Name | Fields | Line |
|------|--------|------|
| `BroadcastMessageResponse` | `id`, `driverId`, `dispTimestamp` | 191–195 |

---

### `ui/dialog.cpp` — implemented functions

| Symbol | Line |
|--------|------|
| `Dialog::Dialog(...)` | 39 |
| `Dialog::~Dialog()` | 207 |
| `Dialog::updateBLEConSpinner(quint8)` | 212 |
| `Dialog::showInformationScreen()` | 228 |
| `Dialog::mouseReleaseEvent(QMouseEvent*)` | 238 |
| `Dialog::showEvent(QShowEvent*)` | 245 |
| `Dialog::updateLoginImage()` | 261 |
| `Dialog::onPinCode()` | 269 |
| `Dialog::onCardSwiped(...)` | 277 |
| `Dialog::onPinDialogAccepted()` | 319 |
| `Dialog::onAuthorisedDialogAccepted()` | 325 |
| `Dialog::onAuthorisedUserLogout()` | 332 |
| `Dialog::onCheckStartDialogAccepted()` | 339 |
| `Dialog::onCheckQuestionDialogFinished(int)` | 345 |
| `Dialog::onCheckConfirmationDialogFinished(int)` | 359 |
| `Dialog::onCheckCompletedDialogAccepted()` | 395 |
| `Dialog::onCheckCompletedDialogRejected()` | 449 |
| `Dialog::onUnlockedDialogAccepted()` | 461 |
| `Dialog::onProcessUnlock()` | 481 |
| `Dialog::onPreopCommentDone()` | 513 |
| `Dialog::onBroadcastDialogDone(int)` | 517 |
| `Dialog::login(quint64)` | 543 |
| `Dialog::openMenuDialog()` | 577 |
| `Dialog::postLogin()` | 590 |
| `Dialog::postMaintenanceLogin()` | 659 |
| `Dialog::logout()` | 674 |
| `Dialog::lockScreen(CIGCONF::MaintLockedCode, bool)` | 691 |
| `Dialog::ambertImpactScreen()` | 728 |
| `Dialog::startCheck(bool)` | 733 |
| `Dialog::sendStartCheck()` | 767 |
| `Dialog::isValidId(quint64)` | 773 |
| `Dialog::isChecklistEmpty(bool)` | 781 |
| `Dialog::bypassChecklist()` | 792 |
| `Dialog::clearWidgets()` | 875 |
| `Dialog::onPowerChanged(CIGCONF::PowerState)` | 899 |
| `Dialog::onReboot()` | 927 |
| `Dialog::onBleReady(bool)` | 934 |
| `Dialog::onNetworkReady(bool)` | 950 |
| `Dialog::updateStatus(...)` | 955 |
| `Dialog::onCardAuthorised(bool, quint64)` | 960 |
| `Dialog::onCmdLogin(quint64)` | 980 |
| `Dialog::onIdleTimeout()` | 986 |
| `Dialog::updateLux(int)` | 1008 |
| `Dialog::updateBatteryStatus(...)` | 1013 |
| `Dialog::updateExpModInfo(QByteArray)` | 1018 |
| `Dialog::superListUpdated(bool)` | 1023 |
| `Dialog::updateOnDemand()` | 1037 |
| `Dialog::onDemandStarted(...)` | 1069 |
| `Dialog::onDemandExtended(...)` | 1086 |
| `Dialog::onDemandEnded(...)` | 1106 |
| `Dialog::isOnDemandExpired()` | 1125 |
| `Dialog::convorStatusUpdated()` | 1135 |
| `Dialog::onBroadcastMsgReceived(CIGCONF::BroadcastMessage)` | 1155 |
| `Dialog::writeMsgToQueue(CIGCONF::BroadcastMessage)` | 1169 |
| `Dialog::displayNextBroadcastMessage()` | 1177 |
| `Dialog::clearMsgQueue()` | 1203 |
| `Dialog::initOnScreenPreopTimer(quint16)` | 1209 |
| `Dialog::adjustPreopDialogs(bool)` | 1225 |
| `Dialog::showCustomTimeFormat(quint32)` | 1249 |
| `Dialog::onLanguageChanged()` | 1260 |
| `Dialog::on_pushButton_clicked()` | 1285 |
| `Dialog::updateTime()` | 1291 |
| `Dialog::quickPowerUpdate(bool)` | 1314 |
| `Dialog::updateCamera()` | 1321 |

---

## Findings

---

**A20-1** · HIGH · `fullLockStart` and `updateFullLock` declared but never implemented

**Description:** `dialog.h` lines 137–138 declare two private methods, `fullLockStart()` and `updateFullLock()`, that have no corresponding definition anywhere in `dialog.cpp` or any other translation unit. The feature they were intended to implement — presumably a "full lockout" timer-driven UI update flow — is instead handled inline with direct `gCfg->fullLockoutEnable()` / `gCfg->fullLockoutTimeout()` checks scattered through the codebase. Leaving unimplemented declarations in the header is a latent build and maintenance hazard: any future caller of these methods will fail to link, and readers cannot tell whether the omission is intentional.

**Fix:** Either implement both methods or remove both declarations from `dialog.h` and confirm the full-lockout logic that was meant to call them is fully covered by the existing inline guards.

---

**A20-2** · MEDIUM · `onPreopCommentDone()` is a declared handler with an empty body

**Description:** `dialog.h` line 113 declares `onPreopCommentDone()` as a private method. Its implementation at `dialog.cpp` lines 513–515 is a completely empty stub:

```cpp
void Dialog::onPreopCommentDone() {

}
```

The method is never connected to any signal. The pre-op comment accept/reject paths in the constructor (lines 122–127) use separate lambdas that call `onCheckCompletedDialogAccepted()` and `m_checkCompletedDialog->open()` directly, making `onPreopCommentDone()` unreachable dead code. Its presence implies an incomplete refactoring.

**Fix:** Remove the declaration from `dialog.h` and the empty definition from `dialog.cpp`. If the intended handler logic was never ported, document what behavior is missing and implement it.

---

**A20-3** · MEDIUM · `onOptionalCheckConfirmed()` declared but never implemented or called

**Description:** `dialog.h` line 105 declares private method `onOptionalCheckConfirmed()`. There is no definition of this method anywhere in `dialog.cpp`, and no `connect()` call or direct invocation of it exists in the codebase. This is a second unimplemented private method alongside `fullLockStart` and `updateFullLock`, indicating a pattern of stale declarations left from abandoned feature work.

**Fix:** Remove the declaration from `dialog.h`. If optional-check-confirmed logic is genuinely needed, implement and connect it.

---

**A20-4** · MEDIUM · Commented-out multi-line code block in `onCheckQuestionDialogFinished`

**Description:** `dialog.cpp` lines 349–357 contain a large commented-out block inside `onCheckQuestionDialogFinished`:

```cpp
/*m_checkConfirmationDialog->confirm(m_checkSelectedYes);
m_checkConfirmationDialog->setQuestion(m_checkQuestionDialog->question());
m_checkConfirmationDialog->open();
if (m_survTo)
{
    m_overlay->show();
    m_overlay->raise();
}*/
```

This represents the original two-step confirmation flow that was bypassed when the design was simplified to skip the intermediate confirmation dialog. The dead code causes confusion about whether `CheckConfirmationDialog` is still part of the active flow, and whether `CheckConfirmationDialog::confirm()` and `CheckConfirmationDialog::setQuestion()` still need to be maintained.

**Fix:** Delete the commented-out block. If `CheckConfirmationDialog` is now fully unused in the normal question flow, audit whether the class and its connections (lines 104–105, 1227–1228) can also be removed.

---

**A20-5** · MEDIUM · Commented-out `#include` and log call for `SerialLogger`

**Description:** `dialog.cpp` line 21 has `//#include "platform/seriallogger.h"` and line 312 has `//SerialLogger::log("[MONIT] Login attempt while exp mod comms not ready");`. The logger appears to have been deactivated without a replacement. The commented include is particularly problematic because it hides whether `SerialLogger` is still a valid, maintained module.

**Fix:** Remove both commented-out lines. If structured logging is still needed for this code path, replace with the active logging mechanism used elsewhere (e.g., `qDebug` or the `log()` signal).

---

**A20-6** · MEDIUM · Commented-out `QTimer::singleShot` lock call in constructor

**Description:** `dialog.cpp` line 204 contains:

```cpp
//QTimer::singleShot(0, [this](){if (gCfg->maintCode() != CIGCONF::MaintNormal) lockScreen(gCfg->maintCode());});
```

This duplicates the `showEvent` logic at line 257. The commented form also omits the `remote` parameter (`false`) that the live call passes. Leaving this in place suggests an incomplete decision about the preferred initialization path.

**Fix:** Remove the commented line; the live `showEvent` implementation already handles initial lock state.

---

**A20-7** · MEDIUM · Commented-out `onIdleTimeout` early return for VOR status

**Description:** `dialog.cpp` lines 992–993:

```cpp
//    if (gCfg->convorStatus())
//        return;
```

This guard was silently removed from `onIdleTimeout`. Without this guard, an idle timeout while the vehicle is in "Vehicle Out of Service" (VOR/convor) mode will log the driver out via `logout()`, which conflicts with the convor session behavior enforced elsewhere (e.g., `lockScreen` returns early on convor, `login` routes convor users to `m_vorwarningDialog`). The comment gives no explanation for why this guard was disabled.

**Fix:** Determine the correct intended behavior for idle timeout under convor status. Either restore the guard with an explanatory comment or remove the commented lines and document the decision.

---

**A20-8** · MEDIUM · Commented-out wiegand recalculation in `onCardSwiped`

**Description:** `dialog.cpp` line 308:

```cpp
//quint64 wiegand = EM070::WiegandRfid::wiegandData(facility, number);
```

This shadowed local was commented out at an unknown time. The variable name matches the parameter name, and the `facility`/`number` parameters are now suppressed with `Q_UNUSED` (lines 279–280). The function parameter list still carries `quint16 facility` and `quint32 number` which are never used. This is misleading; readers may assume the facility/number values are validated.

**Fix:** Remove the commented line and the two unused parameters from the `onCardSwiped` signature (both declaration in `dialog.h` line 100 and definition in `dialog.cpp` line 277). Update the two call sites accordingly.

---

**A20-9** · LOW · Typo in public method name `ambertImpactScreen`

**Description:** `dialog.h` line 55 declares `void ambertImpactScreen()`. The name contains a spurious `t` — it should be `amberImpactScreen`. All callers (and the implementation at `dialog.cpp` line 728) use the same typo, so there is no current compile error, but the name is confusing and inconsistent with related identifiers such as `amberDialogAboutToShow` and `AmberImpactAlertDialog`.

**Fix:** Rename `ambertImpactScreen` to `amberImpactScreen` across the declaration, definition, and all call sites.

---

**A20-10** · LOW · Naming inconsistency: `UpdateTextInput` violates `camelCase` convention

**Description:** In `CommentDialog`, the public method `UpdateTextInput` (`commentdialog.h` line 29) uses `PascalCase`, inconsistent with every other method in the same class (`onkeyboardClosed`, `onUnlkReasonSelected`, `languageChanged`, `run_keyboard_lineEdit`, `onDone`, `onSkip`, `debounce`, `reset`, `showWidgets`). There is also `onkeyboardClosed` (lowercase `k`) versus the typical Qt `onFooBar` pattern, but the `UpdateTextInput` inconsistency is the most prominent.

**Fix:** Rename `UpdateTextInput` to `updateTextInput` throughout (declaration, definition, and the `connect` call in the constructor at `commentdialog.cpp` line 23).

---

**A20-11** · LOW · `onkeyboardClosed` and `onUnlkReasonSelected` are public but should be private

**Description:** `commentdialog.h` lines 30–31 declare `onkeyboardClosed()` and `onUnlkReasonSelected()` as `public`. Both methods are internal response handlers connected to child/grandchild widget signals in the constructor. Nothing outside `CommentDialog` calls them directly. Exposing them as public widens the class interface unnecessarily and risks accidental external invocation.

**Fix:** Move both methods to the `private slots:` section alongside `run_keyboard_lineEdit`, `onDone`, and `onSkip`.

---

**A20-12** · LOW · `showEvent` default-argument override is a deprecated Qt pattern

**Description:** `commentdialog.h` line 47 declares `void showEvent(QShowEvent *event = 0)` with a default null argument. The same pattern appears in `checkstartdialog.h` (via the base) and `dialog.h` line 93. Qt virtual event handlers are never invoked with a null pointer by the framework; the default argument exists only because `commentdialog.cpp` line 202 calls `showEvent()` with no arguments from `reset()`. Providing a default argument to an overriding virtual is a code smell: it can silently fail to call the base class's override chain correctly and triggers `-Woverloaded-virtual` warnings on some compilers.

**Fix:** Remove the default argument from the override declaration. In `reset()`, replace the no-argument call to `showEvent()` with a direct call to `showWidgets()`, which is the actual work being re-triggered.

---

**A20-13** · LOW · `QWidget *parent = 0` should use `nullptr`

**Description:** All three headers use `QWidget *parent = 0` as the constructor default (`checkstartdialog.h` line 15, `commentdialog.h` line 26, `dialog.h` line 44). Qt 5 and Qt 6 both deprecate raw `0` in favor of `nullptr` for pointer defaults. The rest of the codebase mixes both forms (e.g., `commentdialog.h` already uses `nullptr` for `parent` in some internal declarations).

**Fix:** Replace `= 0` with `= nullptr` in all three constructor declarations for consistency with the C++11 style used elsewhere in the project.

---

**A20-14** · LOW · Magic number `2*60*1000` for broadcast message beeper interval

**Description:** `dialog.cpp` line 1198:

```cpp
m_messageTimer->start(2*60*1000);
```

This inline computation (two minutes in milliseconds) is not named or explained. Unlike `NO_ACTIVITY_TIME` (which is a named macro in `commentdialog.h`), this value is embedded directly in the logic with no symbolic label, making it harder to discover or adjust.

**Fix:** Define a named constant, e.g., `constexpr int BROADCAST_BEEPER_INTERVAL_MS = 2 * 60 * 1000;`, and use it at the call site.

---

**A20-15** · LOW · String comparison used as state machine discriminator in `onDone`/`onSkip`

**Description:** `commentdialog.cpp` lines 147 and 173 gate the confirm action by comparing the button label text to a translated string:

```cpp
if (ui->btnDone->text() == tr("Confirm?")) { ... }
if (ui->btnSkipButton->text() == tr("Confirm?")) { ... }
```

Using a localised UI string as the state variable is fragile: a translation change, a font renderer substitution, or a future l10n fix for the `"Confirm?"` string (e.g., making it language-specific) would silently break the two-tap confirmation flow without a compile error. The same issue affects the `onSkip` path.

**Fix:** Introduce a private boolean flag (e.g., `m_confirmPending`) that is set when the first tap is received and cleared on timer reset. Use that flag instead of text comparison to gate the confirm action.

---

**A20-16** · INFO · `Dialog` is a 1,325-line orchestrator tightly coupling 15+ child dialogs

**Description:** `Dialog` directly owns and wires 15 child dialog objects (`m_pinDialog`, `m_authorisedDialog`, `m_checkStartDialog`, `m_checkQuestionDialog`, `m_checkConfirmationDialog`, `m_checkCompletedDialog`, `m_lockedDialog`, `m_unlockedDialog`, `m_messageDialog`, `m_informationDialog`, `m_onDemandDialog`, `m_unlockReasonDlg`, `m_preopCommentDlg`, `m_broadcastDialog`, `m_supervisorDialog`, `m_languageDialog`, `m_amberImpactAlertDialog`, `m_vorwarningDialog`), three hardware driver objects, four `QTimer` objects, and carries all application state. Each new dialog class is a concrete type exposed directly as a private member; there is no abstraction layer between `Dialog` and the child widgets it orchestrates. While this is a known legacy architecture, it makes unit testing, feature flagging, and any future UI recomposition disproportionately expensive.

**Fix:** No immediate action required for correctness. For long-term maintainability, consider extracting state machines (e.g., the checklist flow, the lock/unlock flow) into separate controller objects and injecting child dialogs through interfaces rather than owning them directly.

---

**A20-17** · INFO · Acknowledged TODO: `gCfg` not guarded for multi-thread access

**Description:** `dialog.cpp` lines 35–37:

```cpp
/*
 * TODO: all functions of gCfg might be guarded as they are used in multithread
 */
```

This comment acknowledges a known concurrency risk that has not been addressed. It is tracked here for completeness; the thread-safety analysis of `gCfg` is out of scope for this pass.

**Fix:** Raise as a separate task; address in a dedicated concurrency audit pass.

---

## Summary Table

| ID | Severity | Title |
|----|----------|-------|
| A20-1 | HIGH | `fullLockStart` / `updateFullLock` declared but never implemented |
| A20-2 | MEDIUM | `onPreopCommentDone()` is an empty stub never connected to any signal |
| A20-3 | MEDIUM | `onOptionalCheckConfirmed()` declared but never implemented or called |
| A20-4 | MEDIUM | Commented-out multi-line confirmation dialog block in `onCheckQuestionDialogFinished` |
| A20-5 | MEDIUM | Commented-out `SerialLogger` include and log call |
| A20-6 | MEDIUM | Commented-out duplicate `QTimer::singleShot` lock call in constructor |
| A20-7 | MEDIUM | Commented-out VOR status guard in `onIdleTimeout` with unexplained intent |
| A20-8 | MEDIUM | Commented-out wiegand recalculation leaves two parameters permanently unused |
| A20-9 | LOW | Typo `ambertImpactScreen` (spurious `t`) in public API |
| A20-10 | LOW | `UpdateTextInput` uses PascalCase inconsistent with rest of class |
| A20-11 | LOW | `onkeyboardClosed` and `onUnlkReasonSelected` are public but should be private slots |
| A20-12 | LOW | `showEvent` default-argument override is a deprecated / warning-prone pattern |
| A20-13 | LOW | Constructor `parent` defaults use `= 0` instead of `= nullptr` |
| A20-14 | LOW | Magic number `2*60*1000` for broadcast beeper timer interval |
| A20-15 | LOW | Translated button label string used as state-machine discriminator in `onDone`/`onSkip` |
| A20-16 | INFO | `Dialog` tightly couples 15+ child dialogs in a 1,325-line God-class |
| A20-17 | INFO | Acknowledged unresolved TODO for `gCfg` multi-thread safety |

**Totals:** 1 HIGH, 6 MEDIUM, 7 LOW, 2 INFO
