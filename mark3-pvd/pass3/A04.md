# Pass 3 Agent A04 — Documentation

**Audit run:** 2026-02-28-01
**Branch:** master
**Files reviewed:**
- `app/cigconfigs.h` (no corresponding .cpp — header-only)
- `app/crctable.cpp` (no corresponding .h)
- `app/driverlist.h` + `app/driverlist.cpp`

---

## Reading Evidence

### `app/cigconfigs.h`

**No class is defined.** The file is a pure header providing preprocessor definitions, namespace-scoped enumerations, and plain structs used throughout the codebase. There is no `.cpp` counterpart.

**Preprocessor constants (all at file scope or inside namespace `CIGCONF`):**

| Constant | Value / purpose |
|---|---|
| `LFF_VERSION` | 5 |
| `SFF_VERSION` | 2 |
| `UFF_VERSION` | 2 |
| `ENG_VERSION` | "J" |
| `F_BUILD` | 6 — IQ360 |
| `C_BUILD` | 5 — MK3 LCD |
| `BROADCASTMSG_TEXT_LEN` | 100 |
| `GMTP_ID_LEN` | 33 |
| `GMTP_SERVER_CNT` | 3 |
| `SERVER_ADDR_LEN` | 33 |
| `MODEM_DIAL_NUMBER_LEN` | 9 |
| `MODEM_APN_LEN` | 33 |
| `MODEM_APN_USER_LEN` | 33 |
| `MODEM_ICCID_LEN` | 32 |
| `MODEM_APN_PASSWORD_LEN` | 66 (comment: "must >= 64 (WPA key max length)") |
| `MAX_POLY_POINTS` | 6 |
| `MAX_POLY` | 4 |
| `CHECKLIST_TIME_SLOTS` | 4 |
| `CHECKLIST_MAX_IDX` | 32 |
| `CHECKLIST_QUESTION_LEN` | 50 |
| `CHECKLIST_ITEM_SIZE` | computed |
| `CHECKLIST_QUESTION_LEN_100` | 100 |
| `CHECKLIST_ITEM_SIZE_100` | computed |
| `DRIVER_MAX_ID_IDX` | 3000 |
| `MASTER_MAX_ID_IDX` | 1024 |
| `SUPER_MAX_ID_IDX` | 100 |
| `TECH_MAX_ID_IDX` | 1000 |
| CAN bus constants | `CAN_MAX_HW_PGN`, `CAN_MAX_PGN_IDX`, `CAN_MAX_SPN_IDX`, `CAN_MAX_LINK_IDX`, `CAN_MAX_ATT_IDX`, `CAN_ATT_NAME_LEN`, `CAN_MSG_TYPE`, `CAN_MSG_DLC`, `CAN_SIG_STATUS` |
| `ON_DEMAND_DURATION` | 24*60*60 (24 hours) |
| WiFi constants | `WIFI_MAX_NETWORKS` (10), `WIFI_CONF_FILE` |
| File path constants | `FILE_DRIVER_IDS`, `FILE_MASTER_IDS`, `FILE_SUPER_IDS`, `FILE_TECH_IDS`, `FILE_CHECKLIST`, `FILE_CHECKLIST_100`, `FILE_FLEETMS_FW`, `FILE_FLEETMS_FW_RD`, `FILE_LOGIN_SCREEN`, `FILE_LOGIN_SCREEN_RD`, `FILE_ONCEPERDAY_PREOP_IDS`, `DIR_GMTP_MSG` |
| `SHOW_ALL_MASTER_MENU` | 255 (inside `CIGCONF` namespace) |

**Enumerations (all inside namespace `CIGCONF`):**

| Enum | Enumerators |
|---|---|
| `MasterMenuOptions` | `UnlockVehicle=1`, `NormalDriverAccess=2`, `ActivateVOR=4`, `MaintenanceMode=8`, `DefaultMasterMenu=7`, `UnassignedMasterMenu=255` |
| `PowerState` | `NormalPowerState`, `PreDimState`, `DimState`, `SleepActiveState`, `SleepState`, `PowerOffState` |
| `ConfigErrorCode` | `NoConfigError`, `ConfigCrcError`, `ConfigAddressError`, `ConfigSizeError`, `ConfigSectorError` |
| `FtpErrorCode` | `NoFtpError`, `FtpGenericError`, `FtpServerError`, `FtpIncompleteFileError`, `FtpSaveFileError`, `FtpNoFileError`, `FtpOSError`, `FtpParamError`, `FtpCorruptFileError`, `FtpRetryExceedError` |
| `LeaderCmdType` | `QueryCmd`, `RemoteSetCmd`, `LocalSetCmd` |
| `UnlockReasonScreen` | `Disabled`, `EnabledOptional`, `EnabledMandatory` |
| `RealImpact` | `Unconfirmed`, `No`, `Yes` |
| `DigitalInputMode` | `Default`, `Overload`, `Battery`, `SeenSafety` |
| `LeaderCmd` | ~70 command codes including `CMD_SAVE`, `CMD_KALV`, `CMD_SHTD`, `CMD_IDNT`, etc.; `CMD_UNKNOWN=0xff` |
| `GmtpMessage` | `GMTP_REGISTER`, `GMTP_AUTH_PSTAT`, `GMTP_AUTH_EOS`, `GMTP_AUTH_OPCKS`, `GMTP_AUTH_PROMPT`, `GMTP_AUTH_SHOCK`, `GMTP_AUTH_IDLETO`, `GMTP_CARD`, `GMTP_GPSE`, `GMTP_POS`, `GMTP_PAR`, `GMTP_UNLK`, `GMTP_USAGE`, `GMTP_FTPF`, `GMTP_MK3DBG`, `GMTP_SMAST`, `GMTP_CONVOR`, `GMTP_MSG_RSP`, `GMTP_WIFIPOS`, `GMTP_AUTH_SURTO`, `GMTP_AUTH_SEEN`, `GMTP_MAINT`, `GMTP_AUTH_OPCMNT`, `GMTP_OPDCHK`, `GMTP_MONIT` |
| `CheckReason` | `OptionalCheckReason=1`, `TimeBasedCheckReason=2`, `DriverBasedCheckReason=3`, `UnlockedCheckReason=4`, `OncePerDayCheckReason=5` |
| `CheckResponses` | `UndefinedCheckResponse`, `CheckResponsedYes=1`, `CheckResponsedNo=2` |
| `ChecklistType` | `NotCritical`, `CriticalByYes=1`, `CriticalByNo=2` |
| `OnDemandCmdType` | `OnDemandStart`, `OnDemandExtend=1`, `OnDemandEnd=2` |
| `OnDemandCmdSrc` | `OnDemandLocal`, `OnDemandRemote` |
| `MaintLockedCode` | `MaintNormal=0x00`, `MaintIdle=0xea`, `MaintCriticalQuestion=0xfb`, `MaintRedImpact=0xfd`, `MaintSurveyTimeout=0xfe` |
| `ShowTimeFormat` | `ShowTimeOff=0`, `ShowTime12=1`, `ShowTime24=2` |
| `BleExpansionDI` | `BleExpDI1`, `BleExpDI2`, `BleExpDI3`, `BleExpDI4` |
| `BleExpansionRelay` | `BleExpRelay1`, `BleExpRelay2` |
| `BleExpansionConnectionStatus` | `BleDisconnected`, `BleConnected` |
| `CanProtocol` | `LindeNormal`, `J1939`, `LindeExtended`, `BydCan`, `Linde1202` |
| `CanAttributeType` | `NotCanAttribute`, `CanAttributeLast`, `CanAttributeCount`, `CanAttributeTime`, `CanAttributeAlert`, `CanAttributeLast2` |
| `WifiPosSource` | `WifiPosInternal`, `WifiPosXpico240` |
| `CameraMode` | `CameraOff=0`, `CameraForced=1`, `CameraOn=2` |

**Structs (all inside namespace `CIGCONF`):**

| Struct | Fields |
|---|---|
| `CanMsgLink` | `spnIndex` (quint16), `pos` (quint8) |
| `CanMsgPara` | `identifier`, `type`, `dlc`, `sigNum`, `sigList[CAN_MAX_LINK_IDX]` |
| `CanSigPara` | `status`, `width`, `addr32`, `unused2` |
| `CigCanConfig` | `processType`, `txEnable`, `busInfo` (extended, baudRate), `unused1`, `unused2[]`, union of `unused10[]` / `CanSignalInfo` |
| `BroadcastMessage` | `id`, `text`, `type`, `res`, `timeout` |
| `WifiNetwork` | `ssid`, `pw` |
| `PreopDriverId` | `id` (quint64), `lastPreopTimestamp` (quint32) |
| `DriverId` | `id` (quint64), `name` (QString) |
| `MasterId` | `id` (quint64), `option` (quint8), `name` (QString) |
| `gpsPosStruct` | `latitude` (qint32), `longitude` (qint32) |
| `polygonStruct` | `nPoints` (quint8), `polyVertices[MAX_POLY_POINTS]` |
| `position` | `lat`, `lon`, `latrad`, `lonrad` (all double) |
| `AccessPoint` | `mac`, `rssi`, `lastSeen`, `ssid`, `channel` |
| `CheckResponse` | `id` (quint32), `type` (quint16), `response` (quint16), `text` (QString) |

No functions, signals, or slots are declared in this file.

---

### `app/crctable.cpp`

No class, no functions, no signals, no slots. The file contains only two pre-computed lookup tables exposed via `extern` linkage:

| Symbol | Type | Description |
|---|---|---|
| `crc32Table` | `const quint32[256]` | 256-entry lookup table for CRC-32 (polynomial 0xEDB88320, reflected input) |
| `crc16Table` | `const quint16[16]` | 16-entry lookup table for CRC-16 (nibble-at-a-time variant) |

No header file exists for this translation unit. The `extern` declarations at lines 3-4 are redundant (they appear immediately before the definitions in the same file).

---

### `app/driverlist.h` + `app/driverlist.cpp`

**Class:** `DriverList` (line 9, `driverlist.h`)

No signals or slots are declared.

**Public methods — complete list with line numbers (header):**

| Method | Line | Return type |
|---|---|---|
| `DriverList()` | 12 | constructor |
| `readDriverIds()` | 14 | void |
| `readMasterIds()` | 15 | void |
| `readSuperIds()` | 16 | void |
| `readTechIds()` | 17 | void |
| `saveDriverIds()` | 18 | void |
| `saveMasterIds()` | 19 | void |
| `saveSuperIds()` | 20 | void |
| `saveTechIds()` | 21 | void |
| `readPreopDriverIds()` | 22 | void |
| `savePreopDriverIds()` | 23 | void |
| `driverIds()` | 25 | `QList<CIGCONF::DriverId>` (inline) |
| `masterIds()` | 26 | `QList<CIGCONF::MasterId>` (inline) |
| `superIds()` | 27 | `QList<quint64>` (inline) |
| `techIds()` | 28 | `QList<CIGCONF::DriverId>` (inline) |
| `preopDriverIds()` | 29 | `QList<CIGCONF::PreopDriverId>` (inline) |
| `driverId(int index)` | 31 | `CIGCONF::DriverId` (inline) |
| `masterId(int index)` | 32 | `CIGCONF::MasterId` (inline) |
| `masterIdById(quint64 id)` | 33 | `CIGCONF::MasterId` |
| `superId(int index)` | 34 | `quint64` (inline) |
| `techId(int index)` | 35 | `CIGCONF::DriverId` (inline) |
| `setDriverId(int index, quint64 id, QString name)` | 37 | bool |
| `setMasterId(int index, quint64 id, quint8 option, QString name)` | 38 | bool |
| `setSuperId(int index, quint64 id)` | 39 | bool |
| `setTechId(int index, quint64 id, QString name)` | 40 | bool |
| `containsDriverId(quint64 id)` | 42 | bool (inline) |
| `containsMasterId(quint64 id, quint8 permissions)` | 50 | bool (inline) |
| `containsSuperId(quint64 id)` | 63 | bool (inline) |
| `containsTechId(quint64 id)` | 69 | bool (inline) |
| `addDriverId(quint64 id, QString name)` | 77 | bool |
| `addSuperId(quint64 id)` | 78 | bool |
| `addTechId(quint64 id, QString name)` | 79 | bool |
| `addPreopDriverId(quint64 id, quint32 timestamp)` | 80 | bool |
| `removeDriverId(quint64 id)` | 82 | bool |
| `removeMasterId(quint64 id)` | 83 | bool |
| `removeSuperId(quint64 id)` | 84 | bool |
| `removeTechId(quint64 id)` | 85 | bool |
| `clearDriverIds()` | 87 | void |
| `clearMasterIds()` | 88 | void |
| `clearSuperIds()` | 89 | void |
| `clearTechIds()` | 90 | void |
| `clearPreopDriverIds()` | 91 | void |
| `driverChecksum()` | 93 | quint32 |
| `masterChecksum()` | 94 | quint32 |
| `superChecksum()` | 95 | quint32 |
| `techChecksum()` | 96 | quint32 |
| `superIsEmpty()` | 98 | bool |
| `getMasterIdIndex(quint64 id)` | 100 | int |
| `getDriverIdIndex(quint64 id)` | 101 | int |
| `getTechIdIndex(quint64 id)` | 102 | int |
| `getPreopDriverIdIndex(quint64 id)` | 103 | int |
| `getPreopDriverId(quint64 id)` | 104 | `CIGCONF::PreopDriverId` |

**Private data members:**

| Member | Type |
|---|---|
| `m_driverIds` | `QList<CIGCONF::DriverId>` |
| `m_masterIds` | `QList<CIGCONF::MasterId>` |
| `m_superIds` | `QList<quint64>` |
| `m_techIds` | `QList<CIGCONF::DriverId>` |
| `m_preopDriverIds` | `QList<CIGCONF::PreopDriverId>` |
| `m_driverIdsDirty` | bool |
| `m_masterIdsDirty` | bool |
| `m_superIdsDirty` | bool |
| `m_techIdsDirty` | bool |
| `m_preopDriverDirty` | bool |

---

## Documentation Check Results

### cigconfigs.h — public API surface

No functions are declared; there is nothing to check for per-method documentation. The items below apply to the constant and type declarations.

| Item | Has doc comment? | Notes |
|---|---|---|
| `MODEM_APN_PASSWORD_LEN` | Partial — inline comment explains the minimum size constraint | Adequate |
| File-path macros block | Block comment at lines 59-63 | Explains FTP-update threading concern; accurate |
| `CAN_MAX_PGN_IDX`, `CAN_MAX_SPN_IDX`, `CAN_MAX_LINK_IDX`, `CAN_MAX_ATT_IDX` | Inline comments giving valid index ranges | Adequate |
| `LeaderCmd` enum | Comment "note: register the string in hash on new command adding" at line 102 | Only for the first enumerator group; the second block (after `CMD_UNKNOWN`) has no such reminder |
| All other enumerations and structs | None | No explanatory comments |
| `CanSigPara::unused2` | `void *unused2; // set to nullptr` | Correct but does not explain why the field exists |
| `CigCanConfig` union | Fields named `unused*` throughout | Intent of the union overlay is completely undocumented |
| `MaintLockedCode` hex values | No explanation of what each numeric code means in the FSM | Values like `0xea`, `0xfb`, `0xfd`, `0xfe` are opaque |
| `ON_DEMAND_DURATION` | Inline comment shows the arithmetic decomposition | Adequate |

### crctable.cpp — public API surface

No functions or class members are declared. The two `extern` array declarations at lines 3-4 have no comments at all. No header file exists.

### driverlist.h — all public methods

Every single public method in `DriverList` lacks any doc comment. The inline bodies of `containsDriverId`, `containsMasterId`, `containsSuperId`, `containsTechId` contain no explanatory comments either.

---

## Findings

**A04-1** · HIGH · No documentation on security-critical authentication methods

**Description:** `containsDriverId`, `containsMasterId`, `containsSuperId`, and `containsTechId` are the four gatekeeping methods that determine whether a presented credential authorises vehicle access, master-level control, supervisor control, or technician access respectively. None of the four has any doc comment. Critically, all four contain a non-obvious special case: the value `id == 1` is always rejected regardless of whether it appears in the list (`return id != 1 ? true : false`). This sentinel behaviour — which silently denies access for ID `0x0000000000000001` — is undocumented. A maintainer adding a new authentication path (e.g. BLE) could trivially omit this check. `containsMasterId` has an additional undocumented behaviour: the `permissions` parameter performs a bitmask AND against `m_masterIds[i].option`; when `permissions == 0` the check is skipped entirely, which is also undocumented.

**Fix:** Add a doc comment above each of these four methods that (1) states the purpose, (2) documents all parameters, (3) explicitly calls out that `id == 1` is always treated as unauthorised, and (4) for `containsMasterId`, explains that `permissions == 0` means "no permission filter".

---

**A04-2** · HIGH · No documentation on ID-list file I/O methods

**Description:** `readDriverIds`, `readMasterIds`, `readSuperIds`, `readTechIds`, `readPreopDriverIds`, `saveDriverIds`, `saveMasterIds`, `saveSuperIds`, `saveTechIds`, and `savePreopDriverIds` all read from or write to persistent flat files that control which operators are authorised to use the vehicle. None has any doc comment. Important behavioural details are invisible from the header: the save methods silently no-op when the in-memory dirty flag is false; `savePreopDriverIds` filters out entries whose `lastPreopTimestamp` date does not match today's local date, permanently discarding stale entries; `savePreopDriverIds` uses plain `QFile` (not `QSaveFile`) so a crash mid-write will corrupt the once-per-day pre-op list; all read methods accept hex-encoded IDs; `readMasterIds` expects up to three comma-separated fields while `readDriverIds`/`readTechIds` expect up to two.

**Fix:** Add doc comments to all ten methods documenting: the file path constant used, the on-disk format, dirty-flag semantics, and any filtering or side-effects on save.

---

**A04-3** · MEDIUM · `savePreopDriverIds` inconsistency between description implied by dirty-flag pattern and actual date-filtering behaviour

**Description:** Every other `save*` method in `DriverList` persists all in-memory entries unchanged. `savePreopDriverIds` (lines 233-265, `driverlist.cpp`) silently discards any `PreopDriverId` whose `lastPreopTimestamp` does not fall on the current local date before writing. This is a material behavioural difference — it is a purge operation disguised as a save. There is no comment on this method explaining the purge, its rationale, or that the `gCfg->localTime()` call is used to determine "today". A caller that expects all entries to survive a round-trip will be surprised.

**Fix:** Add a doc comment to `savePreopDriverIds` stating that it acts as both a save and a garbage-collection step, that only entries matching the current local date are retained, and that `gCfg->localTime()` supplies the reference time.

---

**A04-4** · MEDIUM · Undocumented sentinel value `id == 1` is never authorised in any list

**Description:** In `containsDriverId` (line 42), `containsMasterId` (line 50), `containsSuperId` (line 63), and `containsTechId` (line 69), the expression `return id != 1 ? true : false` silently denies any credential with raw ID value `1` even if that ID is present in the list. The value `0x1` is treated as a reserved/invalid credential. This logic is present in all four methods but is explained nowhere — not in the header, not in the implementation, and not in `cigconfigs.h`. It is distinct from the `id == 0` guard used in `addDriverId`/`addSuperId`/etc. which guards against the zero/empty entry.

**Fix:** Add an inline comment at each occurrence and a header-level doc comment on each `contains*` method stating that ID `1` is reserved and is unconditionally denied regardless of list contents. Additionally, define a named constant (e.g. `RESERVED_INVALID_ID`) or add a comment in `cigconfigs.h` explaining the reservation.

---

**A04-5** · MEDIUM · `masterIdById` undocumented option-field rewrite

**Description:** `masterIdById` (line 645, `driverlist.cpp`) performs a non-obvious mutation: when it finds the requested master ID and that record's `option` field equals `UnassignedMasterMenu` (255), it silently replaces the `option` in the **returned copy** with `DefaultMasterMenu` (7) before returning. This substitution is not mentioned in the header declaration (line 33) and there is no comment in the implementation. A caller that stores the returned `MasterId` and later compares `option` against the original list value will observe a discrepancy.

**Fix:** Add a doc comment to the declaration and implementation of `masterIdById` stating that a stored `option` value of `UnassignedMasterMenu` (255) is normalised to `DefaultMasterMenu` (7) in the return value.

---

**A04-6** · LOW · No documentation on checksum methods

**Description:** `driverChecksum`, `masterChecksum`, `superChecksum`, and `techChecksum` (lines 93-96, header) compute a 32-bit value over the respective ID lists. No doc comment explains the algorithm used (XOR folding of the 64-bit IDs into two 32-bit halves), what the checksum is used for (synchronisation with a remote server), or whether it provides integrity guarantees. The inline comment in the implementation (`// or ignore id that equals 0?`) reveals an unresolved design question that should be in a doc comment or a tracked issue, not an implementation comment.

**Fix:** Add doc comments stating the algorithm, the use-case (e.g. change-detection for remote sync), and resolve or escalate the open question about whether zero-valued entries should be excluded.

---

**A04-7** · LOW · No documentation on `addPreopDriverId` upsert behaviour

**Description:** `addPreopDriverId` (line 80, header) behaves as an upsert: if the `id` already exists in `m_preopDriverIds`, the existing entry's timestamp is updated in-place rather than a duplicate being appended. If the `id` is `0`, the method returns `false` immediately. Neither behaviour is documented. The method name suggests append-only semantics to a reader unfamiliar with the implementation.

**Fix:** Add a doc comment noting the upsert semantics, the zero-ID guard, and that `timestamp` should be a Unix epoch second.

---

**A04-8** · LOW · `getPreopDriverIdIndex` contains a dead forward-declaration in its body

**Description:** At line 433 of `driverlist.cpp`, inside the body of `getPreopDriverIdIndex`, there is:
```cpp
CIGCONF::PreopDriverId getPreopDriverId(quint64 id);
```
This is a local function declaration (not a call) and is completely inert — it does not invoke `getPreopDriverId` and the return value is discarded. It appears to be a cut-and-paste residue. Although this is primarily a code-quality issue, it constitutes misleading inline documentation because a reader of `getPreopDriverIdIndex` will assume this declaration serves a purpose.

**Fix:** Remove the dead declaration at line 433. Add a brief comment to `getPreopDriverIdIndex` explaining that it returns `-1` when the ID is not found or when `id == 0`.

---

**A04-9** · LOW · No documentation on `crctable.cpp` lookup tables and no header file

**Description:** `crctable.cpp` exposes `crc32Table` and `crc16Table` via `extern` linkage with no corresponding header file. Any translation unit that uses these tables must redeclare them manually using `extern const quint32/quint16`. There are no comments identifying the CRC polynomial, the bit ordering (reflected vs. normal), or the intended usage context (which functions should call these). The redundant `extern` declarations at the top of the same file that defines the symbols (lines 3-4) are also unexplained.

**Fix:** Create `app/crctable.h` with `extern` declarations and a doc comment identifying the CRC-32 polynomial (0xEDB88320, reflected), the CRC-16 variant (nibble-at-a-time), and which code modules consume each table. Remove the redundant self-`extern` declarations from `crctable.cpp`.

---

**A04-10** · LOW · `CigCanConfig` union overlay is completely undocumented

**Description:** The `CigCanConfig` struct (lines 195-243, `cigconfigs.h`) contains an anonymous union whose first member is a large array of `unused*` fields and whose second member (`CanSignalInfo`) is the live data. The purpose of the union overlay — presumably backward-compatibility with an older on-disk or on-wire layout — is nowhere explained. Field names `unused1` through `unused10` provide no context. The struct has no doc comment.

**Fix:** Add a block comment above `CigCanConfig` explaining: the struct's purpose (CAN bus configuration storage), the role of the union (legacy layout compatibility or reserved space), and ideally the version of the configuration format it corresponds to.

---

**A04-11** · LOW · `MaintLockedCode` hex values undocumented

**Description:** The `MaintLockedCode` enum (lines 142-148, `cigconfigs.h`) uses non-sequential hex values (`0xea`, `0xfb`, `0xfd`, `0xfe`) with no explanation. It is unclear whether these are protocol wire values, persistent storage codes, or internal FSM states. There is no doc comment on the enum.

**Fix:** Add a comment above the enum stating the context in which these values appear (wire protocol, EEPROM, FSM), the significance of each hex value, and why they are non-sequential.

---

**A04-12** · INFO · Inline getters lack doc comments

**Description:** The five bulk-getter methods — `driverIds()`, `masterIds()`, `superIds()`, `techIds()`, `preopDriverIds()` (lines 25-29) — and the five indexed single-item getters — `driverId(int)`, `masterId(int)`, `superId(int)`, `techId(int)`, and the lookup `masterIdById(quint64)` (lines 31-35) — have no doc comments. For the inline single-item getters, the return value on out-of-range `index` (a zero-initialised struct) is not documented.

**Fix:** Add brief doc comments to the indexed getters noting the out-of-range return value. The bulk list getters are self-explanatory and require only a single-line description.

---

**A04-13** · INFO · `LeaderCmd` second block lacks the "register string in hash" reminder

**Description:** At line 102, a comment reads `// note: register the string in hash on new command adding`. This reminder applies to the entire `LeaderCmd` enum but appears only above the first block of enumerators. A second block of enumerators begins after `CMD_UNKNOWN = 0xff` (line 121) with no such reminder. A developer adding a command to the second block could miss the registration requirement.

**Fix:** Move the registration reminder to the enum-level doc comment rather than embedding it inside the enumerator list, or repeat it at the start of the second block.

---

## Summary Table

| ID | Severity | Title |
|---|---|---|
| A04-1 | HIGH | No documentation on security-critical authentication methods |
| A04-2 | HIGH | No documentation on ID-list file I/O methods |
| A04-3 | MEDIUM | `savePreopDriverIds` date-filtering purge behaviour undocumented |
| A04-4 | MEDIUM | Undocumented sentinel: `id == 1` is never authorised in any list |
| A04-5 | MEDIUM | `masterIdById` undocumented option-field rewrite |
| A04-6 | LOW | No documentation on checksum methods |
| A04-7 | LOW | No documentation on `addPreopDriverId` upsert behaviour |
| A04-8 | LOW | Dead forward-declaration inside `getPreopDriverIdIndex` body |
| A04-9 | LOW | No documentation on CRC lookup tables; no header file |
| A04-10 | LOW | `CigCanConfig` union overlay completely undocumented |
| A04-11 | LOW | `MaintLockedCode` hex values undocumented |
| A04-12 | INFO | Inline getters lack doc comments; out-of-range return value undocumented |
| A04-13 | INFO | `LeaderCmd` registration reminder missing from second enumerator block |
